(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{iHEJ:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),s=a("h74D"),i=a("17x9"),o=a.n(i),c=a("je4i"),l=a.n(c),d=a("Vl3Y"),u=a("kLXV"),p=a("2/Rp"),m=a("BMrR"),y=a("kPKH"),h=a("5rEg"),f=a("mr32"),E=a("qvGC"),g=a("T2ns"),D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};const R=d.a.Item,v=d.a.create()(e=>{const{modalVisible:t,handleModalVisible:a,formValues:n,formTitle:s,handleCreate:i,form:o}=e;return r.a.createElement(u.a,{visible:t,footer:[r.a.createElement(p.a,{key:"submit",htmlType:"submit",type:"primary",onClick:()=>{o.validateFields((e,t)=>{e||(o.resetFields(),i(t))})}},"Submit")],title:[r.a.createElement("span",{key:l.a.generate()},r.a.createElement("h3",{className:"header-title mb-0"},`${s} USER GROUP`),r.a.createElement("small",{className:"small-3 header-title"},"Silahkan isi data yang sesuai"))],onCancel:()=>a()},r.a.createElement(m.a,{gutter:25},r.a.createElement(y.a,{span:25},r.a.createElement(R,{style:{display:"none"}},o.getFieldDecorator("id",{initialValue:n.key||""})(r.a.createElement(h.a,null))),r.a.createElement(R,{label:"Name"},o.getFieldDecorator("Name",{rules:[{required:!0,message:"Please input your name!"}],initialValue:n.name||""})(r.a.createElement(h.a,{className:"form-control",size:"large",placeholder:"Name"}))))),r.a.createElement(m.a,{gutter:25},r.a.createElement(y.a,{span:25},r.a.createElement(R,{label:"Description"},o.getFieldDecorator("Description",{rules:[{required:!0,message:"Please input your description!"}],initialValue:n.desc||""})(r.a.createElement(h.a,{className:"form-control",size:"large",placeholder:"Description"}))))))});class b extends n.Component{constructor(e){super(e),this.state={}}render(){return r.a.createElement(v,D({},this.props,this.state))}}b.columns=[{title:"Name",dataIndex:"name",key:"name",width:"300px",sorter:(e,t)=>e.name.length-t.name.length,sortDirections:["descend"]},{title:"Description",dataIndex:"desc",key:"desc",width:"500px",sorter:(e,t)=>e.desc.length-t.desc.length,sortDirections:["descend","ascend"]},{title:"Status",dataIndex:"status",key:"status",className:"text-center",width:"100px",sorter:(e,t)=>e.status.length-t.status.length,sortDirections:["descend","ascend"],render:e=>{const t="Active"===e?"green":"volcano";return r.a.createElement(f.a,{color:t,key:e},e)}}],b.dataTable=(e=>{const t=[];return e.length>0&&e.map(e=>t.push({key:e[0],name:e[1],desc:e[2],status:"A"===e[3]?"Active":"Terminated"})),t}),b.propTypes={listData:o.a.func.isRequired,saveData:o.a.func.isRequired,showData:o.a.func.isRequired,updateData:o.a.func.isRequired,deleteData:o.a.func.isRequired};t.default=Object(s.connect)(({userGroup:e})=>({data:e}),{listData:E.b,saveData:E.c,showData:E.d,updateData:E.e,deleteData:E.a})(Object(g.a)({columns:b.columns,dataTable:b.dataTable,headTitle:"User Group"})(b))},qvGC:function(e,t,a){"use strict";a.d(t,"b",function(){return d}),a.d(t,"c",function(){return u}),a.d(t,"e",function(){return p}),a.d(t,"d",function(){return m}),a.d(t,"a",function(){return y});var n=a("zr5I"),r=a.n(n),s=a("iho4");function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,s){try{var i=t[r](s),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}const o=localStorage.getItem("key"),c=()=>(()=>{var e=i(function*(e){e({type:"DATA_REQUEST"})});return function(t){return e.apply(this,arguments)}})(),l=e=>t=>{t({type:"ERROR",payload:e})},d=e=>t=>{t(c());const a={x:"1",key:`${o}`},n=Object.assign({},a,e);r.a.post(`${s.API}:acl:group`,n).then(e=>{"200"===e.data.r?t({type:"LIST_USER_GROUP",payload:e.data.atom,filParam:n}):"401"===e.data.r&&t(l(e.data.m))})},u=e=>t=>{t(c());const a={x:"101",id:"0",key:`${o}`,Name:e.Name,Description:e.Description,Active:"A"};r.a.post(`${s.API}:acl:group`,a).then(e=>{"200"===e.data.r?t({type:"SAVE_USER_GROUP",payload:e.data}):"401"===e.data.r&&t(l(e.data.m))})},p=(e,t)=>a=>{a(c());const n={x:"101",id:e,key:`${o}`,Name:t.Name,Description:t.Description};r.a.post(`${s.API}:acl:group`,n).then(e=>{"200"===e.data.r?a({type:"UPDATE_USER_GROUP",payload:e.data}):"401"===e.data.r&&a(l(e.data.m))})},m=e=>(()=>{var t=i(function*(t){t(c());const a={x:"50",id:e,key:`${o}`};yield r.a.post(`${s.API}:acl:group`,a).then(function(e){"200"===e.data.r?t({type:"SHOW_USER_GROUP",payload:e.data.atom.data}):"401"===e.data.r&&t(l(e.data.m))})});return function(e){return t.apply(this,arguments)}})(),y=e=>t=>{t(c());const a={x:"201",id:e,key:`${o}`};r.a.post(`${s.API}:acl:group`,a).then(e=>{"200"===e.data.r?t({type:"DELETE_USER_GROUP",payload:e.data}):"401"===e.data.r&&t(l(e.data.m))})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvbWFzdGVyL2FjbC91c2VyR3JvdXAvVXNlckdyb3VwLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvYWN0aW9ucy9hY2wvdXNlckdyb3VwQWN0aW9ucy5qc3giXSwibmFtZXMiOlsiRm9ybUl0ZW0iLCJGb3JtIiwiSXRlbSIsIkZvcm1Vc2VyR3JvdXAiLCJjcmVhdGUiLCJwcm9wcyIsIm1vZGFsVmlzaWJsZSIsImhhbmRsZU1vZGFsVmlzaWJsZSIsImZvcm1WYWx1ZXMiLCJmb3JtVGl0bGUiLCJoYW5kbGVDcmVhdGUiLCJmb3JtIiwicmVhY3RfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzBfX19kZWZhdWx0IiwiYSIsImNyZWF0ZUVsZW1lbnQiLCJhbnRkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18iLCJ2aXNpYmxlIiwiZm9vdGVyIiwiYW50ZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fIiwia2V5IiwiaHRtbFR5cGUiLCJ0eXBlIiwib25DbGljayIsInZhbGlkYXRlRmllbGRzIiwiZXJyIiwiZmllbGRWYWx1ZSIsInJlc2V0RmllbGRzIiwidGl0bGUiLCJzaG9ydElkIiwiZ2VuZXJhdGUiLCJjbGFzc05hbWUiLCJvbkNhbmNlbCIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyIsImd1dHRlciIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyIsInNwYW4iLCJzdHlsZSIsImRpc3BsYXkiLCJnZXRGaWVsZERlY29yYXRvciIsImluaXRpYWxWYWx1ZSIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyIsImxhYmVsIiwicnVsZXMiLCJyZXF1aXJlZCIsIm1lc3NhZ2UiLCJuYW1lIiwic2l6ZSIsInBsYWNlaG9sZGVyIiwiZGVzYyIsIlVzZXJNYW5hZ2VtZW50IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJzdXBlciIsInRoaXMiLCJzdGF0ZSIsInJlbmRlciIsIl9leHRlbmRzIiwiY29sdW1ucyIsImRhdGFJbmRleCIsIndpZHRoIiwic29ydGVyIiwiYiIsImxlbmd0aCIsInNvcnREaXJlY3Rpb25zIiwic3RhdHVzIiwidGFncyIsImNvbG9yIiwiYW50ZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfMTBfXyIsImRhdGFUYWJsZSIsImRhdGEiLCJtYXAiLCJ2YWwiLCJwdXNoIiwicHJvcFR5cGVzIiwibGlzdERhdGEiLCJQcm9wVHlwZXMiLCJmdW5jIiwiaXNSZXF1aXJlZCIsInNhdmVEYXRhIiwic2hvd0RhdGEiLCJ1cGRhdGVEYXRhIiwiZGVsZXRlRGF0YSIsImNvbm5lY3QiLCJ1c2VyR3JvdXAiLCJEYXRhVGFibGUiLCJoZWFkVGl0bGUiLCJ2YWxpZEtleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJkYXRhUmVxdWVzdCIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvciIsImRpc3BhdGNoIiwiX3giLCJhcHBseSIsImFyZ3VtZW50cyIsImVycm9yIiwicGF5bG9hZCIsInBhciIsInBhcmFtIiwieCIsImZpbFBhcmFtIiwiT2JqZWN0IiwiYXNzaWduIiwiYXhpb3MiLCJwb3N0IiwiQVBJIiwidGhlbiIsInJlcyIsInIiLCJhdG9tIiwibSIsImlkIiwiTmFtZSIsIkRlc2NyaXB0aW9uIiwiQWN0aXZlIiwiaWRVc2VyIiwiX3JlZjIiLCJfeDIiLCJpZEJhbmsiXSwibWFwcGluZ3MiOiJpY0FjQSxNQUFNQSxFQUFXQyxJQUFLQyxLQUVoQkMsRUFBZ0JGLElBQUtHLFFBQUxILENBQWNJLElBQ2xDLE1BQU1DLGFBQUVBLEVBQUZDLG1CQUFnQkEsRUFBaEJDLFdBQW9DQSxFQUFwQ0MsVUFBZ0RBLEVBQWhEQyxhQUEyREEsRUFBM0RDLEtBQXlFQSxHQUFTTixFQVF4RixPQUNFTyxFQUFBQyxFQUFBQyxjQUFDQyxFQUFBLEVBQUQsQ0FDRUMsUUFBU1YsRUFDVFcsT0FBUSxDQUNOTCxFQUFBQyxFQUFBQyxjQUFDSSxFQUFBLEVBQUQsQ0FBUUMsSUFBSSxTQUFT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akIsRUFBU0ksRUFBTVksRUFBSXZDLEtBQUswQyxRQWROLGdCQUFBTyxHQUFBLE9BQUFELEVBQUF2QixNQUFBekMsS0FBQTBDLGFBQUFxQixHQW9DWG5DLEVBQWFzQyxHQUFVM0IsSUFDbENBLEVBQVNILEtBQ1QsTUFBTVUsRUFBUSxDQUNaQyxFQUFHLE1BQ0hZLEdBQUlPLEVBQ0pwRyxPQUFRbUUsS0FFVmtCLElBQU1DLFFBQVFDLGtCQUFpQlAsR0FBT1EsS0FBS0MsSUFDdEIsUUFBZkEsRUFBSXZDLEtBQUt3QyxFQUNYakIsRUFBUyxDQUNQdkUsS0FBTSxvQkFDTjRFLFFBQVNXLEVBQUl2QyxPQUVTLFFBQWZ1QyxFQUFJdkMsS0FBS3dDLEdBQ2xCakIsRUFBU0ksRUFBTVksRUFBSXZDLEtBQUswQyIsImZpbGUiOiI1LmluZGV4LjJlYTk3Y2FiMGRlN2E0YmNmOWMzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHNob3J0SWQgZnJvbSAnc2hvcnRpZCc7XG5pbXBvcnQgeyBCdXR0b24sIElucHV0LCBSb3csIENvbCwgRm9ybSwgTW9kYWwsIFRhZyB9IGZyb20gJ2FudGQnO1xuaW1wb3J0IHtcbiAgbGlzdERhdGEsXG4gIHNhdmVEYXRhLFxuICBzaG93RGF0YSxcbiAgdXBkYXRlRGF0YSxcbiAgZGVsZXRlRGF0YVxufSBmcm9tICcuLi8uLi8uLi8uLi9hY3Rpb25zL2FjbC91c2VyR3JvdXBBY3Rpb25zJztcbmltcG9ydCBEYXRhVGFibGUgZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9ob2MvRGF0YVRhYmxlJztcblxuY29uc3QgRm9ybUl0ZW0gPSBGb3JtLkl0ZW07XG5cbmNvbnN0IEZvcm1Vc2VyR3JvdXAgPSBGb3JtLmNyZWF0ZSgpKHByb3BzID0+IHtcbiAgY29uc3QgeyBtb2RhbFZpc2libGUsIGhhbmRsZU1vZGFsVmlzaWJsZSwgZm9ybVZhbHVlcywgZm9ybVRpdGxlLCBoYW5kbGVDcmVhdGUsIGZvcm0gfSA9IHByb3BzO1xuICBjb25zdCBva0hhbmRsZSA9ICgpID0+IHtcbiAgICBmb3JtLnZhbGlkYXRlRmllbGRzKChlcnIsIGZpZWxkVmFsdWUpID0+IHtcbiAgICAgIGlmIChlcnIpIHJldHVybjtcbiAgICAgIGZvcm0ucmVzZXRGaWVsZHMoKTtcbiAgICAgIGhhbmRsZUNyZWF0ZShmaWVsZFZhbHVlKTtcbiAgICB9KTtcbiAgfTtcbiAgcmV0dXJuIChcbiAgICA8TW9kYWxcbiAgICAgIHZpc2libGU9e21vZGFsVmlzaWJsZX1cbiAgICAgIGZvb3Rlcj17W1xuICAgICAgICA8QnV0dG9uIGtleT1cInN1Ym1pdFwiIGh0bWxUeXBlPVwic3VibWl0XCIgdHlwZT1cInByaW1hcnlcIiBvbkNsaWNrPXtva0hhbmRsZX0+XG4gICAgICAgICAge2BTdWJtaXRgfVxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIF19XG4gICAgICB0aXRsZT17W1xuICAgICAgICA8c3BhbiBrZXk9e3Nob3J0SWQuZ2VuZXJhdGUoKX0+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImhlYWRlci10aXRsZSBtYi0wXCI+e2Ake2Zvcm1UaXRsZX0gVVNFUiBHUk9VUGB9PC9oMz5cbiAgICAgICAgICA8c21hbGwgY2xhc3NOYW1lPVwic21hbGwtMyBoZWFkZXItdGl0bGVcIj5TaWxhaGthbiBpc2kgZGF0YSB5YW5nIHNlc3VhaTwvc21hbGw+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIF19XG4gICAgICBvbkNhbmNlbD17KCkgPT4gaGFuZGxlTW9kYWxWaXNpYmxlKCl9XG4gICAgPlxuICAgICAgPFJvdyBndXR0ZXI9ezI1fT5cbiAgICAgICAgPENvbCBzcGFuPXsyNX0+XG4gICAgICAgICAgPEZvcm1JdGVtIHN0eWxlPXt7IGRpc3BsYXk6ICdub25lJyB9fT5cbiAgICAgICAgICAgIHtmb3JtLmdldEZpZWxkRGVjb3JhdG9yKCdpZCcsIHtcbiAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBmb3JtVmFsdWVzLmtleSB8fCAnJ1xuICAgICAgICAgICAgfSkoPElucHV0IC8+KX1cbiAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgIDxGb3JtSXRlbSBsYWJlbD1cIk5hbWVcIj5cbiAgICAgICAgICAgIHtmb3JtLmdldEZpZWxkRGVjb3JhdG9yKCdOYW1lJywge1xuICAgICAgICAgICAgICBydWxlczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdQbGVhc2UgaW5wdXQgeW91ciBuYW1lIScgfV0sXG4gICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogZm9ybVZhbHVlcy5uYW1lIHx8ICcnXG4gICAgICAgICAgICB9KSg8SW5wdXQgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCJOYW1lXCIgLz4pfVxuICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgIDwvQ29sPlxuICAgICAgPC9Sb3c+XG4gICAgICA8Um93IGd1dHRlcj17MjV9PlxuICAgICAgICA8Q29sIHNwYW49ezI1fT5cbiAgICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9XCJEZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAge2Zvcm0uZ2V0RmllbGREZWNvcmF0b3IoJ0Rlc2NyaXB0aW9uJywge1xuICAgICAgICAgICAgICBydWxlczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdQbGVhc2UgaW5wdXQgeW91ciBkZXNjcmlwdGlvbiEnIH1dLFxuICAgICAgICAgICAgICBpbml0aWFsVmFsdWU6IGZvcm1WYWx1ZXMuZGVzYyB8fCAnJ1xuICAgICAgICAgICAgfSkoPElucHV0IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHNpemU9XCJsYXJnZVwiIHBsYWNlaG9sZGVyPVwiRGVzY3JpcHRpb25cIiAvPil9XG4gICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgPC9Db2w+XG4gICAgICA8L1Jvdz5cbiAgICA8L01vZGFsPlxuICApO1xufSk7XG5cbmNsYXNzIFVzZXJNYW5hZ2VtZW50IGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHt9O1xuICB9XG5cbiAgc3RhdGljIGNvbHVtbnMgPSBbXG4gICAge1xuICAgICAgdGl0bGU6ICdOYW1lJyxcbiAgICAgIGRhdGFJbmRleDogJ25hbWUnLFxuICAgICAga2V5OiAnbmFtZScsXG4gICAgICB3aWR0aDogJzMwMHB4JyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEubmFtZS5sZW5ndGggLSBiLm5hbWUubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCddXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ0Rlc2NyaXB0aW9uJyxcbiAgICAgIGRhdGFJbmRleDogJ2Rlc2MnLFxuICAgICAga2V5OiAnZGVzYycsXG4gICAgICB3aWR0aDogJzUwMHB4JyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEuZGVzYy5sZW5ndGggLSBiLmRlc2MubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXVxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdTdGF0dXMnLFxuICAgICAgZGF0YUluZGV4OiAnc3RhdHVzJyxcbiAgICAgIGtleTogJ3N0YXR1cycsXG4gICAgICBjbGFzc05hbWU6ICd0ZXh0LWNlbnRlcicsXG4gICAgICB3aWR0aDogJzEwMHB4JyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEuc3RhdHVzLmxlbmd0aCAtIGIuc3RhdHVzLmxlbmd0aCxcbiAgICAgIHNvcnREaXJlY3Rpb25zOiBbJ2Rlc2NlbmQnLCAnYXNjZW5kJ10sXG4gICAgICByZW5kZXI6IHRhZ3MgPT4ge1xuICAgICAgICBjb25zdCBjb2xvciA9IHRhZ3MgPT09ICdBY3RpdmUnID8gJ2dyZWVuJyA6ICd2b2xjYW5vJztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8VGFnIGNvbG9yPXtjb2xvcn0ga2V5PXt0YWdzfT5cbiAgICAgICAgICAgIHt0YWdzfVxuICAgICAgICAgIDwvVGFnPlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgXTtcblxuICBzdGF0aWMgZGF0YVRhYmxlID0gZGF0YSA9PiB7XG4gICAgY29uc3QgZGF0YVRhYmxlID0gW107XG4gICAgZGF0YS5sZW5ndGggPiAwICYmXG4gICAgICBkYXRhLm1hcCh2YWwgPT5cbiAgICAgICAgZGF0YVRhYmxlLnB1c2goe1xuICAgICAgICAgIGtleTogdmFsWzBdLFxuICAgICAgICAgIG5hbWU6IHZhbFsxXSxcbiAgICAgICAgICBkZXNjOiB2YWxbMl0sXG4gICAgICAgICAgc3RhdHVzOiB2YWxbM10gPT09ICdBJyA/ICdBY3RpdmUnIDogJ1Rlcm1pbmF0ZWQnXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIHJldHVybiBkYXRhVGFibGU7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8Rm9ybVVzZXJHcm91cCB7Li4udGhpcy5wcm9wc30gey4uLnRoaXMuc3RhdGV9IC8+O1xuICB9XG59XG5Vc2VyTWFuYWdlbWVudC5wcm9wVHlwZXMgPSB7XG4gIGxpc3REYXRhOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBzYXZlRGF0YTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgc2hvd0RhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHVwZGF0ZURhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGRlbGV0ZURhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn07XG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoeyB1c2VyR3JvdXAgfSkgPT4gKHsgZGF0YTogdXNlckdyb3VwIH0pO1xuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcbiAgbWFwU3RhdGVUb1Byb3BzLFxuICB7XG4gICAgbGlzdERhdGEsXG4gICAgc2F2ZURhdGEsXG4gICAgc2hvd0RhdGEsXG4gICAgdXBkYXRlRGF0YSxcbiAgICBkZWxldGVEYXRhXG4gIH1cbikoXG4gIERhdGFUYWJsZSh7XG4gICAgY29sdW1uczogVXNlck1hbmFnZW1lbnQuY29sdW1ucyxcbiAgICBkYXRhVGFibGU6IFVzZXJNYW5hZ2VtZW50LmRhdGFUYWJsZSxcbiAgICBoZWFkVGl0bGU6ICdVc2VyIEdyb3VwJ1xuICB9KShVc2VyTWFuYWdlbWVudClcbik7XG4iLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgQVBJIH0gZnJvbSAnLi4vLi4vY29uZmlnL2tleXMnO1xuXG5jb25zdCB2YWxpZEtleSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdrZXknKTtcbmV4cG9ydCBjb25zdCBkYXRhUmVxdWVzdCA9ICgpID0+IGFzeW5jIGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6ICdEQVRBX1JFUVVFU1QnXG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBlcnJvciA9IG1lc3NhZ2UgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogJ0VSUk9SJyxcbiAgICBwYXlsb2FkOiBtZXNzYWdlXG4gIH0pO1xufTtcbi8vIGxpc3QgdXNlclxuZXhwb3J0IGNvbnN0IGxpc3REYXRhID0gcGFyID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0geyB4OiAnMScsIGtleTogYCR7dmFsaWRLZXl9YCB9O1xuICBjb25zdCBmaWxQYXJhbSA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmFtLCBwYXIpO1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOmdyb3VwYCwgZmlsUGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUl9HUk9VUCcsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20sXG4gICAgICAgIGZpbFBhcmFtXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzYXZlRGF0YSA9IHBhciA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMTAxJyxcbiAgICBpZDogJzAnLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBOYW1lOiBwYXIuTmFtZSxcbiAgICBEZXNjcmlwdGlvbjogcGFyLkRlc2NyaXB0aW9uLFxuICAgIEFjdGl2ZTogJ0EnXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnU0FWRV9VU0VSX0dST1VQJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCB1cGRhdGVEYXRhID0gKGlkVXNlciwgcGFyKSA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMTAxJyxcbiAgICBpZDogaWRVc2VyLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBOYW1lOiBwYXIuTmFtZSxcbiAgICBEZXNjcmlwdGlvbjogcGFyLkRlc2NyaXB0aW9uXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnVVBEQVRFX1VTRVJfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNob3dEYXRhID0gaWRVc2VyID0+IGFzeW5jIGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICc1MCcsXG4gICAgaWQ6IGlkVXNlcixcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWBcbiAgfTtcbiAgYXdhaXQgYXhpb3MucG9zdChgJHtBUEl9OmFjbDpncm91cGAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdTSE9XX1VTRVJfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBmaWx0ZXJTdGF0dXMgPSBwYXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzUwJyxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgQWN0aXZlOiBwYXJcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDpncm91cGAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdMSVNUX1VTRVJfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZWxldGVEYXRhID0gaWRCYW5rID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcyMDEnLFxuICAgIGlkOiBpZEJhbmssXG4gICAga2V5OiBgJHt2YWxpZEtleX1gXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnREVMRVRFX1VTRVJfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLyBleHBvcnQgY29uc3QgdXNlckFkZERvbWFpbiA9IHVzZXJJZCA9PiBkaXNwYXRjaCA9PiB7XG4vLyAgIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuLy8gICBjb25zdCBwYXJhbSA9IHsgeDogJzUwMCcsIGtleTogYCR7dmFsaWRLZXl9YCwgZm9yOiAndXNlci1kb21haW4nLCBVc2VySUQ6IHVzZXJJZCB9O1xuLy8gICBheGlvcy5wb3N0KGAke0FQSX06YWNsOmdyb3VwYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbi8vICAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbi8vICAgICAgIGRpc3BhdGNoKHtcbi8vICAgICAgICAgdHlwZTogJ0xJU1RfVVNFUl9BRERfR1JPVVAnLFxuLy8gICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tXG4vLyAgICAgICB9KTtcbi8vICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4vLyAgICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4vLyAgICAgfVxuLy8gICB9KTtcbi8vIH07XG4iXSwic291cmNlUm9vdCI6IiJ9