(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{ZvhZ:function(e,t,a){"use strict";a.d(t,"b",function(){return d}),a.d(t,"d",function(){return m}),a.d(t,"f",function(){return p}),a.d(t,"e",function(){return u}),a.d(t,"a",function(){return h}),a.d(t,"c",function(){return E});var n=a("zr5I"),r=a.n(n),s=a("iho4");function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,s){try{var o=t[r](s),l=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}("next")})}}const l=localStorage.getItem("key"),c=()=>(()=>{var e=o(function*(e){e({type:"DATA_REQUEST"})});return function(t){return e.apply(this,arguments)}})(),i=e=>t=>{t({type:"ERROR",payload:e})},d=e=>t=>{t(c());const a={x:"1",key:`${l}`},n=Object.assign({},a,e);r.a.post(`${s.API}:acl:user`,n).then(e=>{"200"===e.data.r?t({type:"LIST_USER",payload:e.data.atom,filParam:n}):"401"===e.data.r&&t({type:"ERROR"})})},m=e=>t=>{t(c());const a={x:"101",id:"0",key:`${l}`,Name:e.Name,Description:e.Description,BranchID:e.BranchID,SalesID:e.SalesID,Active:"A"};r.a.post(`${s.API}:acl:user`,a).then(e=>{"200"===e.data.r?t({type:"SAVE_USER",payload:e.data}):"401"===e.data.r&&t(i(e.data.m))})},p=(e,t)=>a=>{a(c());const n={x:"101",id:e,key:`${l}`,Name:t.Name,Description:t.Description,BranchID:t.BranchID,SalesID:t.SalesID,Active:"A"};r.a.post(`${s.API}:acl:user`,n).then(e=>{"200"===e.data.r?a({type:"UPDATE_USER",payload:e.data}):"401"===e.data.r&&a(i(e.data.m))})},u=e=>(()=>{var t=o(function*(t){t(c());const a={x:"50",id:e,key:`${l}`};yield r.a.post(`${s.API}:acl:user`,a).then(function(e){"200"===e.data.r?t({type:"SHOW_USER",payload:e.data.atom.data}):"401"===e.data.r&&t(i(e.data.m))})});return function(e){return t.apply(this,arguments)}})(),h=e=>t=>{t(c());const a={x:"201",id:e,key:`${l}`};r.a.post(`${s.API}:acl:user`,a).then(e=>{"200"===e.data.r?t({type:"DELETE_USER",payload:e.data}):"401"===e.data.r&&t(i(e.data.m))})},E=()=>e=>{r.a.post(`${s.API}:acl:group`,{x:"1",key:`${l}`}).then(t=>{"200"===t.data.r&&e({type:"LIST_USER_GROUP",payload:t.data.atom.data})})}},iHEJ:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),s=a("h74D"),o=a("17x9"),l=a.n(o),c=a("je4i"),i=a.n(c),d=a("5rEg"),m=a("2fM7"),p=a("CtXQ"),u=a("2/Rp"),h=a("wCAj"),E=a("kLXV"),y=a("Vl3Y");class v extends n.Component{constructor(e){super(e),this.state={}}render(){const{getFieldDecorator:e}=this.props.form;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:"input-round",onSubmit:this.handleUserGroup},r.a.createElement(y.a.Item,{label:"Name"},e("name",{rules:[{required:!0,message:"Please input your name!"}]})(r.a.createElement(d.a,{className:"form-control",size:"large",placeholder:"Name"}))),r.a.createElement(y.a.Item,{label:"Description"},e("desc",{rules:[{required:!0,message:"Please input your description!"}]})(r.a.createElement(d.a,{className:"form-control",size:"large",placeholder:"Description"})))))}}v.propTypes={form:l.a.objectOf(l.a.any).isRequired};var f=y.a.create({name:"userGroup_form"})(v),g=a("ZvhZ"),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};const S=d.a.Search,b=m.a.Option,w=[{title:"Name",dataIndex:"name",key:"name",sorter:(e,t)=>e.name.length-t.name.length,sortDirections:["descend","ascend"]},{title:"Desc",dataIndex:"description",key:"description",sorter:(e,t)=>e.name.length-t.name.length,sortDirections:["descend","ascend"]},{title:"Status",dataIndex:"status",key:"status",sorter:(e,t)=>e.name.length-t.name.length,sortDirections:["descend","ascend"]},{title:"Action",key:"action",render:(e,t)=>r.a.createElement("div",{className:"gap-xy"},r.a.createElement("button",{type:"button",className:"btn btn-circle btn-xs btn-outline-light"},r.a.createElement(p.a,{type:"eye",style:{fontSize:"16px",color:"#FFF"},theme:"outlined"})),r.a.createElement("button",{type:"button",className:"btn btn-circle btn-xs btn-light"},r.a.createElement(p.a,{type:"edit",style:{fontSize:"16px"},theme:"outlined"})))}];class A extends n.Component{constructor(e){super(e),this.componentDidMount=(()=>{this.props.listUserGroup()}),this.showModal=(()=>{this.setState({visible:!0})}),this.handleCancel=(()=>{this.setState({visible:!1})}),this.state={loading:!1,visible:!1}}render(){const{listUserGroup:e}=this.props.user,t=[];e.length>0&&e.map(e=>t.push({key:i.a.generate(),name:e[1],description:e[2],status:"A"===e[3]?"Active":"Non Active"}));const{loading:a,visible:n}=this.state;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"font-weight-700 sub-title"},"USER GROUP"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"table-operations"},r.a.createElement("div",{className:"row no-gutters input-glass"},r.a.createElement("div",{className:"col-1 mr-3"},r.a.createElement(m.a,{showSearch:!0,className:"w-100",placeholder:"Status",optionFilterProp:"children",filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},r.a.createElement(b,{value:"1"},"Active"),r.a.createElement(b,{value:"2"},"Non Active"))),r.a.createElement("div",{className:"col-1 mr-3"},r.a.createElement(m.a,{showSearch:!0,className:"w-100",placeholder:"Branch",optionFilterProp:"children",filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},r.a.createElement(b,{value:"1"},"Active"),r.a.createElement(b,{value:"2"},"Non Active"))),r.a.createElement("div",{className:"col-1 mr-3"},r.a.createElement(m.a,{showSearch:!0,className:"w-100",placeholder:"Group",optionFilterProp:"children",filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},r.a.createElement(b,{value:"1"},"Active"),r.a.createElement(b,{value:"2"},"Non Active"))),r.a.createElement("div",{className:"col-2 mr-3"},r.a.createElement(S,{placeholder:"input search text",onSearch:e=>console.log(e),className:"w-100"})),r.a.createElement("div",{className:"col-1 mr-3"},r.a.createElement(u.a,{type:"primary",shape:"round",icon:"plus",onClick:this.showModal},"Create New")))),r.a.createElement("div",{className:"py-3"},r.a.createElement(h.a,N({},this.state,{pagination:{position:"top",defaultPageSize:10,pageSizeOptions:["20","50","100"],showSizeChanger:!0},columns:w,dataSource:t})))),r.a.createElement(E.a,{visible:n,title:[r.a.createElement("span",null,r.a.createElement("h3",{className:"header-title mb-0"},"CREATE NEW USER"),r.a.createElement("small",{className:"small-3"},"Silahkan isi data yang sesuai"))],onOk:this.handleOk,onCancel:this.handleCancel,footer:[r.a.createElement(u.a,{key:"submit",type:"primary",loading:a,onClick:this.handleOk},"Submit")]},r.a.createElement(f,null))))}}A.propTypes={user:l.a.objectOf(l.a.any).isRequired,listUserGroup:l.a.func.isRequired};t.default=Object(s.connect)(({user:e})=>({user:e}),{listUserGroup:g.c})(A)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWN0aW9ucy91c2VyQWN0aW9ucy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL21hc3Rlci9hY2wvdXNlckdyb3VwL1VzZXJHcm91cEZvcm0uanN4Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9tYXN0ZXIvYWNsL3VzZXJHcm91cC9Vc2VyR3JvdXAuanN4Il0sIm5hbWVzIjpbInZhbGlkS2V5IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImRhdGFSZXF1ZXN0IiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiZGlzcGF0Y2giLCJ0eXBlIiwiX3giLCJhcHBseSIsInRoaXMiLCJhcmd1bWVudHMiLCJlcnJvciIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwibGlzdERhdGEiLCJwYXIiLCJwYXJhbSIsIngiLCJrZXkiLCJmaWxQYXJhbSIsIk9iamVjdCIsImFzc2lnbiIsImF4aW9zIiwicG9zdCIsIkFQSSIsInRoZW4iLCJyZXMiLCJkYXRhIiwiciIsImF0b20iLCJzYXZlRGF0YSIsImlkIiwiTmFtZSIsIkRlc2NyaXB0aW9uIiwiQnJhbmNoSUQiLCJTYWxlc0lEIiwiQWN0aXZlIiwibSIsInVwZGF0ZURhdGEiLCJpZFVzZXIiLCJzaG93RGF0YSIsIl9yZWYyIiwiX3gyIiwiZGVsZXRlRGF0YSIsImlkQmFuayIsImxpc3RVc2VyR3JvdXAiLCJVc2VyR3JvdXBGb3JtIiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJwcm9wcyIsInN1cGVyIiwic3RhdGUiLCJyZW5kZXIiLCJnZXRGaWVsZERlY29yYXRvciIsImZvcm0iLCJleHRlcm5hbF9SZWFjdF9kZWZhdWx0IiwiYSIsImNyZWF0ZUVsZW1lbnQiLCJGcmFnbWVudCIsImVzX2Zvcm0iLCJjbGFzc05hbWUiLCJvblN1Ym1pdCIsImhhbmRsZVVzZXJHcm91cCIsIkl0ZW0iLCJsYWJlbCIsInJ1bGVzIiwicmVxdWlyZWQiLCJpbnB1dCIsInNpemUiLCJwbGFjZWhvbGRlciIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsIm9iamVjdE9mIiwiYW55IiwiaXNSZXF1aXJlZCIsInVzZXJHcm91cEZyb20iLCJGb3JtIiwiY3JlYXRlIiwibmFtZSIsIlNlYXJjaHMiLCJJbnB1dCIsIlNlYXJjaCIsIk9wdGlvbnMiLCJTZWxlY3QiLCJPcHRpb24iLCJjb2x1bW5zIiwidGl0bGUiLCJkYXRhSW5kZXgiLCJzb3J0ZXIiLCJiIiwibGVuZ3RoIiwic29ydERpcmVjdGlvbnMiLCJ0ZXh0IiwicmVjb3JkIiwiaWNvbiIsInN0eWxlIiwiZm9udFNpemUiLCJjb2xvciIsInRoZW1lIiwiVXNlckdyb3VwIiwiY29tcG9uZW50RGlkTW91bnQiLCJzaG93TW9kYWwiLCJzZXRTdGF0ZSIsInZpc2libGUiLCJoYW5kbGVDYW5jZWwiLCJsb2FkaW5nIiwidXNlciIsIm1hcCIsInZhbCIsInB1c2giLCJzaG9ySWQiLCJnZW5lcmF0ZSIsImRlc2NyaXB0aW9uIiwic3RhdHVzIiwiZXNfc2VsZWN0Iiwic2hvd1NlYXJjaCIsIm9wdGlvbkZpbHRlclByb3AiLCJmaWx0ZXJPcHRpb24iLCJvcHRpb24iLCJjaGlsZHJlbiIsInRvTG93ZXJDYXNlIiwiaW5kZXhPZiIsInZhbHVlIiwib25TZWFyY2giLCJjb25zb2xlIiwibG9nIiwiZXNfYnV0dG9uIiwic2hhcGUiLCJvbkNsaWNrIiwidGFibGUiLCJfZXh0ZW5kcyIsInBhZ2luYXRpb24iLCJwb3NpdGlvbiIsImRlZmF1bHRQYWdlU2l6ZSIsInBhZ2VTaXplT3B0aW9ucyIsInNob3dTaXplQ2hhbmdlciIsImRhdGFTb3VyY2UiLCJtb2RhbCIsIm9uT2siLCJoYW5kbGVPayIsIm9uQ2FuY2VsIiwiZm9vdGVyIiwidXNlckdyb3VwX1VzZXJHcm91cEZvcm0iLCJmdW5jIiwiY29ubmVjdCJdLCJtYXBwaW5ncyI6IjJsQkFHQSxNQUFNQSxFQUFXQyxhQUFhQyxRQUFRLE9BQ3pCQyxFQUFjLGNBQUFDLEVBQUFDLEVBQU0sVUFBTUMsR0FDckNBLEVBQVMsQ0FDUEMsS0FB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Q0VsQyxRQUFTQSxFQUNUakIsTUFBTyxDQUNML0IsRUFBQUMsRUFBQUMsY0FBQSxZQUNFRixFQUFBQyxFQUFBQyxjQUFBLE1BQUlHLFVBQVUscUJBQWQsbUJBQ0FMLEVBQUFDLEVBQUFDLGNBQUEsU0FBT0csVUFBVSxXQUFqQixtQ0FHSjhFLEtBQU1qSSxLQUFLa0ksU0FDWEMsU0FBVW5JLEtBQUsrRixhQUNmcUMsT0FBUSxDQUNOdEYsRUFBQUMsRUFBQUMsY0FBQ3FFLEVBQUEsRUFBRCxDQUFRNUcsSUFBSSxTQUFTWixLQUFLLFVBQVVtRyxRQUFTQSxFQUFTdUIsUUFBU3ZILEtBQUtrSSxVQUNoRSxZQUlOcEYsRUFBQUMsRUFBQUMsY0FBQ3FGLEVBQUQsVUFPWjNDLEVBQVU3QixVQUFZLENBQ3BCb0MsS0FBTW5DLElBQVVDLFNBQVNELElBQVVFLEtBQUtDLFdBQ3hDN0IsY0FBZTBCLElBQVV3RSxLQUFLckUsWUFHakJzRSw0QkFEUyxFQUFHdEMsV0FBSCxDQUFpQkEsU0FHdkMsQ0FBRTdELG1CQUZXbUcsQ0FHYjdDIiwiZmlsZSI6IjIuYnVuZGxlLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IEFQSSB9IGZyb20gJy4uL2NvbmZpZy9rZXlzJztcblxuY29uc3QgdmFsaWRLZXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgna2V5Jyk7XG5leHBvcnQgY29uc3QgZGF0YVJlcXVlc3QgPSAoKSA9PiBhc3luYyBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiAnREFUQV9SRVFVRVNUJ1xuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZXJyb3IgPSBtZXNzYWdlID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6ICdFUlJPUicsXG4gICAgcGF5bG9hZDogbWVzc2FnZVxuICB9KTtcbn07XG4vLyBsaXN0IHVzZXJcbmV4cG9ydCBjb25zdCBsaXN0RGF0YSA9IHBhciA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHsgeDogJzEnLCBrZXk6IGAke3ZhbGlkS2V5fWAgfTtcbiAgY29uc3QgZmlsUGFyYW0gPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSwgcGFyKTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgZmlsUGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICAvLyBjb25zb2xlLmxvZyhyZXMuZGF0YS5hdG9tKTtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20sXG4gICAgICAgIGZpbFBhcmFtXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdFUlJPUidcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2F2ZURhdGEgPSBwYXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzEwMScsXG4gICAgaWQ6ICcwJyxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgTmFtZTogcGFyLk5hbWUsXG4gICAgRGVzY3JpcHRpb246IHBhci5EZXNjcmlwdGlvbixcbiAgICBCcmFuY2hJRDogcGFyLkJyYW5jaElELFxuICAgIFNhbGVzSUQ6IHBhci5TYWxlc0lELFxuICAgIEFjdGl2ZTogJ0EnXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdTQVZFX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHVwZGF0ZURhdGEgPSAoaWRVc2VyLCBwYXIpID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcxMDEnLFxuICAgIGlkOiBpZFVzZXIsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gLFxuICAgIE5hbWU6IHBhci5OYW1lLFxuICAgIERlc2NyaXB0aW9uOiBwYXIuRGVzY3JpcHRpb24sXG4gICAgQnJhbmNoSUQ6IHBhci5CcmFuY2hJRCxcbiAgICBTYWxlc0lEOiBwYXIuU2FsZXNJRCxcbiAgICBBY3RpdmU6ICdBJ1xuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnVVBEQVRFX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNob3dEYXRhID0gaWRVc2VyID0+IGFzeW5jIGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICc1MCcsXG4gICAgaWQ6IGlkVXNlcixcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWBcbiAgfTtcbiAgYXdhaXQgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1NIT1dfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20uZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGZpbHRlclN0YXR1cyA9IHBhciA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnNTAnLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBBY3RpdmU6IHBhclxuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnTElTVF9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGEuYXRvbS5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVsZXRlRGF0YSA9IGlkQmFuayA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMjAxJyxcbiAgICBpZDogaWRCYW5rLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YFxuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnREVMRVRFX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLyB1c2VyIGdyb3VwXG5leHBvcnQgY29uc3QgbGlzdFVzZXJHcm91cCA9ICgpID0+IGRpc3BhdGNoID0+IHtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDpncm91cGAsIHsgeDogJzEnLCBrZXk6IGAke3ZhbGlkS2V5fWAgfSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnTElTVF9VU0VSX0dST1VQJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGEuYXRvbS5kYXRhXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IEZvcm0sIElucHV0IH0gZnJvbSAnYW50ZCc7XG5cbmNsYXNzIFVzZXJHcm91cEZvcm0gZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge307XG4gIH1cblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBnZXRGaWVsZERlY29yYXRvciB9ID0gdGhpcy5wcm9wcy5mb3JtO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxGb3JtIGNsYXNzTmFtZT1cImlucHV0LXJvdW5kXCIgb25TdWJtaXQ9e3RoaXMuaGFuZGxlVXNlckdyb3VwfT5cbiAgICAgICAgICA8Rm9ybS5JdGVtIGxhYmVsPVwiTmFtZVwiPlxuICAgICAgICAgICAge2dldEZpZWxkRGVjb3JhdG9yKCduYW1lJywge1xuICAgICAgICAgICAgICBydWxlczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdQbGVhc2UgaW5wdXQgeW91ciBuYW1lIScgfV1cbiAgICAgICAgICAgIH0pKDxJbnB1dCBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBzaXplPVwibGFyZ2VcIiBwbGFjZWhvbGRlcj1cIk5hbWVcIiAvPil9XG4gICAgICAgICAgPC9Gb3JtLkl0ZW0+XG4gICAgICAgICAgPEZvcm0uSXRlbSBsYWJlbD1cIkRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICB7Z2V0RmllbGREZWNvcmF0b3IoJ2Rlc2MnLCB7XG4gICAgICAgICAgICAgIHJ1bGVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCB5b3VyIGRlc2NyaXB0aW9uIScgfV1cbiAgICAgICAgICAgIH0pKDxJbnB1dCBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBzaXplPVwibGFyZ2VcIiBwbGFjZWhvbGRlcj1cIkRlc2NyaXB0aW9uXCIgLz4pfVxuICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICA8L0Zvcm0+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cbn1cblVzZXJHcm91cEZvcm0ucHJvcFR5cGVzID0ge1xuICBmb3JtOiBQcm9wVHlwZXMub2JqZWN0T2YoUHJvcFR5cGVzLmFueSkuaXNSZXF1aXJlZFxufTtcbmNvbnN0IHVzZXJHcm91cEZyb20gPSBGb3JtLmNyZWF0ZSh7IG5hbWU6ICd1c2VyR3JvdXBfZm9ybScgfSkoVXNlckdyb3VwRm9ybSk7XG5leHBvcnQgZGVmYXVsdCB1c2VyR3JvdXBGcm9tO1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHNob3JJZCBmcm9tICdzaG9ydGlkJztcbmltcG9ydCB7IFNlbGVjdCwgTW9kYWwsIElucHV0LCBCdXR0b24sIFRhYmxlLCBJY29uIH0gZnJvbSAnYW50ZCc7XG5pbXBvcnQgVXNlckdyb3VwRm9ybSBmcm9tICcuL1VzZXJHcm91cEZvcm0nO1xuaW1wb3J0IHsgbGlzdFVzZXJHcm91cCB9IGZyb20gJy4uLy4uLy4uLy4uL2FjdGlvbnMvdXNlckFjdGlvbnMnO1xuXG5jb25zdCBTZWFyY2hzID0gSW5wdXQuU2VhcmNoO1xuY29uc3QgT3B0aW9ucyA9IFNlbGVjdC5PcHRpb247XG5jb25zdCBjb2x1bW5zID0gW1xuICB7XG4gICAgdGl0bGU6ICdOYW1lJyxcbiAgICBkYXRhSW5kZXg6ICduYW1lJyxcbiAgICBrZXk6ICduYW1lJyxcbiAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLm5hbWUubGVuZ3RoIC0gYi5uYW1lLmxlbmd0aCxcbiAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogJ0Rlc2MnLFxuICAgIGRhdGFJbmRleDogJ2Rlc2NyaXB0aW9uJyxcbiAgICBrZXk6ICdkZXNjcmlwdGlvbicsXG4gICAgc29ydGVyOiAoYSwgYikgPT4gYS5uYW1lLmxlbmd0aCAtIGIubmFtZS5sZW5ndGgsXG4gICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXVxuICB9LFxuICB7XG4gICAgdGl0bGU6ICdTdGF0dXMnLFxuICAgIGRhdGFJbmRleDogJ3N0YXR1cycsXG4gICAga2V5OiAnc3RhdHVzJyxcbiAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLm5hbWUubGVuZ3RoIC0gYi5uYW1lLmxlbmd0aCxcbiAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogJ0FjdGlvbicsXG4gICAga2V5OiAnYWN0aW9uJyxcbiAgICByZW5kZXI6ICh0ZXh0LCByZWNvcmQpID0+IChcbiAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2FwLXh5XCI+XG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzTmFtZT1cImJ0biBidG4tY2lyY2xlIGJ0bi14cyBidG4tb3V0bGluZS1saWdodFwiPlxuICAgICAgICAgIDxJY29uIHR5cGU9XCJleWVcIiBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnLCBjb2xvcjogJyNGRkYnIH19IHRoZW1lPVwib3V0bGluZWRcIiAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1jaXJjbGUgYnRuLXhzIGJ0bi1saWdodFwiPlxuICAgICAgICAgIDxJY29uIHR5cGU9XCJlZGl0XCIgc3R5bGU9e3sgZm9udFNpemU6ICcxNnB4JyB9fSB0aGVtZT1cIm91dGxpbmVkXCIgLz5cbiAgICAgICAgPC9idXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICApXG4gIH1cbl07XG5jbGFzcyBVc2VyR3JvdXAgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge1xuICAgICAgbG9hZGluZzogZmFsc2UsXG4gICAgICB2aXNpYmxlOiBmYWxzZVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLmxpc3RVc2VyR3JvdXAoKTtcbiAgfTtcblxuICBzaG93TW9kYWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICB2aXNpYmxlOiB0cnVlXG4gICAgfSk7XG4gIH07XG5cbiAgaGFuZGxlQ2FuY2VsID0gKCkgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyB2aXNpYmxlOiBmYWxzZSB9KTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgY29uc3QgeyBsaXN0VXNlckdyb3VwIH0gPSB0aGlzLnByb3BzLnVzZXI7XG4gICAgY29uc3QgZGF0YSA9IFtdO1xuICAgIGxpc3RVc2VyR3JvdXAubGVuZ3RoID4gMCAmJlxuICAgICAgbGlzdFVzZXJHcm91cC5tYXAodmFsID0+XG4gICAgICAgIGRhdGEucHVzaCh7XG4gICAgICAgICAga2V5OiBzaG9ySWQuZ2VuZXJhdGUoKSxcbiAgICAgICAgICBuYW1lOiB2YWxbMV0sXG4gICAgICAgICAgZGVzY3JpcHRpb246IHZhbFsyXSxcbiAgICAgICAgICBzdGF0dXM6IHZhbFszXSA9PT0gJ0EnID8gJ0FjdGl2ZScgOiAnTm9uIEFjdGl2ZSdcbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgY29uc3QgeyBsb2FkaW5nLCB2aXNpYmxlIH0gPSB0aGlzLnN0YXRlO1xuICAgIHJldHVybiAoXG4gICAgICA8UmVhY3QuRnJhZ21lbnQ+XG4gICAgICAgIDxoNSBjbGFzc05hbWU9XCJmb250LXdlaWdodC03MDAgc3ViLXRpdGxlXCI+VVNFUiBHUk9VUDwvaDU+XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidGFibGUtb3BlcmF0aW9uc1wiPlxuICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBuby1ndXR0ZXJzIGlucHV0LWdsYXNzXCI+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMSBtci0zXCI+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMDBcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIlN0YXR1c1wiXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbkZpbHRlclByb3A9XCJjaGlsZHJlblwiXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck9wdGlvbj17KGlucHV0LCBvcHRpb24pID0+XG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnByb3BzLmNoaWxkcmVuLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPE9wdGlvbnMgdmFsdWU9XCIxXCI+QWN0aXZlPC9PcHRpb25zPlxuICAgICAgICAgICAgICAgICAgICA8T3B0aW9ucyB2YWx1ZT1cIjJcIj5Ob24gQWN0aXZlPC9PcHRpb25zPlxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMSBtci0zXCI+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMDBcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkJyYW5jaFwiXG4gICAgICAgICAgICAgICAgICAgIG9wdGlvbkZpbHRlclByb3A9XCJjaGlsZHJlblwiXG4gICAgICAgICAgICAgICAgICAgIGZpbHRlck9wdGlvbj17KGlucHV0LCBvcHRpb24pID0+XG4gICAgICAgICAgICAgICAgICAgICAgb3B0aW9uLnByb3BzLmNoaWxkcmVuLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihpbnB1dC50b0xvd2VyQ2FzZSgpKSA+PSAwXG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICAgICAgPE9wdGlvbnMgdmFsdWU9XCIxXCI+QWN0aXZlPC9PcHRpb25zPlxuICAgICAgICAgICAgICAgICAgICA8T3B0aW9ucyB2YWx1ZT1cIjJcIj5Ob24gQWN0aXZlPC9PcHRpb25zPlxuICAgICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMSBtci0zXCI+XG4gICAgICAgICAgICAgICAgICA8U2VsZWN0XG4gICAgICAgICAgICAgICAgICAgIHNob3dTZWFyY2hcbiAgICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwidy0xMDBcIlxuICAgICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkdyb3VwXCJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdGlvbikgPT5cbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb24ucHJvcHMuY2hpbGRyZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49IDBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8T3B0aW9ucyB2YWx1ZT1cIjFcIj5BY3RpdmU8L09wdGlvbnM+XG4gICAgICAgICAgICAgICAgICAgIDxPcHRpb25zIHZhbHVlPVwiMlwiPk5vbiBBY3RpdmU8L09wdGlvbnM+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0yIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxTZWFyY2hzXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiaW5wdXQgc2VhcmNoIHRleHRcIlxuICAgICAgICAgICAgICAgICAgICBvblNlYXJjaD17dmFsdWUgPT4gY29uc29sZS5sb2codmFsdWUpfVxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwMFwiXG4gICAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTEgbXItM1wiPlxuICAgICAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiIHNoYXBlPVwicm91bmRcIiBpY29uPVwicGx1c1wiIG9uQ2xpY2s9e3RoaXMuc2hvd01vZGFsfT5cbiAgICAgICAgICAgICAgICAgICAge2BDcmVhdGUgTmV3YH1cbiAgICAgICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJweS0zXCI+XG4gICAgICAgICAgICAgIDxUYWJsZVxuICAgICAgICAgICAgICAgIHsuLi50aGlzLnN0YXRlfVxuICAgICAgICAgICAgICAgIHBhZ2luYXRpb249e3tcbiAgICAgICAgICAgICAgICAgIHBvc2l0aW9uOiAndG9wJyxcbiAgICAgICAgICAgICAgICAgIGRlZmF1bHRQYWdlU2l6ZTogMTAsXG4gICAgICAgICAgICAgICAgICBwYWdlU2l6ZU9wdGlvbnM6IFsnMjAnLCAnNTAnLCAnMTAwJ10sXG4gICAgICAgICAgICAgICAgICBzaG93U2l6ZUNoYW5nZXI6IHRydWVcbiAgICAgICAgICAgICAgICB9fVxuICAgICAgICAgICAgICAgIGNvbHVtbnM9e2NvbHVtbnN9XG4gICAgICAgICAgICAgICAgZGF0YVNvdXJjZT17ZGF0YX1cbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgIDxNb2RhbFxuICAgICAgICAgICAgdmlzaWJsZT17dmlzaWJsZX1cbiAgICAgICAgICAgIHRpdGxlPXtbXG4gICAgICAgICAgICAgIDxzcGFuPlxuICAgICAgICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJoZWFkZXItdGl0bGUgbWItMFwiPkNSRUFURSBORVcgVVNFUjwvaDM+XG4gICAgICAgICAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT1cInNtYWxsLTNcIj5TaWxhaGthbiBpc2kgZGF0YSB5YW5nIHNlc3VhaTwvc21hbGw+XG4gICAgICAgICAgICAgIDwvc3Bhbj5cbiAgICAgICAgICAgIF19XG4gICAgICAgICAgICBvbk9rPXt0aGlzLmhhbmRsZU9rfVxuICAgICAgICAgICAgb25DYW5jZWw9e3RoaXMuaGFuZGxlQ2FuY2VsfVxuICAgICAgICAgICAgZm9vdGVyPXtbXG4gICAgICAgICAgICAgIDxCdXR0b24ga2V5PVwic3VibWl0XCIgdHlwZT1cInByaW1hcnlcIiBsb2FkaW5nPXtsb2FkaW5nfSBvbkNsaWNrPXt0aGlzLmhhbmRsZU9rfT5cbiAgICAgICAgICAgICAgICB7YFN1Ym1pdGB9XG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgXX1cbiAgICAgICAgICA+XG4gICAgICAgICAgICA8VXNlckdyb3VwRm9ybSAvPlxuICAgICAgICAgIDwvTW9kYWw+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG59XG5Vc2VyR3JvdXAucHJvcFR5cGVzID0ge1xuICB1c2VyOiBQcm9wVHlwZXMub2JqZWN0T2YoUHJvcFR5cGVzLmFueSkuaXNSZXF1aXJlZCxcbiAgbGlzdFVzZXJHcm91cDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZFxufTtcbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9ICh7IHVzZXIgfSkgPT4gKHsgdXNlciB9KTtcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gIG1hcFN0YXRlVG9Qcm9wcyxcbiAgeyBsaXN0VXNlckdyb3VwIH1cbikoVXNlckdyb3VwKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=