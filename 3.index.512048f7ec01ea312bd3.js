(window.webpackJsonp=window.webpackJsonp||[]).push([[3],{ZvhZ:function(e,a,t){"use strict";t.d(a,"b",function(){return d}),t.d(a,"d",function(){return u}),t.d(a,"f",function(){return m}),t.d(a,"e",function(){return p}),t.d(a,"a",function(){return h}),t.d(a,"c",function(){return y});var r=t("zr5I"),n=t.n(r),s=t("iho4");function l(e){return function(){var a=e.apply(this,arguments);return new Promise(function(e,t){return function r(n,s){try{var l=a[n](s),c=l.value}catch(e){return void t(e)}if(!l.done)return Promise.resolve(c).then(function(e){r("next",e)},function(e){r("throw",e)});e(c)}("next")})}}const c=localStorage.getItem("key"),o=()=>(()=>{var e=l(function*(e){e({type:"DATA_REQUEST"})});return function(a){return e.apply(this,arguments)}})(),i=e=>a=>{a({type:"ERROR",payload:e})},d=e=>a=>{a(o());const t={x:"1",key:`${c}`},r=Object.assign({},t,e);n.a.post(`${s.API}:acl:user`,r).then(e=>{"200"===e.data.r?a({type:"LIST_USER",payload:e.data.atom,filParam:r}):"401"===e.data.r&&a({type:"ERROR"})})},u=e=>a=>{a(o());const t={x:"101",id:"0",key:`${c}`,Name:e.Name,Description:e.Description,BranchID:e.BranchID,SalesID:e.SalesID,Active:"A"};n.a.post(`${s.API}:acl:user`,t).then(e=>{"200"===e.data.r?a({type:"SAVE_USER",payload:e.data}):"401"===e.data.r&&a(i(e.data.m))})},m=(e,a)=>t=>{t(o());const r={x:"101",id:e,key:`${c}`,Name:a.Name,Description:a.Description,BranchID:a.BranchID,SalesID:a.SalesID,Active:"A"};n.a.post(`${s.API}:acl:user`,r).then(e=>{"200"===e.data.r?t({type:"UPDATE_USER",payload:e.data}):"401"===e.data.r&&t(i(e.data.m))})},p=e=>(()=>{var a=l(function*(a){a(o());const t={x:"50",id:e,key:`${c}`};yield n.a.post(`${s.API}:acl:user`,t).then(function(e){"200"===e.data.r?a({type:"SHOW_USER",payload:e.data.atom.data}):"401"===e.data.r&&a(i(e.data.m))})});return function(e){return a.apply(this,arguments)}})(),h=e=>a=>{a(o());const t={x:"201",id:e,key:`${c}`};n.a.post(`${s.API}:acl:user`,t).then(e=>{"200"===e.data.r?a({type:"DELETE_USER",payload:e.data}):"401"===e.data.r&&a(i(e.data.m))})},y=()=>e=>{n.a.post(`${s.API}:acl:group`,{x:"1",key:`${c}`}).then(a=>{"200"===a.data.r&&e({type:"LIST_USER_GROUP",payload:a.data.atom.data})})}},knzv:function(e,a,t){"use strict";t.r(a);var r=t("cDcd"),n=t.n(r),s=t("h74D"),l=t("17x9"),c=t.n(l),o=t("je4i"),i=t.n(o),d=t("Vl3Y"),u=t("2fM7"),m=t("kLXV"),p=t("2/Rp"),h=t("BMrR"),y=t("kPKH"),g=t("5rEg"),E=t("mr32"),D=t("ZvhZ"),f=t("7cg7"),b=t("T2ns"),v=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])}return e};const I=d.a.Item,k=u.a.Option,R=d.a.create()(e=>{const{modalVisible:a,handleModalVisible:t,formValues:r,formTitle:s,handleCreate:l,form:c,branch:o}=e,d=o.listData;return n.a.createElement(m.a,{visible:a,footer:[n.a.createElement(p.a,{key:"submit",htmlType:"submit",type:"primary",onClick:()=>{c.validateFields((e,a)=>{e||(c.resetFields(),l(a))})}},"Submit")],title:[n.a.createElement("span",{key:i.a.generate()},n.a.createElement("h3",{className:"header-title mb-0"},`${s} UNIT`),n.a.createElement("small",{className:"small-3 header-title"},"Silahkan isi data yang sesuai"))],onCancel:()=>t()},n.a.createElement(h.a,{gutter:25},n.a.createElement(y.a,{span:12},n.a.createElement(I,{label:"Name"},c.getFieldDecorator("Name",{rules:[{required:!0,message:"Please input your name!"}],initialValue:r.name||""})(n.a.createElement(g.a,{className:"form-control",size:"large",placeholder:"Name"})))),n.a.createElement(y.a,{span:12},n.a.createElement(I,{label:"Email"},c.getFieldDecorator("Email",{rules:[{required:!0,message:"Please input your email!"}],initialValue:r.email||""})(n.a.createElement(g.a,{className:"form-control",size:"large",placeholder:"Email"}))))),n.a.createElement(h.a,{gutter:25},n.a.createElement(y.a,{span:25},n.a.createElement(I,{label:"Description"},c.getFieldDecorator("Description",{rules:[{required:!0,message:"Please input your description!"}]})(n.a.createElement(g.a,{className:"form-control",size:"large",placeholder:"Description"}))))),n.a.createElement(h.a,{gutter:25},n.a.createElement(y.a,{span:12},n.a.createElement(I,{label:"Brach"},c.getFieldDecorator("BranchID",{rules:[{required:!0,message:"Please input your brach!"}]})(n.a.createElement(u.a,{size:"large",placeholder:"Choose Branch",className:"w-100"},d.length>0&&d.map(e=>n.a.createElement(k,{key:i.a.generate(),value:e[0]},e[2])))))),n.a.createElement(y.a,{span:12},n.a.createElement(I,{label:"Password"},c.getFieldDecorator("Password",{rules:[{required:!0,message:"Please input your password!"}]})(n.a.createElement(g.a,{type:"password",className:"form-control",size:"large",placeholder:"******"}))))))});class P extends r.Component{constructor(e){super(e),this.componentDidMount=(()=>{this.props.listBranch()}),this.state={}}render(){return n.a.createElement(R,v({},this.props,this.state))}}P.columns=[{title:"Name",dataIndex:"name",key:"name",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]},{title:"Branch",dataIndex:"branch",key:"branch",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]},{title:"Group",dataIndex:"group",key:"group",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]},{title:"Status",dataIndex:"status",key:"status",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"],render:e=>{const a="Active"===e?"green":"volcano";return n.a.createElement(E.a,{color:a,key:e},e)}},{title:"Desc",dataIndex:"description",key:"description",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]}],P.dataTable=(e=>{const a=[];return e.length>0&&e.map(e=>a.push({key:e[0],name:e[1],branch:e[5],group:e[7],status:"A"===e[8]?"Active":"Non Active",description:e[2]})),a}),P.propTypes={listData:c.a.func.isRequired,saveData:c.a.func.isRequired,showData:c.a.func.isRequired,updateData:c.a.func.isRequired,deleteData:c.a.func.isRequired,listBranch:c.a.objectOf(c.a.any).isRequired};a.default=Object(s.connect)(({user:e,branch:a})=>({data:e,branch:a}),{listBranch:f.b,listData:D.b,saveData:D.d,showData:D.e,updateData:D.f,deleteData:D.a})(Object(b.a)({columns:P.columns,dataTable:P.dataTable,headTitle:"User Management"})(P))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWN0aW9ucy91c2VyQWN0aW9ucy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL21hc3Rlci9hY2wvdXNlci9Vc2VyTWFuYWdlbWVudC5qc3giXSwibmFtZXMiOlsidmFsaWRLZXkiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZGF0YVJlcXVlc3QiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJkaXNwYXRjaCIsInR5cGUiLCJfeCIsImFwcGx5IiwidGhpcyIsImFyZ3VtZW50cyIsImVycm9yIiwibWVzc2FnZSIsInBheWxvYWQiLCJsaXN0RGF0YSIsInBhciIsInBhcmFtIiwieCIsImtleSIsImZpbFBhcmFtIiwiT2JqZWN0IiwiYXNzaWduIiwiYXhpb3MiLCJwb3N0IiwiQVBJIiwidGhlbiIsInJlcyIsImRhdGEiLCJyIiwiYXRvbSIsInNhdmVEYXRhIiwiaWQiLCJOYW1lIiwiRGVzY3JpcHRpb24iLCJCcmFuY2hJRCIsIlNhbGVzSUQiLCJBY3RpdmUiLCJtIiwidXBkYXRlRGF0YSIsImlkVXNlciIsInNob3dEYXRhIiwiX3JlZjIiLCJfeDIiLCJkZWxldGVEYXRhIiwiaWRCYW5rIiwibGlzdFVzZXJHcm91cCIsIkZvcm1JdGVtIiwiRm9ybSIsIkl0ZW0iLCJPcHRpb25zIiwiU2VsZWN0IiwiT3B0aW9uIiwiRm9ybVVzZXIiLCJjcmVhdGUiLCJwcm9wcyIsIm1vZGFsVmlzaWJsZSIsImhhbmRsZU1vZGFsVmlzaWJsZSIsImZvcm1WYWx1ZXMiLCJmb3JtVGl0bGUiLCJoYW5kbGVDcmVhdGUiLCJmb3JtIiwiYnJhbmNoIiwibGlzdEJyYW5jaCIsInJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCIsImEiLCJjcmVhdGVFbGVtZW50IiwiYW50ZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fIiwidmlzaWJsZSIsImZvb3RlciIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyIsImh0bWxUeXBlIiwib25DbGljayIsInZhbGlkYXRlRmllbGRzIiwiZXJyIiwiZmllbGRWYWx1ZSIsInJlc2V0RmllbGRzIiwidGl0bGUiLCJzaG9ydElkIiwiZ2VuZXJhdGUiLCJjbGFzc05hbWUiLCJvbkNhbmNlbCIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyIsImd1dHRlciIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyIsInNwYW4iLCJsYWJlbCIsImdldEZpZWxkRGVjb3JhdG9yIiwicnVsZXMiLCJyZXF1aXJlZCIsImluaXRpYWxWYWx1ZSIsIm5hbWUiLCJhbnRkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fIiwic2l6ZSIsInBsYWNlaG9sZGVyIiwiZW1haWwiLCJhbnRkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18iLCJsZW5ndGgiLCJtYXAiLCJ2YWwiLCJ2YWx1ZSIsIlVzZXJNYW5hZ2VtZW50IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJzdXBlciIsImNvbXBvbmVudERpZE1vdW50Iiwic3RhdGUiLCJyZW5kZXIiLCJfZXh0ZW5kcyIsImNvbHVtbnMiLCJkYXRhSW5kZXgiLCJzb3J0ZXIiLCJiIiwic29ydERpcmVjdGlvbnMiLCJ0YWdzIiwiY29sb3IiLCJhbnRkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fIiwiZGF0YVRhYmxlIiwicHVzaCIsImdyb3VwIiwic3RhdHVzIiwiZGVzY3JpcHRpb24iLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJmdW5jIiwiaXNSZXF1aXJlZCIsIm9iamVjdE9mIiwiYW55IiwiY29ubmVjdCIsInVzZXIiLCJEYXRhVGFibGUiLCJoZWFkVGl0bGUiXSwibWFwcGluZ3MiOiIybEJBR0EsTUFBTUEsRUFBV0MsYUFBYUMsUUFBUSxPQUN6QkMsRUFBYyxjQUFBQyxFQUFBQyxFQUFNLFVBQU1DLEdBQ3JDQSxFQUFTLENBQ1BDLEtBQU0sbUJBRmlCLGdCQUFBQyxHQUFBLE9BQUFKLEVB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RUFBZWdCLFVBQzFCYyxVQUFXLG1CQUhiRCxDQUlHN0IiLCJmaWxlIjoiMy5pbmRleC41MTIwNDhmN2VjMDFlYTMxMmJkMy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBBUEkgfSBmcm9tICcuLi9jb25maWcva2V5cyc7XG5cbmNvbnN0IHZhbGlkS2V5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2tleScpO1xuZXhwb3J0IGNvbnN0IGRhdGFSZXF1ZXN0ID0gKCkgPT4gYXN5bmMgZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogJ0RBVEFfUkVRVUVTVCdcbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGVycm9yID0gbWVzc2FnZSA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiAnRVJST1InLFxuICAgIHBheWxvYWQ6IG1lc3NhZ2VcbiAgfSk7XG59O1xuLy8gbGlzdCB1c2VyXG5leHBvcnQgY29uc3QgbGlzdERhdGEgPSBwYXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7IHg6ICcxJywga2V5OiBgJHt2YWxpZEtleX1gIH07XG4gIGNvbnN0IGZpbFBhcmFtID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0sIHBhcik7XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIGZpbFBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEuYXRvbSk7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdMSVNUX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLFxuICAgICAgICBmaWxQYXJhbVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnRVJST1InXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHNhdmVEYXRhID0gcGFyID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcxMDEnLFxuICAgIGlkOiAnMCcsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gLFxuICAgIE5hbWU6IHBhci5OYW1lLFxuICAgIERlc2NyaXB0aW9uOiBwYXIuRGVzY3JpcHRpb24sXG4gICAgQnJhbmNoSUQ6IHBhci5CcmFuY2hJRCxcbiAgICBTYWxlc0lEOiBwYXIuU2FsZXNJRCxcbiAgICBBY3RpdmU6ICdBJ1xuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnU0FWRV9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCB1cGRhdGVEYXRhID0gKGlkVXNlciwgcGFyKSA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMTAxJyxcbiAgICBpZDogaWRVc2VyLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBOYW1lOiBwYXIuTmFtZSxcbiAgICBEZXNjcmlwdGlvbjogcGFyLkRlc2NyaXB0aW9uLFxuICAgIEJyYW5jaElEOiBwYXIuQnJhbmNoSUQsXG4gICAgU2FsZXNJRDogcGFyLlNhbGVzSUQsXG4gICAgQWN0aXZlOiAnQSdcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1VQREFURV9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzaG93RGF0YSA9IGlkVXNlciA9PiBhc3luYyBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnNTAnLFxuICAgIGlkOiBpZFVzZXIsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gXG4gIH07XG4gIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdTSE9XX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBmaWx0ZXJTdGF0dXMgPSBwYXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzUwJyxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgQWN0aXZlOiBwYXJcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20uZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlbGV0ZURhdGEgPSBpZEJhbmsgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzIwMScsXG4gICAgaWQ6IGlkQmFuayxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWBcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0RFTEVURV9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gdXNlciBncm91cFxuZXhwb3J0IGNvbnN0IGxpc3RVc2VyR3JvdXAgPSAoKSA9PiBkaXNwYXRjaCA9PiB7XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCB7IHg6ICcxJywga2V5OiBgJHt2YWxpZEtleX1gIH0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUl9HUk9VUCcsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20uZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgc2hvcnRJZCBmcm9tICdzaG9ydGlkJztcbmltcG9ydCB7IEJ1dHRvbiwgSW5wdXQsIFJvdywgQ29sLCBGb3JtLCBNb2RhbCwgU2VsZWN0LCBUYWcgfSBmcm9tICdhbnRkJztcbmltcG9ydCB7XG4gIGxpc3REYXRhLFxuICBzYXZlRGF0YSxcbiAgc2hvd0RhdGEsXG4gIHVwZGF0ZURhdGEsXG4gIGRlbGV0ZURhdGFcbn0gZnJvbSAnLi4vLi4vLi4vLi4vYWN0aW9ucy91c2VyQWN0aW9ucyc7XG5pbXBvcnQgeyBsaXN0RGF0YSBhcyBsaXN0QnJhbmNoIH0gZnJvbSAnLi4vLi4vLi4vLi4vYWN0aW9ucy9tYXN0ZXIvYnJhbmNoQWN0aW9ucyc7XG5pbXBvcnQgRGF0YVRhYmxlIGZyb20gJy4uLy4uLy4uLy4uL2NvbXBvbmVudHMvaG9jL0RhdGFUYWJsZSc7XG5cbmNvbnN0IEZvcm1JdGVtID0gRm9ybS5JdGVtO1xuY29uc3QgT3B0aW9ucyA9IFNlbGVjdC5PcHRpb247XG5cbmNvbnN0IEZvcm1Vc2VyID0gRm9ybS5jcmVhdGUoKShwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBtb2RhbFZpc2libGUsXG4gICAgaGFuZGxlTW9kYWxWaXNpYmxlLFxuICAgIGZvcm1WYWx1ZXMsXG4gICAgZm9ybVRpdGxlLFxuICAgIGhhbmRsZUNyZWF0ZSxcbiAgICBmb3JtLFxuICAgIGJyYW5jaFxuICB9ID0gcHJvcHM7XG4gIGNvbnN0IG9rSGFuZGxlID0gKCkgPT4ge1xuICAgIGZvcm0udmFsaWRhdGVGaWVsZHMoKGVyciwgZmllbGRWYWx1ZSkgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuO1xuICAgICAgZm9ybS5yZXNldEZpZWxkcygpO1xuICAgICAgaGFuZGxlQ3JlYXRlKGZpZWxkVmFsdWUpO1xuICAgIH0pO1xuICB9O1xuICBjb25zdCBsaXN0QnJhbmNoID0gYnJhbmNoLmxpc3REYXRhO1xuICByZXR1cm4gKFxuICAgIDxNb2RhbFxuICAgICAgdmlzaWJsZT17bW9kYWxWaXNpYmxlfVxuICAgICAgZm9vdGVyPXtbXG4gICAgICAgIDxCdXR0b24ga2V5PVwic3VibWl0XCIgaHRtbFR5cGU9XCJzdWJtaXRcIiB0eXBlPVwicHJpbWFyeVwiIG9uQ2xpY2s9e29rSGFuZGxlfT5cbiAgICAgICAgICB7YFN1Ym1pdGB9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgXX1cbiAgICAgIHRpdGxlPXtbXG4gICAgICAgIDxzcGFuIGtleT17c2hvcnRJZC5nZW5lcmF0ZSgpfT5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiaGVhZGVyLXRpdGxlIG1iLTBcIj57YCR7Zm9ybVRpdGxlfSBVTklUYH08L2gzPlxuICAgICAgICAgIDxzbWFsbCBjbGFzc05hbWU9XCJzbWFsbC0zIGhlYWRlci10aXRsZVwiPlNpbGFoa2FuIGlzaSBkYXRhIHlhbmcgc2VzdWFpPC9zbWFsbD5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgXX1cbiAgICAgIG9uQ2FuY2VsPXsoKSA9PiBoYW5kbGVNb2RhbFZpc2libGUoKX1cbiAgICA+XG4gICAgICA8Um93IGd1dHRlcj17MjV9PlxuICAgICAgICA8Q29sIHNwYW49ezEyfT5cbiAgICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9XCJOYW1lXCI+XG4gICAgICAgICAgICB7Zm9ybS5nZXRGaWVsZERlY29yYXRvcignTmFtZScsIHtcbiAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgbmFtZSEnIH1dLFxuICAgICAgICAgICAgICBpbml0aWFsVmFsdWU6IGZvcm1WYWx1ZXMubmFtZSB8fCAnJ1xuICAgICAgICAgICAgfSkoPElucHV0IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHNpemU9XCJsYXJnZVwiIHBsYWNlaG9sZGVyPVwiTmFtZVwiIC8+KX1cbiAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICA8L0NvbD5cbiAgICAgICAgPENvbCBzcGFuPXsxMn0+XG4gICAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwiRW1haWxcIj5cbiAgICAgICAgICAgIHtmb3JtLmdldEZpZWxkRGVjb3JhdG9yKCdFbWFpbCcsIHtcbiAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgZW1haWwhJyB9XSxcbiAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBmb3JtVmFsdWVzLmVtYWlsIHx8ICcnXG4gICAgICAgICAgICB9KSg8SW5wdXQgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCJFbWFpbFwiIC8+KX1cbiAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICA8L0NvbD5cbiAgICAgIDwvUm93PlxuICAgICAgPFJvdyBndXR0ZXI9ezI1fT5cbiAgICAgICAgPENvbCBzcGFuPXsyNX0+XG4gICAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwiRGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgIHtmb3JtLmdldEZpZWxkRGVjb3JhdG9yKCdEZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgZGVzY3JpcHRpb24hJyB9XVxuICAgICAgICAgICAgfSkoPElucHV0IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHNpemU9XCJsYXJnZVwiIHBsYWNlaG9sZGVyPVwiRGVzY3JpcHRpb25cIiAvPil9XG4gICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgPC9Db2w+XG4gICAgICA8L1Jvdz5cbiAgICAgIDxSb3cgZ3V0dGVyPXsyNX0+XG4gICAgICAgIDxDb2wgc3Bhbj17MTJ9PlxuICAgICAgICAgIDxGb3JtSXRlbSBsYWJlbD1cIkJyYWNoXCI+XG4gICAgICAgICAgICB7Zm9ybS5nZXRGaWVsZERlY29yYXRvcignQnJhbmNoSUQnLCB7XG4gICAgICAgICAgICAgIHJ1bGVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCB5b3VyIGJyYWNoIScgfV1cbiAgICAgICAgICAgIH0pKFxuICAgICAgICAgICAgICA8U2VsZWN0IHNpemU9XCJsYXJnZVwiIHBsYWNlaG9sZGVyPVwiQ2hvb3NlIEJyYW5jaFwiIGNsYXNzTmFtZT1cInctMTAwXCI+XG4gICAgICAgICAgICAgICAge2xpc3RCcmFuY2gubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgbGlzdEJyYW5jaC5tYXAodmFsID0+IChcbiAgICAgICAgICAgICAgICAgICAgPE9wdGlvbnMga2V5PXtzaG9ydElkLmdlbmVyYXRlKCl9IHZhbHVlPXt2YWxbMF19PlxuICAgICAgICAgICAgICAgICAgICAgIHt2YWxbMl19XG4gICAgICAgICAgICAgICAgICAgIDwvT3B0aW9ucz5cbiAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICl9XG4gICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgPC9Db2w+XG4gICAgICAgIDxDb2wgc3Bhbj17MTJ9PlxuICAgICAgICAgIDxGb3JtSXRlbSBsYWJlbD1cIlBhc3N3b3JkXCI+XG4gICAgICAgICAgICB7Zm9ybS5nZXRGaWVsZERlY29yYXRvcignUGFzc3dvcmQnLCB7XG4gICAgICAgICAgICAgIHJ1bGVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCB5b3VyIHBhc3N3b3JkIScgfV1cbiAgICAgICAgICAgIH0pKFxuICAgICAgICAgICAgICA8SW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCIqKioqKipcIiAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICA8L0NvbD5cbiAgICAgIDwvUm93PlxuICAgIDwvTW9kYWw+XG4gICk7XG59KTtcblxuY2xhc3MgVXNlck1hbmFnZW1lbnQgZXh0ZW5kcyBDb21wb25lbnQge1xuICBjb25zdHJ1Y3Rvcihwcm9wcykge1xuICAgIHN1cGVyKHByb3BzKTtcbiAgICB0aGlzLnN0YXRlID0ge307XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLmxpc3RCcmFuY2goKTtcbiAgfTtcblxuICBzdGF0aWMgY29sdW1ucyA9IFtcbiAgICB7XG4gICAgICB0aXRsZTogJ05hbWUnLFxuICAgICAgZGF0YUluZGV4OiAnbmFtZScsXG4gICAgICBrZXk6ICduYW1lJyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEubmFtZS5sZW5ndGggLSBiLm5hbWUubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXVxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdCcmFuY2gnLFxuICAgICAgZGF0YUluZGV4OiAnYnJhbmNoJyxcbiAgICAgIGtleTogJ2JyYW5jaCcsXG4gICAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLm5hbWUubGVuZ3RoIC0gYi5uYW1lLmxlbmd0aCxcbiAgICAgIHNvcnREaXJlY3Rpb25zOiBbJ2Rlc2NlbmQnLCAnYXNjZW5kJ11cbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnR3JvdXAnLFxuICAgICAgZGF0YUluZGV4OiAnZ3JvdXAnLFxuICAgICAga2V5OiAnZ3JvdXAnLFxuICAgICAgc29ydGVyOiAoYSwgYikgPT4gYS5uYW1lLmxlbmd0aCAtIGIubmFtZS5sZW5ndGgsXG4gICAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ1N0YXR1cycsXG4gICAgICBkYXRhSW5kZXg6ICdzdGF0dXMnLFxuICAgICAga2V5OiAnc3RhdHVzJyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEubmFtZS5sZW5ndGggLSBiLm5hbWUubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXSxcbiAgICAgIHJlbmRlcjogdGFncyA9PiB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gdGFncyA9PT0gJ0FjdGl2ZScgPyAnZ3JlZW4nIDogJ3ZvbGNhbm8nO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUYWcgY29sb3I9e2NvbG9yfSBrZXk9e3RhZ3N9PlxuICAgICAgICAgICAge3RhZ3N9XG4gICAgICAgICAgPC9UYWc+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ0Rlc2MnLFxuICAgICAgZGF0YUluZGV4OiAnZGVzY3JpcHRpb24nLFxuICAgICAga2V5OiAnZGVzY3JpcHRpb24nLFxuICAgICAgc29ydGVyOiAoYSwgYikgPT4gYS5uYW1lLmxlbmd0aCAtIGIubmFtZS5sZW5ndGgsXG4gICAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddXG4gICAgfVxuICBdO1xuXG4gIHN0YXRpYyBkYXRhVGFibGUgPSBkYXRhID0+IHtcbiAgICBjb25zdCBkYXRhVGFibGUgPSBbXTtcbiAgICBkYXRhLmxlbmd0aCA+IDAgJiZcbiAgICAgIGRhdGEubWFwKHZhbCA9PlxuICAgICAgICBkYXRhVGFibGUucHVzaCh7XG4gICAgICAgICAga2V5OiB2YWxbMF0sXG4gICAgICAgICAgbmFtZTogdmFsWzFdLFxuICAgICAgICAgIGJyYW5jaDogdmFsWzVdLFxuICAgICAgICAgIGdyb3VwOiB2YWxbN10sXG4gICAgICAgICAgc3RhdHVzOiB2YWxbOF0gPT09ICdBJyA/ICdBY3RpdmUnIDogJ05vbiBBY3RpdmUnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB2YWxbMl1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgcmV0dXJuIGRhdGFUYWJsZTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxGb3JtVXNlciB7Li4udGhpcy5wcm9wc30gey4uLnRoaXMuc3RhdGV9IC8+O1xuICB9XG59XG5Vc2VyTWFuYWdlbWVudC5wcm9wVHlwZXMgPSB7XG4gIGxpc3REYXRhOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBzYXZlRGF0YTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgc2hvd0RhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHVwZGF0ZURhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGRlbGV0ZURhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGxpc3RCcmFuY2g6IFByb3BUeXBlcy5vYmplY3RPZihQcm9wVHlwZXMuYW55KS5pc1JlcXVpcmVkXG59O1xuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHsgdXNlciwgYnJhbmNoIH0pID0+ICh7IGRhdGE6IHVzZXIsIGJyYW5jaCB9KTtcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gIG1hcFN0YXRlVG9Qcm9wcyxcbiAge1xuICAgIGxpc3RCcmFuY2gsXG4gICAgbGlzdERhdGEsXG4gICAgc2F2ZURhdGEsXG4gICAgc2hvd0RhdGEsXG4gICAgdXBkYXRlRGF0YSxcbiAgICBkZWxldGVEYXRhXG4gIH1cbikoXG4gIERhdGFUYWJsZSh7XG4gICAgY29sdW1uczogVXNlck1hbmFnZW1lbnQuY29sdW1ucyxcbiAgICBkYXRhVGFibGU6IFVzZXJNYW5hZ2VtZW50LmRhdGFUYWJsZSxcbiAgICBoZWFkVGl0bGU6ICdVc2VyIE1hbmFnZW1lbnQnXG4gIH0pKFVzZXJNYW5hZ2VtZW50KVxuKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=