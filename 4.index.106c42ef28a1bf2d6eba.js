(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{knzv:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),s=a("h74D"),i=a("oncg"),o=a("17x9"),l=a.n(o),c=a("je4i"),d=a.n(c),p=a("Vl3Y"),u=a("2fM7"),m=a("QbLZ"),h=a.n(m),f=a("jo6Y"),y=a.n(f),E=a("iCc5"),g=a.n(E),S=a("FYw3"),b=a.n(S),v=a("mRg0"),D=a.n(v),N=a("faye"),x=a("TSYQ"),k=a.n(x),w=a("sEfC"),I=a.n(w);function C(){if("undefined"!=typeof window&&window.document&&window.document.documentElement){var e=window.document.documentElement;return"flex"in e.style||"webkitFlex"in e.style||"Flex"in e.style||"msFlex"in e.style}return!1}var R=function(e){function t(a){g()(this,t);var n=b()(this,e.call(this,a));return n.calcStepOffsetWidth=function(){if(!C()){var e=Object(N.findDOMNode)(n);e.children.length>0&&(n.calcTimeout&&clearTimeout(n.calcTimeout),n.calcTimeout=setTimeout(function(){var t=(e.lastChild.offsetWidth||0)+1;n.state.lastStepOffsetWidth===t||Math.abs(n.state.lastStepOffsetWidth-t)<=3||n.setState({lastStepOffsetWidth:t})}))}},n.state={flexSupported:!0,lastStepOffsetWidth:0},n.calcStepOffsetWidth=I()(n.calcStepOffsetWidth,150),n}return D()(t,e),t.prototype.componentDidMount=function(){this.calcStepOffsetWidth(),C()||this.setState({flexSupported:!1})},t.prototype.componentDidUpdate=function(){this.calcStepOffsetWidth()},t.prototype.componentWillUnmount=function(){this.calcTimeout&&clearTimeout(this.calcTimeout),this.calcStepOffsetWidth&&this.calcStepOffsetWidth.cancel&&this.calcStepOffsetWidth.cancel()},t.prototype.render=function(){var e,t=this.props,a=t.prefixCls,s=t.style,i=void 0===s?{}:s,o=t.className,l=t.children,c=t.direction,d=t.labelPlacement,p=t.iconPrefix,u=t.status,m=t.size,f=t.current,E=t.progressDot,g=t.initial,S=t.icons,b=y()(t,["prefixCls","style","className","children","direction","labelPlacement","iconPrefix","status","size","current","progressDot","initial","icons"]),v=this.state,D=v.lastStepOffsetWidth,N=v.flexSupported,x=r.a.Children.toArray(l).filter(function(e){return!!e}),w=x.length-1,I=E?"vertical":d,C=k()(a,a+"-"+c,o,((e={})[a+"-"+m]=m,e[a+"-label-"+I]="horizontal"===c,e[a+"-dot"]=!!E,e[a+"-flex-not-supported"]=!N,e));return r.a.createElement("div",h()({className:C,style:i},b),n.Children.map(x,function(e,t){if(!e)return null;var r=g+t,s=h()({stepNumber:""+(r+1),prefixCls:a,iconPrefix:p,wrapperStyle:i,progressDot:E,icons:S},e.props);return N||"vertical"===c||t===w||(s.itemWidth=100/w+"%",s.adjustMarginRight=-Math.round(D/w+1)),"error"===u&&t===f-1&&(s.className=a+"-next-error"),e.props.status||(s.status=r===f?u:r<f?"finish":"wait"),Object(n.cloneElement)(e,s)}))},t}(n.Component);R.propTypes={prefixCls:l.a.string,className:l.a.string,iconPrefix:l.a.string,direction:l.a.string,labelPlacement:l.a.string,children:l.a.any,status:l.a.string,size:l.a.string,progressDot:l.a.oneOfType([l.a.bool,l.a.func]),style:l.a.object,initial:l.a.number,current:l.a.number,icons:l.a.shape({finish:l.a.node,error:l.a.node})},R.defaultProps={prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1};var P=R;function O(e){return"string"==typeof e}var A=function(e){function t(){return g()(this,t),b()(this,e.apply(this,arguments))}return D()(t,e),t.prototype.renderIconNode=function(){var e,t=this.props,a=t.prefixCls,n=t.progressDot,s=t.stepNumber,i=t.status,o=t.title,l=t.description,c=t.icon,d=t.iconPrefix,p=t.icons,u=k()(a+"-icon",d+"icon",((e={})[d+"icon-"+c]=c&&O(c),e[d+"icon-check"]=!c&&"finish"===i&&p&&!p.finish,e[d+"icon-close"]=!c&&"error"===i&&p&&!p.error,e)),m=r.a.createElement("span",{className:a+"-icon-dot"});return n?"function"==typeof n?r.a.createElement("span",{className:a+"-icon"},n(m,{index:s-1,status:i,title:o,description:l})):r.a.createElement("span",{className:a+"-icon"},m):c&&!O(c)?r.a.createElement("span",{className:a+"-icon"},c):p&&p.finish&&"finish"===i?r.a.createElement("span",{className:a+"-icon"},p.finish):p&&p.error&&"error"===i?r.a.createElement("span",{className:a+"-icon"},p.error):c||"finish"===i||"error"===i?r.a.createElement("span",{className:u}):r.a.createElement("span",{className:a+"-icon"},s)},t.prototype.render=function(){var e,t=this.props,a=t.className,n=t.prefixCls,s=t.style,i=t.itemWidth,o=t.status,l=void 0===o?"wait":o,c=(t.iconPrefix,t.icon),d=(t.wrapperStyle,t.adjustMarginRight),p=(t.stepNumber,t.description),u=t.title,m=(t.progressDot,t.tailContent),f=(t.icons,y()(t,["className","prefixCls","style","itemWidth","status","iconPrefix","icon","wrapperStyle","adjustMarginRight","stepNumber","description","title","progressDot","tailContent","icons"])),E=k()(n+"-item",n+"-item-"+l,a,((e={})[n+"-item-custom"]=c,e)),g=h()({},s);return i&&(g.width=i),d&&(g.marginRight=d),r.a.createElement("div",h()({},f,{className:E,style:g}),r.a.createElement("div",{className:n+"-item-tail"},m),r.a.createElement("div",{className:n+"-item-icon"},this.renderIconNode()),r.a.createElement("div",{className:n+"-item-content"},r.a.createElement("div",{className:n+"-item-title"},u),p&&r.a.createElement("div",{className:n+"-item-description"},p)))},t}(r.a.Component);A.propTypes={className:l.a.string,prefixCls:l.a.string,style:l.a.object,wrapperStyle:l.a.object,itemWidth:l.a.oneOfType([l.a.number,l.a.string]),status:l.a.string,iconPrefix:l.a.string,icon:l.a.node,adjustMarginRight:l.a.oneOfType([l.a.number,l.a.string]),stepNumber:l.a.string,description:l.a.any,title:l.a.any,progressDot:l.a.oneOfType([l.a.bool,l.a.func]),tailContent:l.a.any,icons:l.a.shape({finish:l.a.node,error:l.a.node})};var U=A;P.Step=U;var T=P,G=a("CtXQ"),_=a("wEI+");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function j(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=V(this,F(t).apply(this,arguments))).renderSteps=function(t){var a=t.getPrefixCls,r=a("steps",e.props.prefixCls),s=a("",e.props.iconPrefix),i={finish:n.createElement(G.a,{type:"check",className:"".concat(r,"-finish-icon")}),error:n.createElement(G.a,{type:"close",className:"".concat(r,"-error-icon")})};return n.createElement(T,$({icons:i},e.props,{prefixCls:r,iconPrefix:s}))},e}var a,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,n["Component"]),a=t,(r=[{key:"render",value:function(){return n.createElement(_.a,null,this.renderSteps)}}])&&j(a.prototype,r),s&&j(a,s),t}();z.Step=T.Step,z.defaultProps={current:0},z.propTypes={prefixCls:o.string,iconPrefix:o.string,current:o.number};var B=a("kLXV"),q=a("mr32"),L=a("tsqr"),K=a("2/Rp"),Q=a("wCAj"),H=a("VXEj"),Y=a("Tckk"),J=a("NJEC"),X=a("bE4q"),Z=a("BMrR"),ee=a("kPKH"),te=a("5rEg"),ae=a("zr5I"),ne=a.n(ae),re=a("iho4");function se(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,s){try{var i=t[r](s),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}const ie=localStorage.getItem("key"),oe=()=>(()=>{var e=se(function*(e){e({type:"DATA_REQUEST"})});return function(t){return e.apply(this,arguments)}})(),le=e=>t=>{t({type:"ERROR",payload:e})};var ce=a("7cg7"),de=a("jDFS"),pe=a("qvGC"),ue=a("T2ns"),me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};const he=p.a.Item,fe=u.a.Option,{Step:ye}=z,Ee=p.a.create()(e=>{const{modalVisible:t,handleModalVisible:a,formValues:n,formTitle:s,currentStep:i,renderContent:o,renderFooter:l}=e;return r.a.createElement(B.a,{visible:t,width:"700px",footer:l(i),title:[r.a.createElement("span",{key:d.a.generate()},r.a.createElement("h3",{className:"header-title mb-0"},`${s} USER MANAGEMENT`),r.a.createElement("small",{className:"small-3 header-title"},"Silahkan isi data yang sesuai"))],onCancel:()=>a()},r.a.createElement(z,{style:{marginBottom:28},size:"small",current:i},r.a.createElement(ye,{title:"User"}),r.a.createElement(ye,{title:"User Group"}),r.a.createElement(ye,{title:"Right"})),o(i,n))}),ge=p.a.create()(e=>{const{modalGroupVisible:t,userGroup:a,onSelectChange:s,selectedRowKeys:i,saveAddGroup:o,handleModalAddGroup:l}=e,c=[{title:"Name",dataIndex:"name",key:"name"},{title:"Desc",dataIndex:"desc",key:"desc"},{title:"Status",dataIndex:"status",key:"status",className:"text-center",render:e=>{const t="Active"===e?"green":"volcano";return r.a.createElement(q.a,{color:t,key:e},e)}}],p=a.listData,u=[];p.length>0&&p.map(e=>{u.push({key:e[0],name:e[1],desc:e[2],status:"A"===e[3]?"Active":"Terminated"})});const m={selectedRowKeys:i,onChange:e=>s(e)};return r.a.createElement(B.a,{visible:t,width:"700px",footer:[r.a.createElement(n.Fragment,null,r.a.createElement(K.a,{key:"cancel",onClick:()=>l(!1)},"Cancel"),",",r.a.createElement(K.a,{key:"forward",type:"primary",onClick:()=>{i.length>0?(o(i),l(!1)):L.a.warning("Fields is empty!")}},"Save"))],title:[r.a.createElement("span",{key:d.a.generate()},r.a.createElement("h3",{className:"header-title mb-0"},"ADD USER GROUP"))],onCancel:()=>l()},r.a.createElement(Q.a,{dataSource:u,className:"table-modal",columns:c,scroll:{y:340},rowSelection:m}))});class Se extends n.PureComponent{constructor(e){super(e),this.componentDidMount=(()=>{this.props.listBranch(),this.props.listSales(),this.props.listUserGroup()}),this.componentWillReceiveProps=(e=>{this.setState({loadingList:!0}),e.data.success!==this.props.data.success&&this.setState({loadingList:!1})}),this.componentDidUpdate=(e=>{const{userId:t}=this.props.data;e.data.userId!==t&&(this.props.userAddDomain(t),this.props.mnemonic(t),this.props.showData(t))}),this.handleNext=(e=>{const{form:t,handleUpdate:a}=this.props,{formValues:n}=this.state;t.validateFields((t,a)=>{if(t)return;const r=me({},n,a);this.setState({formValues:r},()=>{e<2&&this.forward(),0===e&&this.handleUpdateUser(r)})})}),this.handleUpdateUser=(e=>{""!==e.id?this.props.updateData(e.id,e):this.props.saveData(e)}),this.saveAddGroup=(e=>{const{userId:t}=this.props.data;this.props.saveAddGroupUser(t,e)}),this.handleDeleteGroup=((e,t)=>{""!==t&&this.props.deleteGroupUser(e,t)}),this.backward=(()=>{const{currentStep:e}=this.state;this.setState({currentStep:e-1})}),this.forward=(()=>{const{currentStep:e}=this.state;this.setState({currentStep:e+1})}),this.onSelectChange=(e=>{this.setState({selectedRowKeys:e})}),this.handleModalAddGroup=(e=>{this.setState({modalGroupVisible:!!e})}),this.handleChildMnemonic=((e,t)=>{this.setState({loadingList:!0}),""!==e&&this.props.mnemonic(e,t)}),this.renderItemMnemonic=((e,t)=>r.a.createElement(n.Fragment,null,r.a.createElement(H.a.Item,{key:t.id},r.a.createElement(H.a.Item.Meta,{avatar:r.a.createElement(Y.a,{src:"https://img.icons8.com/color/48/000000/folder-invoices.png"}),title:r.a.createElement(i.NavLink,{to:{pathname:`/user/user-management/${t.name}`,hash:"#"},onClick:()=>this.handleChildMnemonic(e,t.id)},t.name)})))),this.renderContent=((e,t)=>{const{form:a,branch:s,sales:i,data:o}=this.props,{showData:l}=o,{userId:c}=(l.Domain,this.props.data),p=[{title:"Name",dataIndex:"name",key:"name",width:"500px"},{title:"Action",key:"action",className:"text-center",render:(e,t)=>r.a.createElement("div",{className:"gap-xy"},r.a.createElement(J.a,{title:"Sure to delete?",onConfirm:()=>this.handleDeleteGroup(c,t.key)},r.a.createElement(G.a,{type:"close-circle",style:{fontSize:"23px"},theme:"twoTone",twoToneColor:"#dc3545"})))}],m=[],h=s.listData,f=i.listData;if(1===e)return[r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row pb-4"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(K.a,{type:"primary",onClick:()=>this.handleModalAddGroup(!0)},"Add Group"))),r.a.createElement(Q.a,{dataSource:m,className:"table-modal",columns:p,scroll:{y:340}}))];if(2===e){const{treeMnemonic:e,userId:t}=this.props.data,a=[];return e.length>0&&e.map(e=>a.push({id:e[0],name:e[2]})),[r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(X.a,{separator:">"},r.a.createElement(X.a.Item,null,"Home"))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement(H.a,{size:"small",dataSource:a,renderItem:e=>this.renderItemMnemonic(t,e)}))))]}return[r.a.createElement(n.Fragment,null,r.a.createElement(Z.a,{gutter:25},r.a.createElement(ee.a,{span:25},r.a.createElement(he,{style:{display:"none"}},a.getFieldDecorator("id",{initialValue:t.id&&c||""})(r.a.createElement(te.a,null))),r.a.createElement(he,{label:"Name"},a.getFieldDecorator("Name",{rules:[{required:!0,message:"Please input your name!"}],initialValue:t.Name||""})(r.a.createElement(te.a,{className:"form-control",size:"large",placeholder:"Name"}))))),r.a.createElement(Z.a,{gutter:25},r.a.createElement(ee.a,{span:25},r.a.createElement(he,{label:"Description"},a.getFieldDecorator("Description",{rules:[{required:!0,message:"Please input your description!"}],initialValue:t.Description||""})(r.a.createElement(te.a,{className:"form-control",size:"large",placeholder:"Description",autoComplete:"Desc"}))))),r.a.createElement(Z.a,{gutter:25},r.a.createElement(ee.a,{span:12},r.a.createElement(he,{label:"Branch"},a.getFieldDecorator("BranchID",{rules:[{required:!0,message:"Please input your branch!"}],initialValue:t.BranchID||""})(r.a.createElement(u.a,{size:"large",placeholder:"Choose Branch",className:"w-100"},h.length>0&&h.map(e=>r.a.createElement(fe,{key:d.a.generate(),value:e[0]},e[2])))))),r.a.createElement(ee.a,{span:12},r.a.createElement(he,{label:"Sales"},a.getFieldDecorator("SalesID",{rules:[{required:!0,message:"Please input your brach!"}],initialValue:t.SalesID||""})(r.a.createElement(u.a,{size:"large",placeholder:"Choose Sales",className:"w-100"},f.length>0&&f.map(e=>r.a.createElement(fe,{key:d.a.generate(),value:e[0]},e[1]))))))))]}),this.renderFooter=(e=>{const{stepFormValues:t}=this.props;return 1===e?[r.a.createElement(K.a,{key:"back",type:"primary",style:{float:"left"},onClick:this.backward},"Back"),r.a.createElement(K.a,{key:"cancel",onClick:()=>this.handleModalVisible(!1,t)},"Cancel"),r.a.createElement(K.a,{key:"forward",type:"primary",onClick:()=>this.handleNext(e)},"Save & Next")]:2===e?[r.a.createElement(K.a,{key:"back",type:"primary",style:{float:"left"},onClick:this.backward},"Back"),r.a.createElement(K.a,{key:"cancel",onClick:()=>this.handleModalVisible(!1,t)},"Cancel"),r.a.createElement(K.a,{key:"forward",type:"primary",onClick:()=>this.handleNext(e)},"Save & Finish")]:[r.a.createElement(K.a,{key:"cancel",onClick:()=>this.handleModalVisible(!1,t)},"Cancel"),r.a.createElement(K.a,{key:"forward",type:"primary",onClick:()=>this.handleNext(e)},"Save & Next")]}),this.state={currentStep:0,formValues:{id:"",Name:"",Description:"",BranchID:"",SalesID:""},stepFormValues:{},selectedRowKeys:[],modalGroupVisible:!1,modalUserVisible:!1,loadingList:!1},this.formLayout={labelCol:{span:7},wrapperCol:{span:13}}}render(){const e={renderContent:this.renderContent,renderFooter:this.renderFooter},t={saveAddGroup:this.saveAddGroup,handleModalAddGroup:this.handleModalAddGroup};return r.a.createElement(n.Fragment,null,r.a.createElement(ge,me({},this.state,this.props,{onSelectChange:this.onSelectChange},t)),r.a.createElement(Ee,me({},this.props,this.state,e)))}}Se.columns=[{title:"Name",dataIndex:"name",key:"name",width:"200px",sorter:(e,t)=>e.name.length-t.name.length,sortDirections:["descend","ascend"]},{title:"Branch",dataIndex:"branchName",key:"branchName",width:"200px",sorter:(e,t)=>e.branchName.length-t.branchName.length,sortDirections:["descend","ascend"]},{title:"Sales",dataIndex:"salesName",key:"salesName",width:"200px",sorter:(e,t)=>e.salesName.length-t.salesName.length,sortDirections:["descend","ascend"]},{title:"Desc",dataIndex:"description",key:"description",width:"200px",sorter:(e,t)=>e.name.length-t.name.length,sortDirections:["descend","ascend"]},{title:"Status",dataIndex:"status",key:"status",className:"text-center",width:"80px",sorter:(e,t)=>e.status.length-t.status.length,sortDirections:["descend","ascend"],render:e=>{const t="Active"===e?"green":"volcano";return r.a.createElement(q.a,{color:t,key:e},e)}}],Se.dataTable=(e=>{const t=[];return e.length>0&&e.map(e=>t.push({key:e[0],name:e[1],branchId:e[4],branchName:e[5],salesId:e[6],salesName:e[7],description:e[2],status:"A"===e[8]?"Active":"Terminated"})),t}),Se.propTypes={listData:l.a.func.isRequired,saveData:l.a.func.isRequired,showData:l.a.func.isRequired,updateData:l.a.func.isRequired,deleteData:l.a.func.isRequired,listBranch:l.a.func.isRequired,listSales:l.a.func.isRequired,updateUserGroup:l.a.func.isRequired};t.default=Object(s.connect)(({user:e,branch:t,sales:a,userGroup:n})=>({data:e,branch:t,sales:a,userGroup:n}),{listUserGroup:pe.b,updateUserGroup:e=>t=>{t(oe());const a={x:"150",id:e,key:`${ie}`};ne.a.post(`${re.API}:acl:user`,a).then(e=>{"200"===e.data.r?t({type:"SAVE_USER_GROUP",payload:e.data}):"401"===e.data.r&&t(le(e.data.m))})},listBranch:ce.b,listSales:de.b,listData:e=>t=>{t(oe());const a={x:"1",key:`${ie}`},n=Object.assign({},a,e);ne.a.post(`${re.API}:acl:user`,n).then(e=>{"200"===e.data.r?t({type:"LIST_USER",payload:e.data.atom,filParam:n}):"401"===e.data.r&&t({type:"ERROR"})})},saveData:e=>t=>{t(oe());const a={x:"101",id:"0",key:`${ie}`,Name:e.Name,Description:e.Description,BranchID:e.BranchID,SalesID:e.SalesID,Active:"A"};ne.a.post(`${re.API}:acl:user`,a).then(e=>{"200"===e.data.r?t({type:"SAVE_USER",payload:e.data}):"401"===e.data.r&&t(le(e.data.m))})},showData:e=>(()=>{var t=se(function*(t){t(oe());const a={x:"50",id:e,key:`${ie}`};yield ne.a.post(`${re.API}:acl:user`,a).then(function(e){"200"===e.data.r?t({type:"SHOW_USER",payload:e.data.atom.data}):"401"===e.data.r&&t(le(e.data.m))})});return function(e){return t.apply(this,arguments)}})(),updateData:(e,t)=>a=>{a(oe());const n={x:"101",id:e,key:`${ie}`,Name:t.Name,Description:t.Description,BranchID:t.BranchID,SalesID:t.SalesID};ne.a.post(`${re.API}:acl:user`,n).then(e=>{"200"===e.data.r?a({type:"UPDATE_USER",payload:e.data}):"401"===e.data.r&&a(le(e.data.m))})},deleteData:e=>t=>{t(oe());const a={x:"201",id:e,key:`${ie}`};ne.a.post(`${re.API}:acl:user`,a).then(e=>{"200"===e.data.r?t({type:"DELETE_USER",payload:e.data}):"401"===e.data.r&&t(le(e.data.m))})},userAddDomain:e=>t=>{t(oe());const a={x:"500",key:`${ie}`,for:"user-domain",UserID:e};ne.a.post(`${re.API}:acl:group`,a).then(e=>{"200"===e.data.r?t({type:"LIST_USER_ADD_GROUP",payload:e.data.atom}):"401"===e.data.r&&t({type:"ERROR"})})},saveAddGroupUser:(e,t)=>a=>{a(oe());const n={x:"150",key:`${ie}`,id:e,GroupID:t};ne.a.post(`${re.API}:acl:user`,n).then(e=>{"200"===e.data.r?a({type:"SAVE_ADD_GROUP_USER",payload:e.data}):"401"===e.data.r&&a(le(e.data.m))})},deleteGroupUser:(e,t)=>a=>{a(oe());const n={x:"151",id:e,key:`${ie}`,GroupID:t};ne.a.post(`${re.API}:acl:user`,n).then(e=>{"200"===e.data.r?a({type:"DELETE_GROUP_USER",payload:e.data}):"401"===e.data.r&&a(le(e.data.m))})},mnemonic:(e,t)=>a=>{a(oe());const n={x:"500",key:`${ie}`,ModuleID:t||0,UserID:e,For:"form-name"};ne.a.post(`${re.API}:acl:mnemonic`,n).then(e=>{"200"===e.data.r?a({type:"LIST_USER_MNEMONIC",payload:e.data.atom}):"401"===e.data.r&&a({type:"ERROR"})})}})(Object(ue.a)({columns:Se.columns,dataTable:Se.dataTable,headTitle:"User Management"})(p.a.create()(Se)))},qvGC:function(e,t,a){"use strict";a.d(t,"b",function(){return d}),a.d(t,"c",function(){return p}),a.d(t,"e",function(){return u}),a.d(t,"d",function(){return m}),a.d(t,"a",function(){return h});var n=a("zr5I"),r=a.n(n),s=a("iho4");function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,s){try{var i=t[r](s),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}const o=localStorage.getItem("key"),l=()=>(()=>{var e=i(function*(e){e({type:"DATA_REQUEST"})});return function(t){return e.apply(this,arguments)}})(),c=e=>t=>{t({type:"ERROR",payload:e})},d=e=>t=>{t(l());const a={x:"1",key:`${o}`},n=Object.assign({},a,e);r.a.post(`${s.API}:acl:group`,n).then(e=>{"200"===e.data.r?t({type:"LIST_USER_GROUP",payload:e.data.atom,filParam:n}):"401"===e.data.r&&t(c(e.data.m))})},p=e=>t=>{t(l());const a={x:"101",id:"0",key:`${o}`,Name:e.Name,Description:e.Description,Active:"A"};r.a.post(`${s.API}:acl:group`,a).then(e=>{"200"===e.data.r?t({type:"SAVE_USER_GROUP",payload:e.data}):"401"===e.data.r&&t(c(e.data.m))})},u=(e,t)=>a=>{a(l());const n={x:"101",id:e,key:`${o}`,Name:t.Name,Description:t.Description};r.a.post(`${s.API}:acl:group`,n).then(e=>{"200"===e.data.r?a({type:"UPDATE_USER_GROUP",payload:e.data}):"401"===e.data.r&&a(c(e.data.m))})},m=e=>(()=>{var t=i(function*(t){t(l());const a={x:"50",id:e,key:`${o}`};yield r.a.post(`${s.API}:acl:group`,a).then(function(e){"200"===e.data.r?t({type:"SHOW_USER_GROUP",payload:e.data.atom.data}):"401"===e.data.r&&t(c(e.data.m))})});return function(e){return t.apply(this,arguments)}})(),h=e=>t=>{t(l());const a={x:"201",id:e,key:`${o}`};r.a.post(`${s.API}:acl:group`,a).then(e=>{"200"===e.data.r?t({type:"DELETE_USER_GROUP",payload:e.data}):"401"===e.data.r&&t(c(e.data.m))})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtc3RlcHMvZXMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXN0ZXBzL2VzL1N0ZXBzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1zdGVwcy9lcy9TdGVwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1zdGVwcy9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy9zdGVwcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYWN0aW9ucy9hY2wvdXNlckFjdGlvbnMuanN4Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9tYXN0ZXIvYWNsL3VzZXIvVXNlck1hbmFnZW1lbnQuanN4Iiwid2VicGFjazovLy8uL3NyYy9hY3Rpb25zL2FjbC91c2VyR3JvdXBBY3Rpb25zLmpzeCJdLCJuYW1lcyI6WyJpc0ZsZXhTdXBwb3J0ZWQiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwiU3RlcHNfU3RlcHMiLCJfQ29tcG9uZW50IiwiU3RlcHMiLCJwcm9wcyIsImNsYXNzQ2FsbENoZWNrX2RlZmF1bHQiLCJ0aGlzIiwiX3RoaXMiLCJwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuX2RlZmF1bHQiLCJjYWxsIiwiY2FsY1N0ZXBPZmZzZXRXaWR0aCIsImRvbU5vZGUiLCJPYmplY3QiLCJleHRlcm5hbF9SZWFjdERPTV8iLCJjaGlsZHJlbiIsImxlbmd0aCIsImNhbGNUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImxhc3RTdGVwT2Zmc2V0V2lkdGgiLCJsYXN0Q2hpbGQiLCJvZmZzZXRXaWR0aCIsInN0YXRlIiwiTWF0aCIsImFicyIsInNldFN0YXRlIiwiZmxleFN1cHBvcnRlZCIsImRlYm91bmNlX2RlZmF1bHQiLCJpbmhlcml0c19kZWZhdWx0IiwicHJvdG90eXBlIiwiY29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImNhbmNlbCIsInJlbmRlciIsIl9jbGFzc05hbWVzIiwiX3Byb3BzIiwicHJlZml4Q2xzIiwiX3Byb3BzJHN0eWxlIiwidW5kZWZpbmVkIiwiY2xhc3NOYW1lIiwiZGlyZWN0aW9uIiwibGFiZWxQbGFjZW1lbnQiLCJpY29uUHJlZml4Iiwic3RhdHVzIiwic2l6ZSIsImN1cnJlbnQiLCJwcm9ncmVzc0RvdCIsImluaXRpYWwiLCJpY29ucyIsInJlc3RQcm9wcyIsIm9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzX2RlZmF1bHQiLCJfc3RhdGUiLCJmaWx0ZXJlZENoaWxkcmVuIiwiZXh0ZXJuYWxfUmVhY3RfZGVmYXVsdCIsImEiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJmaWx0ZXIiLCJjIiwibGFzdEluZGV4IiwiYWRqdXN0ZWRsYWJlbFBsYWNlbWVudCIsImNsYXNzU3RyaW5nIiwiY2xhc3NuYW1lc19kZWZhdWx0IiwiY3JlYXRlRWxlbWVudCIsImV4dGVuZHNfZGVmYXVsdCIsImV4dGVybmFsX1JlYWN0XyIsIm1hcCIsImNoaWxkIiwiaW5kZXgiLCJzdGVwTnVtYmVyIiwiY2hpbGRQcm9wcyIsIndyYXBwZXJTdHlsZSIsIml0ZW1XaWR0aCIsImFkanVzdE1hcmdpblJpZ2h0Iiwicm91bmQiLCJwcm9wVHlwZXMiLCJwcm9wX3R5cGVzX2RlZmF1bHQiLCJzdHJpbmciLCJhbnkiLCJvbmVPZlR5cGUiLCJib29sIiwiZnVuYyIsIm9iamVjdCIsIm51bWJlciIsInNoYXBlIiwiZmluaXNoIiwibm9kZSIsImVycm9yIiwiZGVmYXVsdFByb3BzIiwiZXNfU3RlcHMiLCJpc1N0cmluZyIsInN0ciIsIlN0ZXBfU3RlcCIsIl9SZWFjdCRDb21wb25lbnQiLCJTdGVwIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJyZW5kZXJJY29uTm9kZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJpY29uIiwiaWNvbkNsYXNzTmFtZSIsImljb25Eb3QiLCJfY2xhc3NOYW1lczIiLCJfcHJvcHMyIiwiX3Byb3BzMiRzdGF0dXMiLCJ0YWlsQ29udGVudCIsInN0ZXBJdGVtU3R5bGUiLCJ3aWR0aCIsIm1hcmdpblJpZ2h0IiwiQ29tcG9uZW50IiwiZXNfU3RlcCIsImVzIiwiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInRhcmdldCIsImkiLCJzb3VyY2UiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImRlZmluZVByb3BlcnR5IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX2dldFByb3RvdHlwZU9mIiwibyIsInNldFByb3RvdHlwZU9mIiwiZ2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfc2V0UHJvdG90eXBlT2YiLCJwIiwic3RlcHNfU3RlcHMiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NsYXNzQ2FsbENoZWNrIiwicmVuZGVyU3RlcHMiLCJfcmVmIiwiZ2V0UHJlZml4Q2xzIiwiZXNfaWNvbiIsInR5cGUiLCJjb25jYXQiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJ2YWx1ZSIsIl9pbmhlcml0cyIsImNvbmZpZ19wcm92aWRlciIsInByb3BfdHlwZXMiLCJ2YWxpZEtleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJkYXRhUmVxdWVzdCIsIl9hc3luY1RvR2VuZXJhdG9yIiwiZGlzcGF0Y2giLCJfeCIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwiRm9ybUl0ZW0iLCJGb3JtIiwiSXRlbSIsIk9wdGlvbnMiLCJTZWxlY3QiLCJPcHRpb24iLCJVc2VyTWFuYWdlbWVudF9TdGVwIiwiRm9ybVVzZXIiLCJtb2RhbFZpc2libGUiLCJoYW5kbGVNb2RhbFZpc2libGUiLCJmb3JtVmFsdWVzIiwiZm9ybVRpdGxlIiwiY3VycmVudFN0ZXAiLCJyZW5kZXJDb250ZW50IiwicmVuZGVyRm9vdGVyIiwibW9kYWwiLCJ2aXNpYmxlIiwiZm9vdGVyIiwic2hvcnRJZCIsImdlbmVyYXRlIiwib25DYW5jZWwiLCJtYXJnaW5Cb3R0b20iLCJNb2RhbEFkZEdyb3VwIiwibW9kYWxHcm91cFZpc2libGUiLCJ1c2VyR3JvdXAiLCJvblNlbGVjdENoYW5nZSIsInNlbGVjdGVkUm93S2V5cyIsInNhdmVBZGRHcm91cCIsImhhbmRsZU1vZGFsQWRkR3JvdXAiLCJjb2x1bW5zIiwiZGF0YUluZGV4IiwidGFncyIsImNvbG9yIiwidGFnIiwibGlzdFVzZXJHcm91cCIsImxpc3REYXRhIiwiZGF0YVNvdXJjZSIsInZhbCIsInB1c2giLCJuYW1lIiwiZGVzYyIsInJvd0NoZWNrU2VsZWN0aW9uIiwib25DaGFuZ2UiLCJlIiwiZXNfYnV0dG9uIiwib25DbGljayIsIndhcm5pbmciLCJ0YWJsZSIsInNjcm9sbCIsInkiLCJyb3dTZWxlY3Rpb24iLCJVc2VyTWFuYWdlbWVudCIsIlB1cmVDb21wb25lbnQiLCJzdXBlciIsImxpc3RCcmFuY2giLCJsaXN0U2FsZXMiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwibG9hZGluZ0xpc3QiLCJkYXRhIiwic3VjY2VzcyIsInVzZXJJZCIsInVzZXJBZGREb21haW4iLCJtbmVtb25pYyIsInNob3dEYXRhIiwiaGFuZGxlTmV4dCIsImZvcm0iLCJoYW5kbGVVcGRhdGUiLCJvbGRWYWx1ZSIsInZhbGlkYXRlRmllbGRzIiwiZXJyIiwiZmllbGRzVmFsdWUiLCJmb3J3YXJkIiwiaGFuZGxlVXBkYXRlVXNlciIsImZpZWxkcyIsImlkIiwidXBkYXRlRGF0YSIsInNhdmVEYXRhIiwiZmllbGRzR3JvdXAiLCJzYXZlQWRkR3JvdXBVc2VyIiwiaGFuZGxlRGVsZXRlR3JvdXAiLCJncm91cElkIiwiZGVsZXRlR3JvdXBVc2VyIiwiYmFja3dhcmQiLCJmbGFnIiwiaGFuZGxlQ2hpbGRNbmVtb25pYyIsIm1vZHVsZUlkIiwicmVuZGVySXRlbU1uZW1vbmljIiwiaXRlbSIsImxpc3QiLCJNZXRhIiwiYXZhdGFyIiwic3JjIiwiZXh0ZXJuYWxfUmVhY3RSb3V0ZXJET01fIiwidG8iLCJwYXRobmFtZSIsImhhc2giLCJicmFuY2giLCJzYWxlcyIsIkRvbWFpbiIsInRleHQiLCJyZWNvcmQiLCJwb3Bjb25maXJtIiwib25Db25maXJtIiwiZm9udFNpemUiLCJ0aGVtZSIsInR3b1RvbmVDb2xvciIsInRyZWVNbmVtb25pYyIsImxpc3RNbmVtb25pYyIsImJyZWFkY3J1bWIiLCJzZXBhcmF0b3IiLCJyZW5kZXJJdGVtIiwicm93IiwiZ3V0dGVyIiwiY29sIiwic3BhbiIsImRpc3BsYXkiLCJnZXRGaWVsZERlY29yYXRvciIsImluaXRpYWxWYWx1ZSIsImlucHV0IiwibGFiZWwiLCJydWxlcyIsInJlcXVpcmVkIiwiTmFtZSIsInBsYWNlaG9sZGVyIiwiRGVzY3JpcHRpb24iLCJhdXRvQ29tcGxldGUiLCJCcmFuY2hJRCIsImVzX3NlbGVjdCIsIlNhbGVzSUQiLCJzdGVwRm9ybVZhbHVlcyIsImZsb2F0IiwibW9kYWxVc2VyVmlzaWJsZSIsImZvcm1MYXlvdXQiLCJsYWJlbENvbCIsIndyYXBwZXJDb2wiLCJjdXJyZW50RnVuY3Rpb24iLCJjdXJyZW50RnVuY3Rpb25BZGRHcm91cCIsIlVzZXJNYW5hZ2VtZW50X2V4dGVuZHMiLCJzb3J0ZXIiLCJiIiwic29ydERpcmVjdGlvbnMiLCJicmFuY2hOYW1lIiwic2FsZXNOYW1lIiwiZGF0YVRhYmxlIiwiYnJhbmNoSWQiLCJzYWxlc0lkIiwiUHJvcFR5cGVzIiwiaXNSZXF1aXJlZCIsImRlbGV0ZURhdGEiLCJ1cGRhdGVVc2VyR3JvdXAiLCJjb25uZWN0IiwidXNlciIsImlkVXNlciIsInBhcmFtIiwieCIsImF4aW9zIiwicG9zdCIsIkFQSSIsInRoZW4iLCJyZXMiLCJyIiwibSIsInBhciIsImZpbFBhcmFtIiwiYXRvbSIsIkFjdGl2ZSIsIl9yZWYyIiwiX3gyIiwiaWRCYW5rIiwiZm9yIiwiVXNlcklEIiwiZmllbGRzR3JvdXBJZCIsIkdyb3VwSUQiLCJNb2R1bGVJRCIsIkZvciIsIkRhdGFUYWJsZSIsImhlYWRUaXRsZSJdLCJtYXBwaW5ncyI6Im9YQUFPLFNBQUFBLElBQ1AsdUJBQUFDLGVBQUFDLFVBQUFELE9BQUFDLFNBQUFDLGdCQUFBLENBQ0EsSUFBQUEsRUFBQUYsT0FBQUMsU0FBQUMsZ0JBRUEsZUFBQUEsRUFBQUMsT0FBQSxlQUFBRCxFQUFBQyxPQUFBLFNBQUFELEVBQUFDLE9BQUEsV0FBQUQsRUFBQUMsTUFFQSxTQ09BLElBQUlDLEVBQUssU0FBQUMsR0FHVCxTQUFBQyxFQUFBQyxHQUNJQyxJQUFlQyxLQUFBSCxHQUVuQixJQUFBSSxFQUFnQkMsSUFBMEJGLEtBQUFKLEVBQUFPLEtBQUFILEtBQUFGLElBNkIxQyxPQTNCQUcsRUFBQUcsb0JBQUEsV0FDQSxJQUFVZCxJQUFWLENBSUEsSUFBQWUsRUFBb0JDLE9BQUFDLEVBQUEsWUFBQUQsQ0FBV0wsR0FDL0JJLEVBQUFHLFNBQUFDLE9BQUEsSUFDQVIsRUFBQVMsYUFDQUMsYUFBQVYsRUFBQVMsYUFFQVQsRUFBQVMsWUFBQUUsV0FBQSxXQUVBLElBQUFDLEdBQUFSLEVBQUFTLFVBQUFDLGFBQUEsS0FFQWQsRUFBQWUsTUFBQUgseUJBQUFJLEtBQUFDLElBQUFqQixFQUFBZSxNQUFBSCx3QkFBQSxHQUdBWixFQUFBa0IsU0FBQSxDQUEwQk4sNkJBSzFCWixFQUFBZSxNQUFBLENBQ0FJLGVBQUEsRUFDQVAsb0JBQUEsR0FFQVosRUFBQUcsb0JBQWdDaUIsSUFBUXBCLEVBQUFHLG9CQUFBLEtBQ3hDSCxFQThGQSxPQWhJRXFCLElBQVN6QixFQUFBRCxHQXFDWEMsRUFBQTBCLFVBQUFDLGtCQUFBLFdBQ0F4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Q2xCckssRUFBU2hGLEVBQU1vUCxFQUFJckcsS0FBS3VHLFFBZE4sZ0JBQUFNLEdBQUEsT0FBQUQsRUFBQW5QLE1BQUExRixLQUFBMkYsYUFBQW9PLEdBb0NYSixFQUFhb0IsR0FBVTdLLElBQ2xDQSxFQUFTRixLQUNULE1BQU1nSyxFQUFRLENBQ1pDLEVBQUcsTUFDSGhGLEdBQUk4RixFQUNKek4sT0FBUXVDLEtBRVZxSyxJQUFNQyxRQUFRQyxrQkFBaUJKLEdBQU9LLEtBQUtDLElBQ3RCLFFBQWZBLEVBQUlyRyxLQUFLc0csRUFDWHJLLEVBQVMsQ0FDUGhCLEtBQU0sb0JBQ05tQixRQUFTaUssRUFBSXJHLE9BRVMsUUFBZnFHLEVBQUlyRyxLQUFLc0csR0FDbEJySyxFQUFTaEYsRUFBTW9QLEVBQUlyRyxLQUFLdUciLCJmaWxlIjoiNC5pbmRleC4xMDZjNDJlZjI4YTFiZjJkNmViYS5qcyIsInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBmdW5jdGlvbiBpc0ZsZXhTdXBwb3J0ZWQoKSB7XG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiB3aW5kb3cuZG9jdW1lbnQgJiYgd2luZG93LmRvY3VtZW50LmRvY3VtZW50RWxlbWVudCkge1xuICAgIHZhciBkb2N1bWVudEVsZW1lbnQgPSB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50O1xuXG4gICAgcmV0dXJuICdmbGV4JyBpbiBkb2N1bWVudEVsZW1lbnQuc3R5bGUgfHwgJ3dlYmtpdEZsZXgnIGluIGRvY3VtZW50RWxlbWVudC5zdHlsZSB8fCAnRmxleCcgaW4gZG9jdW1lbnRFbGVtZW50LnN0eWxlIHx8ICdtc0ZsZXgnIGluIGRvY3VtZW50RWxlbWVudC5zdHlsZTtcbiAgfVxuICByZXR1cm4gZmFsc2U7XG59IiwiaW1wb3J0IF9leHRlbmRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9leHRlbmRzJztcbmltcG9ydCBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzJztcbmltcG9ydCBfY2xhc3NDYWxsQ2hlY2sgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2NsYXNzQ2FsbENoZWNrJztcbmltcG9ydCBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybiBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvcG9zc2libGVDb25zdHJ1Y3RvclJldHVybic7XG5pbXBvcnQgX2luaGVyaXRzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9pbmhlcml0cyc7XG4vKiBlc2xpbnQgcmVhY3Qvbm8tZGlkLW1vdW50LXNldC1zdGF0ZTogMCAqL1xuaW1wb3J0IFJlYWN0LCB7IGNsb25lRWxlbWVudCwgQ2hpbGRyZW4sIENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBmaW5kRE9NTm9kZSB9IGZyb20gJ3JlYWN0LWRvbSc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcbmltcG9ydCBkZWJvdW5jZSBmcm9tICdsb2Rhc2gvZGVib3VuY2UnO1xuaW1wb3J0IHsgaXNGbGV4U3VwcG9ydGVkIH0gZnJvbSAnLi91dGlscyc7XG5cbnZhciBTdGVwcyA9IGZ1bmN0aW9uIChfQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTdGVwcywgX0NvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU3RlcHMocHJvcHMpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RlcHMpO1xuXG4gICAgdmFyIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX0NvbXBvbmVudC5jYWxsKHRoaXMsIHByb3BzKSk7XG5cbiAgICBfdGhpcy5jYWxjU3RlcE9mZnNldFdpZHRoID0gZnVuY3Rpb24gKCkge1xuICAgICAgaWYgKGlzRmxleFN1cHBvcnRlZCgpKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIC8vIEp1c3QgZm9yIElFOVxuICAgICAgdmFyIGRvbU5vZGUgPSBmaW5kRE9NTm9kZShfdGhpcyk7XG4gICAgICBpZiAoZG9tTm9kZS5jaGlsZHJlbi5sZW5ndGggPiAwKSB7XG4gICAgICAgIGlmIChfdGhpcy5jYWxjVGltZW91dCkge1xuICAgICAgICAgIGNsZWFyVGltZW91dChfdGhpcy5jYWxjVGltZW91dCk7XG4gICAgICAgIH1cbiAgICAgICAgX3RoaXMuY2FsY1RpbWVvdXQgPSBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAvLyArMSBmb3IgZml0IGVkZ2UgYnVnIG9mIGRpZ2l0IHdpZHRoLCBsaWtlIDM1LjRweFxuICAgICAgICAgIHZhciBsYXN0U3RlcE9mZnNldFdpZHRoID0gKGRvbU5vZGUubGFzdENoaWxkLm9mZnNldFdpZHRoIHx8IDApICsgMTtcbiAgICAgICAgICAvLyBSZWR1Y2Ugc2hha2UgYnVnXG4gICAgICAgICAgaWYgKF90aGlzLnN0YXRlLmxhc3RTdGVwT2Zmc2V0V2lkdGggPT09IGxhc3RTdGVwT2Zmc2V0V2lkdGggfHwgTWF0aC5hYnMoX3RoaXMuc3RhdGUubGFzdFN0ZXBPZmZzZXRXaWR0aCAtIGxhc3RTdGVwT2Zmc2V0V2lkdGgpIDw9IDMpIHtcbiAgICAgICAgICAgIHJldHVybjtcbiAgICAgICAgICB9XG4gICAgICAgICAgX3RoaXMuc2V0U3RhdGUoeyBsYXN0U3RlcE9mZnNldFdpZHRoOiBsYXN0U3RlcE9mZnNldFdpZHRoIH0pO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9O1xuXG4gICAgX3RoaXMuc3RhdGUgPSB7XG4gICAgICBmbGV4U3VwcG9ydGVkOiB0cnVlLFxuICAgICAgbGFzdFN0ZXBPZmZzZXRXaWR0aDogMFxuICAgIH07XG4gICAgX3RoaXMuY2FsY1N0ZXBPZmZzZXRXaWR0aCA9IGRlYm91bmNlKF90aGlzLmNhbGNTdGVwT2Zmc2V0V2lkdGgsIDE1MCk7XG4gICAgcmV0dXJuIF90aGlzO1xuICB9XG5cbiAgU3RlcHMucHJvdG90eXBlLmNvbXBvbmVudERpZE1vdW50ID0gZnVuY3Rpb24gY29tcG9uZW50RGlkTW91bnQoKSB7XG4gICAgdGhpcy5jYWxjU3RlcE9mZnNldFdpZHRoKCk7XG4gICAgaWYgKCFpc0ZsZXhTdXBwb3J0ZWQoKSkge1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICAgIGZsZXhTdXBwb3J0ZWQ6IGZhbHNlXG4gICAgICB9KTtcbiAgICB9XG4gIH07XG5cbiAgU3RlcHMucHJvdG90eXBlLmNvbXBvbmVudERpZFVwZGF0ZSA9IGZ1bmN0aW9uIGNvbXBvbmVudERpZFVwZGF0ZSgpIHtcbiAgICB0aGlzLmNhbGNTdGVwT2Zmc2V0V2lkdGgoKTtcbiAgfTtcblxuICBTdGVwcy5wcm90b3R5cGUuY29tcG9uZW50V2lsbFVubW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnRXaWxsVW5tb3VudCgpIHtcbiAgICBpZiAodGhpcy5jYWxjVGltZW91dCkge1xuICAgICAgY2xlYXJUaW1lb3V0KHRoaXMuY2FsY1RpbWVvdXQpO1xuICAgIH1cbiAgICBpZiAodGhpcy5jYWxjU3RlcE9mZnNldFdpZHRoICYmIHRoaXMuY2FsY1N0ZXBPZmZzZXRXaWR0aC5jYW5jZWwpIHtcbiAgICAgIHRoaXMuY2FsY1N0ZXBPZmZzZXRXaWR0aC5jYW5jZWwoKTtcbiAgICB9XG4gIH07XG5cbiAgU3RlcHMucHJvdG90eXBlLnJlbmRlciA9IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICB2YXIgX2NsYXNzTmFtZXM7XG5cbiAgICB2YXIgX3Byb3BzID0gdGhpcy5wcm9wcyxcbiAgICAgICAgcHJlZml4Q2xzID0gX3Byb3BzLnByZWZpeENscyxcbiAgICAgICAgX3Byb3BzJHN0eWxlID0gX3Byb3BzLnN0eWxlLFxuICAgICAgICBzdHlsZSA9IF9wcm9wcyRzdHlsZSA9PT0gdW5kZWZpbmVkID8ge30gOiBfcHJvcHMkc3R5bGUsXG4gICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wcy5jbGFzc05hbWUsXG4gICAgICAgIGNoaWxkcmVuID0gX3Byb3BzLmNoaWxkcmVuLFxuICAgICAgICBkaXJlY3Rpb24gPSBfcHJvcHMuZGlyZWN0aW9uLFxuICAgICAgICBsYWJlbFBsYWNlbWVudCA9IF9wcm9wcy5sYWJlbFBsYWNlbWVudCxcbiAgICAgICAgaWNvblByZWZpeCA9IF9wcm9wcy5pY29uUHJlZml4LFxuICAgICAgICBzdGF0dXMgPSBfcHJvcHMuc3RhdHVzLFxuICAgICAgICBzaXplID0gX3Byb3BzLnNpemUsXG4gICAgICAgIGN1cnJlbnQgPSBfcHJvcHMuY3VycmVudCxcbiAgICAgICAgcHJvZ3Jlc3NEb3QgPSBfcHJvcHMucHJvZ3Jlc3NEb3QsXG4gICAgICAgIGluaXRpYWwgPSBfcHJvcHMuaW5pdGlhbCxcbiAgICAgICAgaWNvbnMgPSBfcHJvcHMuaWNvbnMsXG4gICAgICAgIHJlc3RQcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfcHJvcHMsIFsncHJlZml4Q2xzJywgJ3N0eWxlJywgJ2NsYXNzTmFtZScsICdjaGlsZHJlbicsICdkaXJlY3Rpb24nLCAnbGFiZWxQbGFjZW1lbnQnLCAnaWNvblByZWZpeCcsICdzdGF0dXMnLCAnc2l6ZScsICdjdXJyZW50JywgJ3Byb2dyZXNzRG90JywgJ2luaXRpYWwnLCAnaWNvbnMnXSk7XG5cbiAgICB2YXIgX3N0YXRlID0gdGhpcy5zdGF0ZSxcbiAgICAgICAgbGFzdFN0ZXBPZmZzZXRXaWR0aCA9IF9zdGF0ZS5sYXN0U3RlcE9mZnNldFdpZHRoLFxuICAgICAgICBmbGV4U3VwcG9ydGVkID0gX3N0YXRlLmZsZXhTdXBwb3J0ZWQ7XG5cbiAgICB2YXIgZmlsdGVyZWRDaGlsZHJlbiA9IFJlYWN0LkNoaWxkcmVuLnRvQXJyYXkoY2hpbGRyZW4pLmZpbHRlcihmdW5jdGlvbiAoYykge1xuICAgICAgcmV0dXJuICEhYztcbiAgICB9KTtcbiAgICB2YXIgbGFzdEluZGV4ID0gZmlsdGVyZWRDaGlsZHJlbi5sZW5ndGggLSAxO1xuICAgIHZhciBhZGp1c3RlZGxhYmVsUGxhY2VtZW50ID0gISFwcm9ncmVzc0RvdCA/ICd2ZXJ0aWNhbCcgOiBsYWJlbFBsYWNlbWVudDtcbiAgICB2YXIgY2xhc3NTdHJpbmcgPSBjbGFzc05hbWVzKHByZWZpeENscywgcHJlZml4Q2xzICsgJy0nICsgZGlyZWN0aW9uLCBjbGFzc05hbWUsIChfY2xhc3NOYW1lcyA9IHt9LCBfY2xhc3NOYW1lc1twcmVmaXhDbHMgKyAnLScgKyBzaXplXSA9IHNpemUsIF9jbGFzc05hbWVzW3ByZWZpeENscyArICctbGFiZWwtJyArIGFkanVzdGVkbGFiZWxQbGFjZW1lbnRdID0gZGlyZWN0aW9uID09PSAnaG9yaXpvbnRhbCcsIF9jbGFzc05hbWVzW3ByZWZpeENscyArICctZG90J10gPSAhIXByb2dyZXNzRG90LCBfY2xhc3NOYW1lc1twcmVmaXhDbHMgKyAnLWZsZXgtbm90LXN1cHBvcnRlZCddID0gIWZsZXhTdXBwb3J0ZWQsIF9jbGFzc05hbWVzKSk7XG5cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgX2V4dGVuZHMoeyBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLCBzdHlsZTogc3R5bGUgfSwgcmVzdFByb3BzKSxcbiAgICAgIENoaWxkcmVuLm1hcChmaWx0ZXJlZENoaWxkcmVuLCBmdW5jdGlvbiAoY2hpbGQsIGluZGV4KSB7XG4gICAgICAgIGlmICghY2hpbGQpIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgICB2YXIgc3RlcE51bWJlciA9IGluaXRpYWwgKyBpbmRleDtcbiAgICAgICAgdmFyIGNoaWxkUHJvcHMgPSBfZXh0ZW5kcyh7XG4gICAgICAgICAgc3RlcE51bWJlcjogJycgKyAoc3RlcE51bWJlciArIDEpLFxuICAgICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICAgIGljb25QcmVmaXg6IGljb25QcmVmaXgsXG4gICAgICAgICAgd3JhcHBlclN0eWxlOiBzdHlsZSxcbiAgICAgICAgICBwcm9ncmVzc0RvdDogcHJvZ3Jlc3NEb3QsXG4gICAgICAgICAgaWNvbnM6IGljb25zXG4gICAgICAgIH0sIGNoaWxkLnByb3BzKTtcbiAgICAgICAgaWYgKCFmbGV4U3VwcG9ydGVkICYmIGRpcmVjdGlvbiAhPT0gJ3ZlcnRpY2FsJyAmJiBpbmRleCAhPT0gbGFzdEluZGV4KSB7XG4gICAgICAgICAgY2hpbGRQcm9wcy5pdGVtV2lkdGggPSAxMDAgLyBsYXN0SW5kZXggKyAnJSc7XG4gICAgICAgICAgY2hpbGRQcm9wcy5hZGp1c3RNYXJnaW5SaWdodCA9IC1NYXRoLnJvdW5kKGxhc3RTdGVwT2Zmc2V0V2lkdGggLyBsYXN0SW5kZXggKyAxKTtcbiAgICAgICAgfVxuICAgICAgICAvLyBmaXggdGFpbCBjb2xvclxuICAgICAgICBpZiAoc3RhdHVzID09PSAnZXJyb3InICYmIGluZGV4ID09PSBjdXJyZW50IC0gMSkge1xuICAgICAgICAgIGNoaWxkUHJvcHMuY2xhc3NOYW1lID0gcHJlZml4Q2xzICsgJy1uZXh0LWVycm9yJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoIWNoaWxkLnByb3BzLnN0YXR1cykge1xuICAgICAgICAgIGlmIChzdGVwTnVtYmVyID09PSBjdXJyZW50KSB7XG4gICAgICAgICAgICBjaGlsZFByb3BzLnN0YXR1cyA9IHN0YXR1cztcbiAgICAgICAgICB9IGVsc2UgaWYgKHN0ZXBOdW1iZXIgPCBjdXJyZW50KSB7XG4gICAgICAgICAgICBjaGlsZFByb3BzLnN0YXR1cyA9ICdmaW5pc2gnO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBjaGlsZFByb3BzLnN0YXR1cyA9ICd3YWl0JztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIGNsb25lRWxlbWVudChjaGlsZCwgY2hpbGRQcm9wcyk7XG4gICAgICB9KVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFN0ZXBzO1xufShDb21wb25lbnQpO1xuXG5TdGVwcy5wcm9wVHlwZXMgPSB7XG4gIHByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgY2xhc3NOYW1lOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpY29uUHJlZml4OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBkaXJlY3Rpb246IFByb3BUeXBlcy5zdHJpbmcsXG4gIGxhYmVsUGxhY2VtZW50OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjaGlsZHJlbjogUHJvcFR5cGVzLmFueSxcbiAgc3RhdHVzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzaXplOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBwcm9ncmVzc0RvdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5mdW5jXSksXG4gIHN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBpbml0aWFsOiBQcm9wVHlwZXMubnVtYmVyLFxuICBjdXJyZW50OiBQcm9wVHlwZXMubnVtYmVyLFxuICBpY29uczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBmaW5pc2g6IFByb3BUeXBlcy5ub2RlLFxuICAgIGVycm9yOiBQcm9wVHlwZXMubm9kZVxuICB9KVxufTtcblN0ZXBzLmRlZmF1bHRQcm9wcyA9IHtcbiAgcHJlZml4Q2xzOiAncmMtc3RlcHMnLFxuICBpY29uUHJlZml4OiAncmMnLFxuICBkaXJlY3Rpb246ICdob3Jpem9udGFsJyxcbiAgbGFiZWxQbGFjZW1lbnQ6ICdob3Jpem9udGFsJyxcbiAgaW5pdGlhbDogMCxcbiAgY3VycmVudDogMCxcbiAgc3RhdHVzOiAncHJvY2VzcycsXG4gIHNpemU6ICcnLFxuICBwcm9ncmVzc0RvdDogZmFsc2Vcbn07XG5leHBvcnQgZGVmYXVsdCBTdGVwczsiLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbmltcG9ydCBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IGNsYXNzTmFtZXMgZnJvbSAnY2xhc3NuYW1lcyc7XG5cbmZ1bmN0aW9uIGlzU3RyaW5nKHN0cikge1xuICByZXR1cm4gdHlwZW9mIHN0ciA9PT0gJ3N0cmluZyc7XG59XG5cbnZhciBTdGVwID0gZnVuY3Rpb24gKF9SZWFjdCRDb21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFN0ZXAsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFN0ZXAoKSB7XG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0ZXApO1xuXG4gICAgcmV0dXJuIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9SZWFjdCRDb21wb25lbnQuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG4gIH1cblxuICBTdGVwLnByb3RvdHlwZS5yZW5kZXJJY29uTm9kZSA9IGZ1bmN0aW9uIHJlbmRlckljb25Ob2RlKCkge1xuICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBwcm9ncmVzc0RvdCA9IF9wcm9wcy5wcm9ncmVzc0RvdCxcbiAgICAgICAgc3RlcE51bWJlciA9IF9wcm9wcy5zdGVwTnVtYmVyLFxuICAgICAgICBzdGF0dXMgPSBfcHJvcHMuc3RhdHVzLFxuICAgICAgICB0aXRsZSA9IF9wcm9wcy50aXRsZSxcbiAgICAgICAgZGVzY3JpcHRpb24gPSBfcHJvcHMuZGVzY3JpcHRpb24sXG4gICAgICAgIGljb24gPSBfcHJvcHMuaWNvbixcbiAgICAgICAgaWNvblByZWZpeCA9IF9wcm9wcy5pY29uUHJlZml4LFxuICAgICAgICBpY29ucyA9IF9wcm9wcy5pY29ucztcblxuICAgIHZhciBpY29uTm9kZSA9IHZvaWQgMDtcbiAgICB2YXIgaWNvbkNsYXNzTmFtZSA9IGNsYXNzTmFtZXMocHJlZml4Q2xzICsgJy1pY29uJywgaWNvblByZWZpeCArICdpY29uJywgKF9jbGFzc05hbWVzID0ge30sIF9jbGFzc05hbWVzW2ljb25QcmVmaXggKyAnaWNvbi0nICsgaWNvbl0gPSBpY29uICYmIGlzU3RyaW5nKGljb24pLCBfY2xhc3NOYW1lc1tpY29uUHJlZml4ICsgJ2ljb24tY2hlY2snXSA9ICFpY29uICYmIHN0YXR1cyA9PT0gJ2ZpbmlzaCcgJiYgaWNvbnMgJiYgIWljb25zLmZpbmlzaCwgX2NsYXNzTmFtZXNbaWNvblByZWZpeCArICdpY29uLWNsb3NlJ10gPSAhaWNvbiAmJiBzdGF0dXMgPT09ICdlcnJvcicgJiYgaWNvbnMgJiYgIWljb25zLmVycm9yLCBfY2xhc3NOYW1lcykpO1xuICAgIHZhciBpY29uRG90ID0gUmVhY3QuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24tZG90JyB9KTtcbiAgICAvLyBgcHJvZ3Jlc3NEb3RgIGVuam95IHRoZSBoaWdoZXN0IHByaW9yaXR5XG4gICAgaWYgKHByb2dyZXNzRG90KSB7XG4gICAgICBpZiAodHlwZW9mIHByb2dyZXNzRG90ID09PSAnZnVuY3Rpb24nKSB7XG4gICAgICAgIGljb25Ob2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaWNvbicgfSxcbiAgICAgICAgICBwcm9ncmVzc0RvdChpY29uRG90LCB7IGluZGV4OiBzdGVwTnVtYmVyIC0gMSwgc3RhdHVzOiBzdGF0dXMsIHRpdGxlOiB0aXRsZSwgZGVzY3JpcHRpb246IGRlc2NyaXB0aW9uIH0pXG4gICAgICAgICk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpY29uTm9kZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ3NwYW4nLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24nIH0sXG4gICAgICAgICAgaWNvbkRvdFxuICAgICAgICApO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoaWNvbiAmJiAhaXNTdHJpbmcoaWNvbikpIHtcbiAgICAgIGljb25Ob2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pY29uJyB9LFxuICAgICAgICBpY29uXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoaWNvbnMgJiYgaWNvbnMuZmluaXNoICYmIHN0YXR1cyA9PT0gJ2ZpbmlzaCcpIHtcbiAgICAgIGljb25Ob2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pY29uJyB9LFxuICAgICAgICBpY29ucy5maW5pc2hcbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChpY29ucyAmJiBpY29ucy5lcnJvciAmJiBzdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgIGljb25Ob2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pY29uJyB9LFxuICAgICAgICBpY29ucy5lcnJvclxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGljb24gfHwgc3RhdHVzID09PSAnZmluaXNoJyB8fCBzdGF0dXMgPT09ICdlcnJvcicpIHtcbiAgICAgIGljb25Ob2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudCgnc3BhbicsIHsgY2xhc3NOYW1lOiBpY29uQ2xhc3NOYW1lIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICBpY29uTm9kZSA9IFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdzcGFuJyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaWNvbicgfSxcbiAgICAgICAgc3RlcE51bWJlclxuICAgICAgKTtcbiAgICB9XG5cbiAgICByZXR1cm4gaWNvbk5vZGU7XG4gIH07XG5cbiAgU3RlcC5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfY2xhc3NOYW1lczI7XG5cbiAgICB2YXIgX3Byb3BzMiA9IHRoaXMucHJvcHMsXG4gICAgICAgIGNsYXNzTmFtZSA9IF9wcm9wczIuY2xhc3NOYW1lLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMyLnByZWZpeENscyxcbiAgICAgICAgc3R5bGUgPSBfcHJvcHMyLnN0eWxlLFxuICAgICAgICBpdGVtV2lkdGggPSBfcHJvcHMyLml0ZW1XaWR0aCxcbiAgICAgICAgX3Byb3BzMiRzdGF0dXMgPSBfcHJvcHMyLnN0YXR1cyxcbiAgICAgICAgc3RhdHVzID0gX3Byb3BzMiRzdGF0dXMgPT09IHVuZGVmaW5lZCA/ICd3YWl0JyA6IF9wcm9wczIkc3RhdHVzLFxuICAgICAgICBpY29uUHJlZml4ID0gX3Byb3BzMi5pY29uUHJlZml4LFxuICAgICAgICBpY29uID0gX3Byb3BzMi5pY29uLFxuICAgICAgICB3cmFwcGVyU3R5bGUgPSBfcHJvcHMyLndyYXBwZXJTdHlsZSxcbiAgICAgICAgYWRqdXN0TWFyZ2luUmlnaHQgPSBfcHJvcHMyLmFkanVzdE1hcmdpblJpZ2h0LFxuICAgICAgICBzdGVwTnVtYmVyID0gX3Byb3BzMi5zdGVwTnVtYmVyLFxuICAgICAgICBkZXNjcmlwdGlvbiA9IF9wcm9wczIuZGVzY3JpcHRpb24sXG4gICAgICAgIHRpdGxlID0gX3Byb3BzMi50aXRsZSxcbiAgICAgICAgcHJvZ3Jlc3NEb3QgPSBfcHJvcHMyLnByb2dyZXNzRG90LFxuICAgICAgICB0YWlsQ29udGVudCA9IF9wcm9wczIudGFpbENvbnRlbnQsXG4gICAgICAgIGljb25zID0gX3Byb3BzMi5pY29ucyxcbiAgICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wczIsIFsnY2xhc3NOYW1lJywgJ3ByZWZpeENscycsICdzdHlsZScsICdpdGVtV2lkdGgnLCAnc3RhdHVzJywgJ2ljb25QcmVmaXgnLCAnaWNvbicsICd3cmFwcGVyU3R5bGUnLCAnYWRqdXN0TWFyZ2luUmlnaHQnLCAnc3RlcE51bWJlcicsICdkZXNjcmlwdGlvbicsICd0aXRsZScsICdwcm9ncmVzc0RvdCcsICd0YWlsQ29udGVudCcsICdpY29ucyddKTtcblxuICAgIHZhciBjbGFzc1N0cmluZyA9IGNsYXNzTmFtZXMocHJlZml4Q2xzICsgJy1pdGVtJywgcHJlZml4Q2xzICsgJy1pdGVtLScgKyBzdGF0dXMsIGNsYXNzTmFtZSwgKF9jbGFzc05hbWVzMiA9IHt9LCBfY2xhc3NOYW1lczJbcHJlZml4Q2xzICsgJy1pdGVtLWN1c3RvbSddID0gaWNvbiwgX2NsYXNzTmFtZXMyKSk7XG4gICAgdmFyIHN0ZXBJdGVtU3R5bGUgPSBfZXh0ZW5kcyh7fSwgc3R5bGUpO1xuICAgIGlmIChpdGVtV2lkdGgpIHtcbiAgICAgIHN0ZXBJdGVtU3R5bGUud2lkdGggPSBpdGVtV2lkdGg7XG4gICAgfVxuICAgIGlmIChhZGp1c3RNYXJnaW5SaWdodCkge1xuICAgICAgc3RlcEl0ZW1TdHlsZS5tYXJnaW5SaWdodCA9IGFkanVzdE1hcmdpblJpZ2h0O1xuICAgIH1cbiAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICdkaXYnLFxuICAgICAgX2V4dGVuZHMoe30sIHJlc3RQcm9wcywge1xuICAgICAgICBjbGFzc05hbWU6IGNsYXNzU3RyaW5nLFxuICAgICAgICBzdHlsZTogc3RlcEl0ZW1TdHlsZVxuICAgICAgfSksXG4gICAgICBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnZGl2JyxcbiAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS10YWlsJyB9LFxuICAgICAgICB0YWlsQ29udGVudFxuICAgICAgKSxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWljb24nIH0sXG4gICAgICAgIHRoaXMucmVuZGVySWNvbk5vZGUoKVxuICAgICAgKSxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLWNvbnRlbnQnIH0sXG4gICAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS10aXRsZScgfSxcbiAgICAgICAgICB0aXRsZVxuICAgICAgICApLFxuICAgICAgICBkZXNjcmlwdGlvbiAmJiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdkaXYnLFxuICAgICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tZGVzY3JpcHRpb24nIH0sXG4gICAgICAgICAgZGVzY3JpcHRpb25cbiAgICAgICAgKVxuICAgICAgKVxuICAgICk7XG4gIH07XG5cbiAgcmV0dXJuIFN0ZXA7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cblN0ZXAucHJvcFR5cGVzID0ge1xuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIHdyYXBwZXJTdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgaXRlbVdpZHRoOiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIHN0YXR1czogUHJvcFR5cGVzLnN0cmluZyxcbiAgaWNvblByZWZpeDogUHJvcFR5cGVzLnN0cmluZyxcbiAgaWNvbjogUHJvcFR5cGVzLm5vZGUsXG4gIGFkanVzdE1hcmdpblJpZ2h0OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMubnVtYmVyLCBQcm9wVHlwZXMuc3RyaW5nXSksXG4gIHN0ZXBOdW1iZXI6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRlc2NyaXB0aW9uOiBQcm9wVHlwZXMuYW55LFxuICB0aXRsZTogUHJvcFR5cGVzLmFueSxcbiAgcHJvZ3Jlc3NEb3Q6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5ib29sLCBQcm9wVHlwZXMuZnVuY10pLFxuICB0YWlsQ29udGVudDogUHJvcFR5cGVzLmFueSxcbiAgaWNvbnM6IFByb3BUeXBlcy5zaGFwZSh7XG4gICAgZmluaXNoOiBQcm9wVHlwZXMubm9kZSxcbiAgICBlcnJvcjogUHJvcFR5cGVzLm5vZGVcbiAgfSlcbn07XG5leHBvcnQgZGVmYXVsdCBTdGVwOyIsImltcG9ydCBTdGVwcyBmcm9tICcuL1N0ZXBzJztcbmltcG9ydCBTdGVwIGZyb20gJy4vU3RlcCc7XG5cblN0ZXBzLlN0ZXAgPSBTdGVwO1xuXG5leHBvcnQgeyBTdGVwIH07XG5leHBvcnQgZGVmYXVsdCBTdGVwczsiLCJmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyBpZiAodHlwZW9mIFN5bWJvbCA9PT0gXCJmdW5jdGlvblwiICYmIHR5cGVvZiBTeW1ib2wuaXRlcmF0b3IgPT09IFwic3ltYm9sXCIpIHsgX3R5cGVvZiA9IGZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IHJldHVybiB0eXBlb2Ygb2JqOyB9OyB9IGVsc2UgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIG9iaiAmJiB0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgb2JqLmNvbnN0cnVjdG9yID09PSBTeW1ib2wgJiYgb2JqICE9PSBTeW1ib2wucHJvdG90eXBlID8gXCJzeW1ib2xcIiA6IHR5cGVvZiBvYmo7IH07IH0gcmV0dXJuIF90eXBlb2Yob2JqKTsgfVxuXG5mdW5jdGlvbiBfZXh0ZW5kcygpIHsgX2V4dGVuZHMgPSBPYmplY3QuYXNzaWduIHx8IGZ1bmN0aW9uICh0YXJnZXQpIHsgZm9yICh2YXIgaSA9IDE7IGkgPCBhcmd1bWVudHMubGVuZ3RoOyBpKyspIHsgdmFyIHNvdXJjZSA9IGFyZ3VtZW50c1tpXTsgZm9yICh2YXIga2V5IGluIHNvdXJjZSkgeyBpZiAoT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHNvdXJjZSwga2V5KSkgeyB0YXJnZXRba2V5XSA9IHNvdXJjZVtrZXldOyB9IH0gfSByZXR1cm4gdGFyZ2V0OyB9OyByZXR1cm4gX2V4dGVuZHMuYXBwbHkodGhpcywgYXJndW1lbnRzKTsgfVxuXG5mdW5jdGlvbiBfY2xhc3NDYWxsQ2hlY2soaW5zdGFuY2UsIENvbnN0cnVjdG9yKSB7IGlmICghKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKSB7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIik7IH0gfVxuXG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydGllcyh0YXJnZXQsIHByb3BzKSB7IGZvciAodmFyIGkgPSAwOyBpIDwgcHJvcHMubGVuZ3RoOyBpKyspIHsgdmFyIGRlc2NyaXB0b3IgPSBwcm9wc1tpXTsgZGVzY3JpcHRvci5lbnVtZXJhYmxlID0gZGVzY3JpcHRvci5lbnVtZXJhYmxlIHx8IGZhbHNlOyBkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZSA9IHRydWU7IGlmIChcInZhbHVlXCIgaW4gZGVzY3JpcHRvcikgZGVzY3JpcHRvci53cml0YWJsZSA9IHRydWU7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eSh0YXJnZXQsIGRlc2NyaXB0b3Iua2V5LCBkZXNjcmlwdG9yKTsgfSB9XG5cbmZ1bmN0aW9uIF9jcmVhdGVDbGFzcyhDb25zdHJ1Y3RvciwgcHJvdG9Qcm9wcywgc3RhdGljUHJvcHMpIHsgaWYgKHByb3RvUHJvcHMpIF9kZWZpbmVQcm9wZXJ0aWVzKENvbnN0cnVjdG9yLnByb3RvdHlwZSwgcHJvdG9Qcm9wcyk7IGlmIChzdGF0aWNQcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IsIHN0YXRpY1Byb3BzKTsgcmV0dXJuIENvbnN0cnVjdG9yOyB9XG5cbmZ1bmN0aW9uIF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHNlbGYsIGNhbGwpIHsgaWYgKGNhbGwgJiYgKF90eXBlb2YoY2FsbCkgPT09IFwib2JqZWN0XCIgfHwgdHlwZW9mIGNhbGwgPT09IFwiZnVuY3Rpb25cIikpIHsgcmV0dXJuIGNhbGw7IH0gcmV0dXJuIF9hc3NlcnRUaGlzSW5pdGlhbGl6ZWQoc2VsZik7IH1cblxuZnVuY3Rpb24gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKSB7IGlmIChzZWxmID09PSB2b2lkIDApIHsgdGhyb3cgbmV3IFJlZmVyZW5jZUVycm9yKFwidGhpcyBoYXNuJ3QgYmVlbiBpbml0aWFsaXNlZCAtIHN1cGVyKCkgaGFzbid0IGJlZW4gY2FsbGVkXCIpOyB9IHJldHVybiBzZWxmOyB9XG5cbmZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IF9nZXRQcm90b3R5cGVPZiA9IE9iamVjdC5zZXRQcm90b3R5cGVPZiA/IE9iamVjdC5nZXRQcm90b3R5cGVPZiA6IGZ1bmN0aW9uIF9nZXRQcm90b3R5cGVPZihvKSB7IHJldHVybiBvLl9fcHJvdG9fXyB8fCBPYmplY3QuZ2V0UHJvdG90eXBlT2Yobyk7IH07IHJldHVybiBfZ2V0UHJvdG90eXBlT2Yobyk7IH1cblxuZnVuY3Rpb24gX2luaGVyaXRzKHN1YkNsYXNzLCBzdXBlckNsYXNzKSB7IGlmICh0eXBlb2Ygc3VwZXJDbGFzcyAhPT0gXCJmdW5jdGlvblwiICYmIHN1cGVyQ2xhc3MgIT09IG51bGwpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIlN1cGVyIGV4cHJlc3Npb24gbXVzdCBlaXRoZXIgYmUgbnVsbCBvciBhIGZ1bmN0aW9uXCIpOyB9IHN1YkNsYXNzLnByb3RvdHlwZSA9IE9iamVjdC5jcmVhdGUoc3VwZXJDbGFzcyAmJiBzdXBlckNsYXNzLnByb3RvdHlwZSwgeyBjb25zdHJ1Y3RvcjogeyB2YWx1ZTogc3ViQ2xhc3MsIHdyaXRhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUgfSB9KTsgaWYgKHN1cGVyQ2xhc3MpIF9zZXRQcm90b3R5cGVPZihzdWJDbGFzcywgc3VwZXJDbGFzcyk7IH1cblxuZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgX3NldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mIHx8IGZ1bmN0aW9uIF9zZXRQcm90b3R5cGVPZihvLCBwKSB7IG8uX19wcm90b19fID0gcDsgcmV0dXJuIG87IH07IHJldHVybiBfc2V0UHJvdG90eXBlT2YobywgcCk7IH1cblxuaW1wb3J0ICogYXMgUmVhY3QgZnJvbSAncmVhY3QnO1xuaW1wb3J0ICogYXMgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IFJjU3RlcHMgZnJvbSAncmMtc3RlcHMnO1xuaW1wb3J0IEljb24gZnJvbSAnLi4vaWNvbic7XG5pbXBvcnQgeyBDb25maWdDb25zdW1lciB9IGZyb20gJy4uL2NvbmZpZy1wcm92aWRlcic7XG5cbnZhciBTdGVwcyA9XG4vKiNfX1BVUkVfXyovXG5mdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoU3RlcHMsIF9SZWFjdCRDb21wb25lbnQpO1xuXG4gIGZ1bmN0aW9uIFN0ZXBzKCkge1xuICAgIHZhciBfdGhpcztcblxuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGVwcyk7XG5cbiAgICBfdGhpcyA9IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuKHRoaXMsIF9nZXRQcm90b3R5cGVPZihTdGVwcykuYXBwbHkodGhpcywgYXJndW1lbnRzKSk7XG5cbiAgICBfdGhpcy5yZW5kZXJTdGVwcyA9IGZ1bmN0aW9uIChfcmVmKSB7XG4gICAgICB2YXIgZ2V0UHJlZml4Q2xzID0gX3JlZi5nZXRQcmVmaXhDbHM7XG4gICAgICB2YXIgcHJlZml4Q2xzID0gZ2V0UHJlZml4Q2xzKCdzdGVwcycsIF90aGlzLnByb3BzLnByZWZpeENscyk7XG4gICAgICB2YXIgaWNvblByZWZpeCA9IGdldFByZWZpeENscygnJywgX3RoaXMucHJvcHMuaWNvblByZWZpeCk7XG4gICAgICB2YXIgaWNvbnMgPSB7XG4gICAgICAgIGZpbmlzaDogUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgICAgICAgdHlwZTogXCJjaGVja1wiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1maW5pc2gtaWNvblwiKVxuICAgICAgICB9KSxcbiAgICAgICAgZXJyb3I6IFJlYWN0LmNyZWF0ZUVsZW1lbnQoSWNvbiwge1xuICAgICAgICAgIHR5cGU6IFwiY2xvc2VcIixcbiAgICAgICAgICBjbGFzc05hbWU6IFwiXCIuY29uY2F0KHByZWZpeENscywgXCItZXJyb3ItaWNvblwiKVxuICAgICAgICB9KVxuICAgICAgfTtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFJjU3RlcHMsIF9leHRlbmRzKHtcbiAgICAgICAgaWNvbnM6IGljb25zXG4gICAgICB9LCBfdGhpcy5wcm9wcywge1xuICAgICAgICBwcmVmaXhDbHM6IHByZWZpeENscyxcbiAgICAgICAgaWNvblByZWZpeDogaWNvblByZWZpeFxuICAgICAgfSkpO1xuICAgIH07XG5cbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBfY3JlYXRlQ2xhc3MoU3RlcHMsIFt7XG4gICAga2V5OiBcInJlbmRlclwiLFxuICAgIHZhbHVlOiBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgICByZXR1cm4gUmVhY3QuY3JlYXRlRWxlbWVudChDb25maWdDb25zdW1lciwgbnVsbCwgdGhpcy5yZW5kZXJTdGVwcyk7XG4gICAgfVxuICB9XSk7XG5cbiAgcmV0dXJuIFN0ZXBzO1xufShSZWFjdC5Db21wb25lbnQpO1xuXG5leHBvcnQgeyBTdGVwcyBhcyBkZWZhdWx0IH07XG5TdGVwcy5TdGVwID0gUmNTdGVwcy5TdGVwO1xuU3RlcHMuZGVmYXVsdFByb3BzID0ge1xuICBjdXJyZW50OiAwXG59O1xuU3RlcHMucHJvcFR5cGVzID0ge1xuICBwcmVmaXhDbHM6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGljb25QcmVmaXg6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGN1cnJlbnQ6IFByb3BUeXBlcy5udW1iZXJcbn07IiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IEFQSSB9IGZyb20gJy4uLy4uL2NvbmZpZy9rZXlzJztcblxuY29uc3QgdmFsaWRLZXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgna2V5Jyk7XG5leHBvcnQgY29uc3QgZGF0YVJlcXVlc3QgPSAoKSA9PiBhc3luYyBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiAnREFUQV9SRVFVRVNUJ1xuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZXJyb3IgPSBtZXNzYWdlID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6ICdFUlJPUicsXG4gICAgcGF5bG9hZDogbWVzc2FnZVxuICB9KTtcbn07XG4vLyBsaXN0IHVzZXJcbmV4cG9ydCBjb25zdCBsaXN0RGF0YSA9IHBhciA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHsgeDogJzEnLCBrZXk6IGAke3ZhbGlkS2V5fWAgfTtcbiAgY29uc3QgZmlsUGFyYW0gPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSwgcGFyKTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgZmlsUGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20sXG4gICAgICAgIGZpbFBhcmFtXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdFUlJPUidcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2F2ZURhdGEgPSBwYXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzEwMScsXG4gICAgaWQ6ICcwJyxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgTmFtZTogcGFyLk5hbWUsXG4gICAgRGVzY3JpcHRpb246IHBhci5EZXNjcmlwdGlvbixcbiAgICBCcmFuY2hJRDogcGFyLkJyYW5jaElELFxuICAgIFNhbGVzSUQ6IHBhci5TYWxlc0lELFxuICAgIEFjdGl2ZTogJ0EnXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdTQVZFX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHVwZGF0ZURhdGEgPSAoaWRVc2VyLCBwYXIpID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcxMDEnLFxuICAgIGlkOiBpZFVzZXIsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gLFxuICAgIE5hbWU6IHBhci5OYW1lLFxuICAgIERlc2NyaXB0aW9uOiBwYXIuRGVzY3JpcHRpb24sXG4gICAgQnJhbmNoSUQ6IHBhci5CcmFuY2hJRCxcbiAgICBTYWxlc0lEOiBwYXIuU2FsZXNJRFxuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnVVBEQVRFX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNob3dEYXRhID0gaWRVc2VyID0+IGFzeW5jIGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICc1MCcsXG4gICAgaWQ6IGlkVXNlcixcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWBcbiAgfTtcbiAgYXdhaXQgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1NIT1dfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20uZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGZpbHRlclN0YXR1cyA9IHBhciA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnNTAnLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBBY3RpdmU6IHBhclxuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnTElTVF9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGEuYXRvbS5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVsZXRlRGF0YSA9IGlkQmFuayA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMjAxJyxcbiAgICBpZDogaWRCYW5rLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YFxuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnREVMRVRFX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXBkYXRlVXNlckdyb3VwID0gaWRVc2VyID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcxNTAnLFxuICAgIGlkOiBpZFVzZXIsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdTQVZFX1VTRVJfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3QgdXNlckFkZERvbWFpbiA9IHVzZXJJZCA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHsgeDogJzUwMCcsIGtleTogYCR7dmFsaWRLZXl9YCwgZm9yOiAndXNlci1kb21haW4nLCBVc2VySUQ6IHVzZXJJZCB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOmdyb3VwYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUl9BRERfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdFUlJPUidcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuLy8gc2F2ZSBhZGQgZ3JvdXAgdXNlclxuZXhwb3J0IGNvbnN0IHNhdmVBZGRHcm91cFVzZXIgPSAoaWRVc2VyLCBmaWVsZHNHcm91cElkKSA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMTUwJyxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgaWQ6IGlkVXNlcixcbiAgICBHcm91cElEOiBmaWVsZHNHcm91cElkXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdTQVZFX0FERF9HUk9VUF9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZWxldGVHcm91cFVzZXIgPSAoaWRVc2VyLCBncm91cElkKSA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMTUxJyxcbiAgICBpZDogaWRVc2VyLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBHcm91cElEOiBncm91cElkXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdERUxFVEVfR1JPVVBfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vIHJpZ2h0IC8gbW5lbW9uaWNcbmV4cG9ydCBjb25zdCBtbmVtb25pYyA9ICh1c2VySWQsIG1vZHVsZUlkKSA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnNTAwJyxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgTW9kdWxlSUQ6IG1vZHVsZUlkIHx8IDAsXG4gICAgVXNlcklEOiB1c2VySWQsXG4gICAgRm9yOiAnZm9ybS1uYW1lJ1xuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOm1uZW1vbmljYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUl9NTkVNT05JQycsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b21cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0VSUk9SJ1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgUHVyZUNvbXBvbmVudCwgRnJhZ21lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IHsgTmF2TGluayB9IGZyb20gJ3JlYWN0LXJvdXRlci1kb20nO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBzaG9ydElkIGZyb20gJ3Nob3J0aWQnO1xuaW1wb3J0IHtcbiAgQnV0dG9uLFxuICBJbnB1dCxcbiAgUm93LFxuICBDb2wsXG4gIEZvcm0sXG4gIE1vZGFsLFxuICBTZWxlY3QsXG4gIFRhZyxcbiAgU3RlcHMsXG4gIFRhYmxlLFxuICBJY29uLFxuICBQb3Bjb25maXJtLFxuICBtZXNzYWdlLFxuICBMaXN0LFxuICBBdmF0YXIsXG4gIEJyZWFkY3J1bWJcbn0gZnJvbSAnYW50ZCc7XG5pbXBvcnQge1xuICBsaXN0RGF0YSxcbiAgc2F2ZURhdGEsXG4gIHNob3dEYXRhLFxuICB1cGRhdGVEYXRhLFxuICBkZWxldGVEYXRhLFxuICB1cGRhdGVVc2VyR3JvdXAsXG4gIHVzZXJBZGREb21haW4sXG4gIHNhdmVBZGRHcm91cFVzZXIsXG4gIGRlbGV0ZUdyb3VwVXNlcixcbiAgbW5lbW9uaWNcbn0gZnJvbSAnLi4vLi4vLi4vLi4vYWN0aW9ucy9hY2wvdXNlckFjdGlvbnMnO1xuaW1wb3J0IHsgbGlzdERhdGEgYXMgbGlzdEJyYW5jaCB9IGZyb20gJy4uLy4uLy4uLy4uL2FjdGlvbnMvbWFzdGVyL2JyYW5jaEFjdGlvbnMnO1xuaW1wb3J0IHsgbGlzdERhdGEgYXMgbGlzdFNhbGVzIH0gZnJvbSAnLi4vLi4vLi4vLi4vYWN0aW9ucy9tYXN0ZXIvc2FsZXNBY3Rpb25zJztcbmltcG9ydCB7IGxpc3REYXRhIGFzIGxpc3RVc2VyR3JvdXAgfSBmcm9tICcuLi8uLi8uLi8uLi9hY3Rpb25zL2FjbC91c2VyR3JvdXBBY3Rpb25zJztcbmltcG9ydCBEYXRhVGFibGUgZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9ob2MvRGF0YVRhYmxlJztcblxuY29uc3QgRm9ybUl0ZW0gPSBGb3JtLkl0ZW07XG5jb25zdCBPcHRpb25zID0gU2VsZWN0Lk9wdGlvbjtcbmNvbnN0IHsgU3RlcCB9ID0gU3RlcHM7XG5cbmNvbnN0IEZvcm1Vc2VyID0gRm9ybS5jcmVhdGUoKShwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBtb2RhbFZpc2libGUsXG4gICAgaGFuZGxlTW9kYWxWaXNpYmxlLFxuICAgIGZvcm1WYWx1ZXMsXG4gICAgZm9ybVRpdGxlLFxuICAgIGN1cnJlbnRTdGVwLFxuICAgIHJlbmRlckNvbnRlbnQsXG4gICAgcmVuZGVyRm9vdGVyXG4gIH0gPSBwcm9wcztcbiAgcmV0dXJuIChcbiAgICA8TW9kYWxcbiAgICAgIHZpc2libGU9e21vZGFsVmlzaWJsZX1cbiAgICAgIHdpZHRoPVwiNzAwcHhcIlxuICAgICAgZm9vdGVyPXtyZW5kZXJGb290ZXIoY3VycmVudFN0ZXApfVxuICAgICAgdGl0bGU9e1tcbiAgICAgICAgPHNwYW4ga2V5PXtzaG9ydElkLmdlbmVyYXRlKCl9PlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJoZWFkZXItdGl0bGUgbWItMFwiPntgJHtmb3JtVGl0bGV9IFVTRVIgTUFOQUdFTUVOVGB9PC9oMz5cbiAgICAgICAgICA8c21hbGwgY2xhc3NOYW1lPVwic21hbGwtMyBoZWFkZXItdGl0bGVcIj5TaWxhaGthbiBpc2kgZGF0YSB5YW5nIHNlc3VhaTwvc21hbGw+XG4gICAgICAgIDwvc3Bhbj5cbiAgICAgIF19XG4gICAgICBvbkNhbmNlbD17KCkgPT4gaGFuZGxlTW9kYWxWaXNpYmxlKCl9XG4gICAgPlxuICAgICAgPFN0ZXBzIHN0eWxlPXt7IG1hcmdpbkJvdHRvbTogMjggfX0gc2l6ZT1cInNtYWxsXCIgY3VycmVudD17Y3VycmVudFN0ZXB9PlxuICAgICAgICA8U3RlcCB0aXRsZT1cIlVzZXJcIiAvPlxuICAgICAgICA8U3RlcCB0aXRsZT1cIlVzZXIgR3JvdXBcIiAvPlxuICAgICAgICA8U3RlcCB0aXRsZT1cIlJpZ2h0XCIgLz5cbiAgICAgIDwvU3RlcHM+XG4gICAgICB7cmVuZGVyQ29udGVudChjdXJyZW50U3RlcCwgZm9ybVZhbHVlcyl9XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn0pO1xuXG5jb25zdCBNb2RhbEFkZEdyb3VwID0gRm9ybS5jcmVhdGUoKShwcm9wcyA9PiB7XG4gIGNvbnN0IHtcbiAgICBtb2RhbEdyb3VwVmlzaWJsZSxcbiAgICB1c2VyR3JvdXAsXG4gICAgb25TZWxlY3RDaGFuZ2UsXG4gICAgc2VsZWN0ZWRSb3dLZXlzLFxuICAgIHNhdmVBZGRHcm91cCxcbiAgICBoYW5kbGVNb2RhbEFkZEdyb3VwXG4gIH0gPSBwcm9wcztcbiAgY29uc3QgY29sdW1ucyA9IFtcbiAgICB7XG4gICAgICB0aXRsZTogJ05hbWUnLFxuICAgICAgZGF0YUluZGV4OiAnbmFtZScsXG4gICAgICBrZXk6ICduYW1lJ1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdEZXNjJyxcbiAgICAgIGRhdGFJbmRleDogJ2Rlc2MnLFxuICAgICAga2V5OiAnZGVzYydcbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnU3RhdHVzJyxcbiAgICAgIGRhdGFJbmRleDogJ3N0YXR1cycsXG4gICAgICBrZXk6ICdzdGF0dXMnLFxuICAgICAgY2xhc3NOYW1lOiAndGV4dC1jZW50ZXInLFxuICAgICAgcmVuZGVyOiB0YWdzID0+IHtcbiAgICAgICAgY29uc3QgY29sb3IgPSB0YWdzID09PSAnQWN0aXZlJyA/ICdncmVlbicgOiAndm9sY2Fubyc7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFRhZyBjb2xvcj17Y29sb3J9IGtleT17dGFnc30+XG4gICAgICAgICAgICB7dGFnc31cbiAgICAgICAgICA8L1RhZz5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIF07XG4gIGNvbnN0IGxpc3RVc2VyR3JvdXAgPSB1c2VyR3JvdXAubGlzdERhdGE7XG4gIGNvbnN0IGRhdGFTb3VyY2UgPSBbXTtcbiAgbGlzdFVzZXJHcm91cC5sZW5ndGggPiAwICYmXG4gICAgbGlzdFVzZXJHcm91cC5tYXAodmFsID0+IHtcbiAgICAgIGRhdGFTb3VyY2UucHVzaCh7XG4gICAgICAgIGtleTogdmFsWzBdLFxuICAgICAgICBuYW1lOiB2YWxbMV0sXG4gICAgICAgIGRlc2M6IHZhbFsyXSxcbiAgICAgICAgc3RhdHVzOiB2YWxbM10gPT09ICdBJyA/ICdBY3RpdmUnIDogJ1Rlcm1pbmF0ZWQnXG4gICAgICB9KTtcbiAgICB9KTtcbiAgY29uc3Qgcm93Q2hlY2tTZWxlY3Rpb24gPSB7XG4gICAgc2VsZWN0ZWRSb3dLZXlzLFxuICAgIG9uQ2hhbmdlOiBlID0+IG9uU2VsZWN0Q2hhbmdlKGUpXG4gIH07XG4gIGNvbnN0IGFkZEdyb3VwID0gKCkgPT4ge1xuICAgIGlmIChzZWxlY3RlZFJvd0tleXMubGVuZ3RoID4gMCkge1xuICAgICAgc2F2ZUFkZEdyb3VwKHNlbGVjdGVkUm93S2V5cyk7XG4gICAgICBoYW5kbGVNb2RhbEFkZEdyb3VwKGZhbHNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbWVzc2FnZS53YXJuaW5nKCdGaWVsZHMgaXMgZW1wdHkhJyk7XG4gICAgfVxuICB9O1xuICByZXR1cm4gKFxuICAgIDxNb2RhbFxuICAgICAgdmlzaWJsZT17bW9kYWxHcm91cFZpc2libGV9XG4gICAgICB3aWR0aD1cIjcwMHB4XCJcbiAgICAgIGZvb3Rlcj17W1xuICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgPEJ1dHRvbiBrZXk9XCJjYW5jZWxcIiBvbkNsaWNrPXsoKSA9PiBoYW5kbGVNb2RhbEFkZEdyb3VwKGZhbHNlKX0+XG4gICAgICAgICAgICBDYW5jZWxcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICAsXG4gICAgICAgICAgPEJ1dHRvbiBrZXk9XCJmb3J3YXJkXCIgdHlwZT1cInByaW1hcnlcIiBvbkNsaWNrPXthZGRHcm91cH0+XG4gICAgICAgICAgICBTYXZlXG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICBdfVxuICAgICAgdGl0bGU9e1tcbiAgICAgICAgPHNwYW4ga2V5PXtzaG9ydElkLmdlbmVyYXRlKCl9PlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJoZWFkZXItdGl0bGUgbWItMFwiPkFERCBVU0VSIEdST1VQPC9oMz5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgXX1cbiAgICAgIG9uQ2FuY2VsPXsoKSA9PiBoYW5kbGVNb2RhbEFkZEdyb3VwKCl9XG4gICAgPlxuICAgICAgPFRhYmxlXG4gICAgICAgIGRhdGFTb3VyY2U9e2RhdGFTb3VyY2V9XG4gICAgICAgIGNsYXNzTmFtZT1cInRhYmxlLW1vZGFsXCJcbiAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgc2Nyb2xsPXt7IHk6IDM0MCB9fVxuICAgICAgICByb3dTZWxlY3Rpb249e3Jvd0NoZWNrU2VsZWN0aW9ufVxuICAgICAgLz5cbiAgICA8L01vZGFsPlxuICApO1xufSk7XG5cbmNsYXNzIFVzZXJNYW5hZ2VtZW50IGV4dGVuZHMgUHVyZUNvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBjdXJyZW50U3RlcDogMCxcbiAgICAgIGZvcm1WYWx1ZXM6IHtcbiAgICAgICAgaWQ6ICcnLFxuICAgICAgICBOYW1lOiAnJyxcbiAgICAgICAgRGVzY3JpcHRpb246ICcnLFxuICAgICAgICBCcmFuY2hJRDogJycsXG4gICAgICAgIFNhbGVzSUQ6ICcnXG4gICAgICB9LFxuICAgICAgc3RlcEZvcm1WYWx1ZXM6IHt9LFxuICAgICAgc2VsZWN0ZWRSb3dLZXlzOiBbXSxcbiAgICAgIG1vZGFsR3JvdXBWaXNpYmxlOiBmYWxzZSxcbiAgICAgIG1vZGFsVXNlclZpc2libGU6IGZhbHNlLFxuICAgICAgbG9hZGluZ0xpc3Q6IGZhbHNlXG4gICAgfTtcbiAgICB0aGlzLmZvcm1MYXlvdXQgPSB7XG4gICAgICBsYWJlbENvbDogeyBzcGFuOiA3IH0sXG4gICAgICB3cmFwcGVyQ29sOiB7IHNwYW46IDEzIH1cbiAgICB9O1xuICB9XG5cbiAgY29tcG9uZW50RGlkTW91bnQgPSAoKSA9PiB7XG4gICAgdGhpcy5wcm9wcy5saXN0QnJhbmNoKCk7XG4gICAgdGhpcy5wcm9wcy5saXN0U2FsZXMoKTtcbiAgICB0aGlzLnByb3BzLmxpc3RVc2VyR3JvdXAoKTtcbiAgfTtcblxuICBjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzID0gbmV4dFByb3BzID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZ0xpc3Q6IHRydWUgfSk7XG4gICAgaWYgKG5leHRQcm9wcy5kYXRhLnN1Y2Nlc3MgIT09IHRoaXMucHJvcHMuZGF0YS5zdWNjZXNzKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZ0xpc3Q6IGZhbHNlIH0pO1xuICAgIH1cbiAgfTtcblxuICBjb21wb25lbnREaWRVcGRhdGUgPSBuZXh0UHJvcHMgPT4ge1xuICAgIGNvbnN0IHsgdXNlcklkIH0gPSB0aGlzLnByb3BzLmRhdGE7XG4gICAgaWYgKG5leHRQcm9wcy5kYXRhLnVzZXJJZCAhPT0gdXNlcklkKSB7XG4gICAgICB0aGlzLnByb3BzLnVzZXJBZGREb21haW4odXNlcklkKTtcbiAgICAgIHRoaXMucHJvcHMubW5lbW9uaWModXNlcklkKTtcbiAgICAgIHRoaXMucHJvcHMuc2hvd0RhdGEodXNlcklkKTtcbiAgICB9XG4gIH07XG5cbiAgaGFuZGxlTmV4dCA9IGN1cnJlbnRTdGVwID0+IHtcbiAgICBjb25zdCB7IGZvcm0sIGhhbmRsZVVwZGF0ZSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IGZvcm1WYWx1ZXM6IG9sZFZhbHVlIH0gPSB0aGlzLnN0YXRlO1xuICAgIGZvcm0udmFsaWRhdGVGaWVsZHMoKGVyciwgZmllbGRzVmFsdWUpID0+IHtcbiAgICAgIGlmIChlcnIpIHJldHVybjtcbiAgICAgIGNvbnN0IGZvcm1WYWx1ZXMgPSB7IC4uLm9sZFZhbHVlLCAuLi5maWVsZHNWYWx1ZSB9O1xuICAgICAgdGhpcy5zZXRTdGF0ZSh7IGZvcm1WYWx1ZXMgfSwgKCkgPT4ge1xuICAgICAgICBpZiAoY3VycmVudFN0ZXAgPCAyKSB7XG4gICAgICAgICAgdGhpcy5mb3J3YXJkKCk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKGN1cnJlbnRTdGVwID09PSAwKSB7XG4gICAgICAgICAgdGhpcy5oYW5kbGVVcGRhdGVVc2VyKGZvcm1WYWx1ZXMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfTtcblxuICAvLyBzYXZlIHN0ZXAgMFxuICBoYW5kbGVVcGRhdGVVc2VyID0gZmllbGRzID0+IHtcbiAgICBpZiAoZmllbGRzLmlkICE9PSAnJykge1xuICAgICAgdGhpcy5wcm9wcy51cGRhdGVEYXRhKGZpZWxkcy5pZCwgZmllbGRzKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5wcm9wcy5zYXZlRGF0YShmaWVsZHMpO1xuICAgIH1cbiAgfTtcblxuICAvLyBzYXZlIHN0ZXAgMVxuICBzYXZlQWRkR3JvdXAgPSBmaWVsZHNHcm91cCA9PiB7XG4gICAgY29uc3QgeyB1c2VySWQgfSA9IHRoaXMucHJvcHMuZGF0YTtcbiAgICB0aGlzLnByb3BzLnNhdmVBZGRHcm91cFVzZXIodXNlcklkLCBmaWVsZHNHcm91cCk7XG4gIH07XG5cbiAgaGFuZGxlRGVsZXRlR3JvdXAgPSAodXNlcklkLCBncm91cElkKSA9PiB7XG4gICAgZ3JvdXBJZCAhPT0gJycgJiYgdGhpcy5wcm9wcy5kZWxldGVHcm91cFVzZXIodXNlcklkLCBncm91cElkKTtcbiAgfTtcblxuICBiYWNrd2FyZCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnRTdGVwIH0gPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY3VycmVudFN0ZXA6IGN1cnJlbnRTdGVwIC0gMVxuICAgIH0pO1xuICB9O1xuXG4gIGZvcndhcmQgPSAoKSA9PiB7XG4gICAgY29uc3QgeyBjdXJyZW50U3RlcCB9ID0gdGhpcy5zdGF0ZTtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIGN1cnJlbnRTdGVwOiBjdXJyZW50U3RlcCArIDFcbiAgICB9KTtcbiAgfTtcblxuICBvblNlbGVjdENoYW5nZSA9IHNlbGVjdGVkUm93S2V5cyA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHNlbGVjdGVkUm93S2V5cyB9KTtcbiAgfTtcblxuICBoYW5kbGVNb2RhbEFkZEdyb3VwID0gZmxhZyA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IG1vZGFsR3JvdXBWaXNpYmxlOiAhIWZsYWcgfSk7XG4gIH07XG5cbiAgaGFuZGxlQ2hpbGRNbmVtb25pYyA9ICh1c2VySWQsIG1vZHVsZUlkKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IGxvYWRpbmdMaXN0OiB0cnVlIH0pO1xuICAgIHVzZXJJZCAhPT0gJycgJiYgdGhpcy5wcm9wcy5tbmVtb25pYyh1c2VySWQsIG1vZHVsZUlkKTtcbiAgfTtcblxuICByZW5kZXJJdGVtTW5lbW9uaWMgPSAodXNlcklkLCBpdGVtKSA9PiB7XG4gICAgcmV0dXJuIChcbiAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgPExpc3QuSXRlbSBrZXk9e2l0ZW0uaWR9PlxuICAgICAgICAgIDxMaXN0Lkl0ZW0uTWV0YVxuICAgICAgICAgICAgYXZhdGFyPXs8QXZhdGFyIHNyYz1cImh0dHBzOi8vaW1nLmljb25zOC5jb20vY29sb3IvNDgvMDAwMDAwL2ZvbGRlci1pbnZvaWNlcy5wbmdcIiAvPn1cbiAgICAgICAgICAgIHRpdGxlPXsoXG4gICAgICAgICAgICAgIDxOYXZMaW5rXG4gICAgICAgICAgICAgICAgdG89e3sgcGF0aG5hbWU6IGAvdXNlci91c2VyLW1hbmFnZW1lbnQvJHtpdGVtLm5hbWV9YCwgaGFzaDogJyMnIH19XG4gICAgICAgICAgICAgICAgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVDaGlsZE1uZW1vbmljKHVzZXJJZCwgaXRlbS5pZCl9XG4gICAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgICB7aXRlbS5uYW1lfVxuICAgICAgICAgICAgICA8L05hdkxpbms+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgLz5cbiAgICAgICAgPC9MaXN0Lkl0ZW0+XG4gICAgICA8L0ZyYWdtZW50PlxuICAgICk7XG4gIH07XG5cbiAgcmVuZGVyQ29udGVudCA9IChjdXJyZW50U3RlcCwgZm9ybVZhbHVlcykgPT4ge1xuICAgIGNvbnN0IHsgZm9ybSwgYnJhbmNoLCBzYWxlcywgZGF0YSB9ID0gdGhpcy5wcm9wcztcbiAgICBjb25zdCB7IHNob3dEYXRhIH0gPSBkYXRhO1xuICAgIGNvbnN0IGxpc3RBZGRHcm91cCA9IHNob3dEYXRhLkRvbWFpbiB8fCBbXTtcbiAgICBjb25zdCB7IHVzZXJJZCB9ID0gdGhpcy5wcm9wcy5kYXRhO1xuICAgIGNvbnN0IGNvbHVtbnMgPSBbXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnTmFtZScsXG4gICAgICAgIGRhdGFJbmRleDogJ25hbWUnLFxuICAgICAgICBrZXk6ICduYW1lJyxcbiAgICAgICAgd2lkdGg6ICc1MDBweCdcbiAgICAgIH0sXG4gICAgICB7XG4gICAgICAgIHRpdGxlOiAnQWN0aW9uJyxcbiAgICAgICAga2V5OiAnYWN0aW9uJyxcbiAgICAgICAgY2xhc3NOYW1lOiAndGV4dC1jZW50ZXInLFxuICAgICAgICByZW5kZXI6ICh0ZXh0LCByZWNvcmQpID0+IChcbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImdhcC14eVwiPlxuICAgICAgICAgICAgPFBvcGNvbmZpcm1cbiAgICAgICAgICAgICAgdGl0bGU9XCJTdXJlIHRvIGRlbGV0ZT9cIlxuICAgICAgICAgICAgICBvbkNvbmZpcm09eygpID0+IHRoaXMuaGFuZGxlRGVsZXRlR3JvdXAodXNlcklkLCByZWNvcmQua2V5KX1cbiAgICAgICAgICAgID5cbiAgICAgICAgICAgICAgPEljb25cbiAgICAgICAgICAgICAgICB0eXBlPVwiY2xvc2UtY2lyY2xlXCJcbiAgICAgICAgICAgICAgICBzdHlsZT17eyBmb250U2l6ZTogJzIzcHgnIH19XG4gICAgICAgICAgICAgICAgdGhlbWU9XCJ0d29Ub25lXCJcbiAgICAgICAgICAgICAgICB0d29Ub25lQ29sb3I9XCIjZGMzNTQ1XCJcbiAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgIDwvUG9wY29uZmlybT5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKVxuICAgICAgfVxuICAgIF07XG5cbiAgICBjb25zdCBkYXRhU291cmNlID0gW107XG4gICAgLy8gbGlzdEFkZEdyb3VwLmxlbmd0aCA+IDAgJiZcbiAgICAvLyAgIGxpc3RBZGRHcm91cC5tYXAodmFsID0+IHtcbiAgICAvLyAgICAgZGF0YVNvdXJjZS5wdXNoKHtcbiAgICAvLyAgICAgICBrZXk6IHZhbFswXSxcbiAgICAvLyAgICAgICBuYW1lOiB2YWxbMV1cbiAgICAvLyAgICAgfSk7XG4gICAgLy8gICB9KTtcblxuICAgIGNvbnN0IGxpc3RCcmFuY2ggPSBicmFuY2gubGlzdERhdGE7XG4gICAgY29uc3QgbGlzdFNhbGVzID0gc2FsZXMubGlzdERhdGE7XG4gICAgaWYgKGN1cnJlbnRTdGVwID09PSAxKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICA8RnJhZ21lbnQ+XG4gICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3cgcGItNFwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cbiAgICAgICAgICAgICAgPEJ1dHRvbiB0eXBlPVwicHJpbWFyeVwiIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlTW9kYWxBZGRHcm91cCh0cnVlKX0+XG4gICAgICAgICAgICAgICAgQWRkIEdyb3VwXG4gICAgICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPFRhYmxlXG4gICAgICAgICAgICBkYXRhU291cmNlPXtkYXRhU291cmNlfVxuICAgICAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtbW9kYWxcIlxuICAgICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgICAgIHNjcm9sbD17eyB5OiAzNDAgfX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0ZyYWdtZW50PlxuICAgICAgXTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRTdGVwID09PSAyKSB7XG4gICAgICBjb25zdCB7IHRyZWVNbmVtb25pYywgdXNlcklkIH0gPSB0aGlzLnByb3BzLmRhdGE7XG4gICAgICBjb25zdCBsaXN0TW5lbW9uaWMgPSBbXTtcbiAgICAgIHRyZWVNbmVtb25pYy5sZW5ndGggPiAwICYmXG4gICAgICAgIHRyZWVNbmVtb25pYy5tYXAodmFsID0+IGxpc3RNbmVtb25pYy5wdXNoKHsgaWQ6IHZhbFswXSwgbmFtZTogdmFsWzJdIH0pKTtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvd1wiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cbiAgICAgICAgICAgICAgPEJyZWFkY3J1bWIgc2VwYXJhdG9yPVwiPlwiPlxuICAgICAgICAgICAgICAgIDxCcmVhZGNydW1iLkl0ZW0+SG9tZTwvQnJlYWRjcnVtYi5JdGVtPlxuICAgICAgICAgICAgICA8L0JyZWFkY3J1bWI+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLW1kLTEyXCI+XG4gICAgICAgICAgICAgIDxMaXN0XG4gICAgICAgICAgICAgICAgc2l6ZT1cInNtYWxsXCJcbiAgICAgICAgICAgICAgICBkYXRhU291cmNlPXtsaXN0TW5lbW9uaWN9XG4gICAgICAgICAgICAgICAgcmVuZGVySXRlbT17aXRlbSA9PiB0aGlzLnJlbmRlckl0ZW1NbmVtb25pYyh1c2VySWQsIGl0ZW0pfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICBdO1xuICAgIH1cbiAgICByZXR1cm4gW1xuICAgICAgPEZyYWdtZW50PlxuICAgICAgICA8Um93IGd1dHRlcj17MjV9PlxuICAgICAgICAgIDxDb2wgc3Bhbj17MjV9PlxuICAgICAgICAgICAgPEZvcm1JdGVtIHN0eWxlPXt7IGRpc3BsYXk6ICdub25lJyB9fT5cbiAgICAgICAgICAgICAge2Zvcm0uZ2V0RmllbGREZWNvcmF0b3IoJ2lkJywge1xuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogKGZvcm1WYWx1ZXMuaWQgJiYgdXNlcklkKSB8fCAnJ1xuICAgICAgICAgICAgICB9KSg8SW5wdXQgLz4pfVxuICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICAgIDxGb3JtSXRlbSBsYWJlbD1cIk5hbWVcIj5cbiAgICAgICAgICAgICAge2Zvcm0uZ2V0RmllbGREZWNvcmF0b3IoJ05hbWUnLCB7XG4gICAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgbmFtZSEnIH1dLFxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogZm9ybVZhbHVlcy5OYW1lIHx8ICcnXG4gICAgICAgICAgICAgIH0pKDxJbnB1dCBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBzaXplPVwibGFyZ2VcIiBwbGFjZWhvbGRlcj1cIk5hbWVcIiAvPil9XG4gICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgIDwvQ29sPlxuICAgICAgICA8L1Jvdz5cbiAgICAgICAgPFJvdyBndXR0ZXI9ezI1fT5cbiAgICAgICAgICA8Q29sIHNwYW49ezI1fT5cbiAgICAgICAgICAgIDxGb3JtSXRlbSBsYWJlbD1cIkRlc2NyaXB0aW9uXCI+XG4gICAgICAgICAgICAgIHtmb3JtLmdldEZpZWxkRGVjb3JhdG9yKCdEZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgICBydWxlczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdQbGVhc2UgaW5wdXQgeW91ciBkZXNjcmlwdGlvbiEnIH1dLFxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogZm9ybVZhbHVlcy5EZXNjcmlwdGlvbiB8fCAnJ1xuICAgICAgICAgICAgICB9KShcbiAgICAgICAgICAgICAgICA8SW5wdXRcbiAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiXG4gICAgICAgICAgICAgICAgICBzaXplPVwibGFyZ2VcIlxuICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJEZXNjcmlwdGlvblwiXG4gICAgICAgICAgICAgICAgICBhdXRvQ29tcGxldGU9XCJEZXNjXCJcbiAgICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICA8L0NvbD5cbiAgICAgICAgPC9Sb3c+XG4gICAgICAgIDxSb3cgZ3V0dGVyPXsyNX0+XG4gICAgICAgICAgPENvbCBzcGFuPXsxMn0+XG4gICAgICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9XCJCcmFuY2hcIj5cbiAgICAgICAgICAgICAge2Zvcm0uZ2V0RmllbGREZWNvcmF0b3IoJ0JyYW5jaElEJywge1xuICAgICAgICAgICAgICAgIHJ1bGVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCB5b3VyIGJyYW5jaCEnIH1dLFxuICAgICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogZm9ybVZhbHVlcy5CcmFuY2hJRCB8fCAnJ1xuICAgICAgICAgICAgICB9KShcbiAgICAgICAgICAgICAgICA8U2VsZWN0IHNpemU9XCJsYXJnZVwiIHBsYWNlaG9sZGVyPVwiQ2hvb3NlIEJyYW5jaFwiIGNsYXNzTmFtZT1cInctMTAwXCI+XG4gICAgICAgICAgICAgICAgICB7bGlzdEJyYW5jaC5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICAgIGxpc3RCcmFuY2gubWFwKHZhbCA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPE9wdGlvbnMga2V5PXtzaG9ydElkLmdlbmVyYXRlKCl9IHZhbHVlPXt2YWxbMF19PlxuICAgICAgICAgICAgICAgICAgICAgICAge3ZhbFsyXX1cbiAgICAgICAgICAgICAgICAgICAgICA8L09wdGlvbnM+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICA8L0NvbD5cbiAgICAgICAgICA8Q29sIHNwYW49ezEyfT5cbiAgICAgICAgICAgIDxGb3JtSXRlbSBsYWJlbD1cIlNhbGVzXCI+XG4gICAgICAgICAgICAgIHtmb3JtLmdldEZpZWxkRGVjb3JhdG9yKCdTYWxlc0lEJywge1xuICAgICAgICAgICAgICAgIHJ1bGVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCB5b3VyIGJyYWNoIScgfV0sXG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBmb3JtVmFsdWVzLlNhbGVzSUQgfHwgJydcbiAgICAgICAgICAgICAgfSkoXG4gICAgICAgICAgICAgICAgPFNlbGVjdCBzaXplPVwibGFyZ2VcIiBwbGFjZWhvbGRlcj1cIkNob29zZSBTYWxlc1wiIGNsYXNzTmFtZT1cInctMTAwXCI+XG4gICAgICAgICAgICAgICAgICB7bGlzdFNhbGVzLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgbGlzdFNhbGVzLm1hcCh2YWwgPT4gKFxuICAgICAgICAgICAgICAgICAgICAgIDxPcHRpb25zIGtleT17c2hvcnRJZC5nZW5lcmF0ZSgpfSB2YWx1ZT17dmFsWzBdfT5cbiAgICAgICAgICAgICAgICAgICAgICAgIHt2YWxbMV19XG4gICAgICAgICAgICAgICAgICAgICAgPC9PcHRpb25zPlxuICAgICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgPC9Db2w+XG4gICAgICAgIDwvUm93PlxuICAgICAgPC9GcmFnbWVudD5cbiAgICBdO1xuICB9O1xuXG4gIHJlbmRlckZvb3RlciA9IGN1cnJlbnRTdGVwID0+IHtcbiAgICBjb25zdCB7IHN0ZXBGb3JtVmFsdWVzIH0gPSB0aGlzLnByb3BzO1xuICAgIGlmIChjdXJyZW50U3RlcCA9PT0gMSkge1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgPEJ1dHRvbiBrZXk9XCJiYWNrXCIgdHlwZT1cInByaW1hcnlcIiBzdHlsZT17eyBmbG9hdDogJ2xlZnQnIH19IG9uQ2xpY2s9e3RoaXMuYmFja3dhcmR9PlxuICAgICAgICAgIEJhY2tcbiAgICAgICAgPC9CdXR0b24+LFxuICAgICAgICA8QnV0dG9uIGtleT1cImNhbmNlbFwiIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlTW9kYWxWaXNpYmxlKGZhbHNlLCBzdGVwRm9ybVZhbHVlcyl9PlxuICAgICAgICAgIENhbmNlbFxuICAgICAgICA8L0J1dHRvbj4sXG4gICAgICAgIDxCdXR0b24ga2V5PVwiZm9yd2FyZFwiIHR5cGU9XCJwcmltYXJ5XCIgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVOZXh0KGN1cnJlbnRTdGVwKX0+XG4gICAgICAgICAgU2F2ZSAmYW1wOyBOZXh0XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgXTtcbiAgICB9XG4gICAgaWYgKGN1cnJlbnRTdGVwID09PSAyKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICA8QnV0dG9uIGtleT1cImJhY2tcIiB0eXBlPVwicHJpbWFyeVwiIHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX0gb25DbGljaz17dGhpcy5iYWNrd2FyZH0+XG4gICAgICAgICAgQmFja1xuICAgICAgICA8L0J1dHRvbj4sXG4gICAgICAgIDxCdXR0b24ga2V5PVwiY2FuY2VsXCIgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVNb2RhbFZpc2libGUoZmFsc2UsIHN0ZXBGb3JtVmFsdWVzKX0+XG4gICAgICAgICAgQ2FuY2VsXG4gICAgICAgIDwvQnV0dG9uPixcbiAgICAgICAgPEJ1dHRvbiBrZXk9XCJmb3J3YXJkXCIgdHlwZT1cInByaW1hcnlcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZU5leHQoY3VycmVudFN0ZXApfT5cbiAgICAgICAgICBTYXZlICZhbXA7IEZpbmlzaFxuICAgICAgICA8L0J1dHRvbj5cbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICA8QnV0dG9uIGtleT1cImNhbmNlbFwiIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlTW9kYWxWaXNpYmxlKGZhbHNlLCBzdGVwRm9ybVZhbHVlcyl9PlxuICAgICAgICBDYW5jZWxcbiAgICAgIDwvQnV0dG9uPixcbiAgICAgIDxCdXR0b24ga2V5PVwiZm9yd2FyZFwiIHR5cGU9XCJwcmltYXJ5XCIgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVOZXh0KGN1cnJlbnRTdGVwKX0+XG4gICAgICAgIFNhdmUgJmFtcDsgTmV4dFxuICAgICAgPC9CdXR0b24+XG4gICAgXTtcbiAgfTtcblxuICBzdGF0aWMgY29sdW1ucyA9IFtcbiAgICB7XG4gICAgICB0aXRsZTogJ05hbWUnLFxuICAgICAgZGF0YUluZGV4OiAnbmFtZScsXG4gICAgICBrZXk6ICduYW1lJyxcbiAgICAgIHdpZHRoOiAnMjAwcHgnLFxuICAgICAgc29ydGVyOiAoYSwgYikgPT4gYS5uYW1lLmxlbmd0aCAtIGIubmFtZS5sZW5ndGgsXG4gICAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ0JyYW5jaCcsXG4gICAgICBkYXRhSW5kZXg6ICdicmFuY2hOYW1lJyxcbiAgICAgIGtleTogJ2JyYW5jaE5hbWUnLFxuICAgICAgd2lkdGg6ICcyMDBweCcsXG4gICAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLmJyYW5jaE5hbWUubGVuZ3RoIC0gYi5icmFuY2hOYW1lLmxlbmd0aCxcbiAgICAgIHNvcnREaXJlY3Rpb25zOiBbJ2Rlc2NlbmQnLCAnYXNjZW5kJ11cbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnU2FsZXMnLFxuICAgICAgZGF0YUluZGV4OiAnc2FsZXNOYW1lJyxcbiAgICAgIGtleTogJ3NhbGVzTmFtZScsXG4gICAgICB3aWR0aDogJzIwMHB4JyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEuc2FsZXNOYW1lLmxlbmd0aCAtIGIuc2FsZXNOYW1lLmxlbmd0aCxcbiAgICAgIHNvcnREaXJlY3Rpb25zOiBbJ2Rlc2NlbmQnLCAnYXNjZW5kJ11cbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnRGVzYycsXG4gICAgICBkYXRhSW5kZXg6ICdkZXNjcmlwdGlvbicsXG4gICAgICBrZXk6ICdkZXNjcmlwdGlvbicsXG4gICAgICB3aWR0aDogJzIwMHB4JyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEubmFtZS5sZW5ndGggLSBiLm5hbWUubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXVxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdTdGF0dXMnLFxuICAgICAgZGF0YUluZGV4OiAnc3RhdHVzJyxcbiAgICAgIGtleTogJ3N0YXR1cycsXG4gICAgICBjbGFzc05hbWU6ICd0ZXh0LWNlbnRlcicsXG4gICAgICB3aWR0aDogJzgwcHgnLFxuICAgICAgc29ydGVyOiAoYSwgYikgPT4gYS5zdGF0dXMubGVuZ3RoIC0gYi5zdGF0dXMubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXSxcbiAgICAgIHJlbmRlcjogdGFncyA9PiB7XG4gICAgICAgIGNvbnN0IGNvbG9yID0gdGFncyA9PT0gJ0FjdGl2ZScgPyAnZ3JlZW4nIDogJ3ZvbGNhbm8nO1xuICAgICAgICByZXR1cm4gKFxuICAgICAgICAgIDxUYWcgY29sb3I9e2NvbG9yfSBrZXk9e3RhZ3N9PlxuICAgICAgICAgICAge3RhZ3N9XG4gICAgICAgICAgPC9UYWc+XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfVxuICBdO1xuXG4gIHN0YXRpYyBkYXRhVGFibGUgPSBkYXRhID0+IHtcbiAgICBjb25zdCBkYXRhVGFibGUgPSBbXTtcbiAgICBkYXRhLmxlbmd0aCA+IDAgJiZcbiAgICAgIGRhdGEubWFwKHZhbCA9PlxuICAgICAgICBkYXRhVGFibGUucHVzaCh7XG4gICAgICAgICAga2V5OiB2YWxbMF0sXG4gICAgICAgICAgbmFtZTogdmFsWzFdLFxuICAgICAgICAgIGJyYW5jaElkOiB2YWxbNF0sXG4gICAgICAgICAgYnJhbmNoTmFtZTogdmFsWzVdLFxuICAgICAgICAgIHNhbGVzSWQ6IHZhbFs2XSxcbiAgICAgICAgICBzYWxlc05hbWU6IHZhbFs3XSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdmFsWzJdLFxuICAgICAgICAgIHN0YXR1czogdmFsWzhdID09PSAnQScgPyAnQWN0aXZlJyA6ICdUZXJtaW5hdGVkJ1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICByZXR1cm4gZGF0YVRhYmxlO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCBjdXJyZW50RnVuY3Rpb24gPSB7XG4gICAgICByZW5kZXJDb250ZW50OiB0aGlzLnJlbmRlckNvbnRlbnQsXG4gICAgICByZW5kZXJGb290ZXI6IHRoaXMucmVuZGVyRm9vdGVyXG4gICAgfTtcbiAgICBjb25zdCBjdXJyZW50RnVuY3Rpb25BZGRHcm91cCA9IHtcbiAgICAgIHNhdmVBZGRHcm91cDogdGhpcy5zYXZlQWRkR3JvdXAsXG4gICAgICBoYW5kbGVNb2RhbEFkZEdyb3VwOiB0aGlzLmhhbmRsZU1vZGFsQWRkR3JvdXBcbiAgICB9O1xuICAgIHJldHVybiAoXG4gICAgICA8RnJhZ21lbnQ+XG4gICAgICAgIDxNb2RhbEFkZEdyb3VwXG4gICAgICAgICAgey4uLnRoaXMuc3RhdGV9XG4gICAgICAgICAgey4uLnRoaXMucHJvcHN9XG4gICAgICAgICAgb25TZWxlY3RDaGFuZ2U9e3RoaXMub25TZWxlY3RDaGFuZ2V9XG4gICAgICAgICAgey4uLmN1cnJlbnRGdW5jdGlvbkFkZEdyb3VwfVxuICAgICAgICAvPlxuICAgICAgICA8Rm9ybVVzZXIgey4uLnRoaXMucHJvcHN9IHsuLi50aGlzLnN0YXRlfSB7Li4uY3VycmVudEZ1bmN0aW9ufSAvPlxuICAgICAgPC9GcmFnbWVudD5cbiAgICApO1xuICB9XG59XG5Vc2VyTWFuYWdlbWVudC5wcm9wVHlwZXMgPSB7XG4gIGxpc3REYXRhOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBzYXZlRGF0YTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgc2hvd0RhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHVwZGF0ZURhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGRlbGV0ZURhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGxpc3RCcmFuY2g6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGxpc3RTYWxlczogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgdXBkYXRlVXNlckdyb3VwOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59O1xuXG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoeyB1c2VyLCBicmFuY2gsIHNhbGVzLCB1c2VyR3JvdXAgfSkgPT4gKHtcbiAgZGF0YTogdXNlcixcbiAgYnJhbmNoLFxuICBzYWxlcyxcbiAgdXNlckdyb3VwXG59KTtcblxuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcbiAgbWFwU3RhdGVUb1Byb3BzLFxuICB7XG4gICAgbGlzdFVzZXJHcm91cCxcbiAgICB1cGRhdGVVc2VyR3JvdXAsXG4gICAgbGlzdEJyYW5jaCxcbiAgICBsaXN0U2FsZXMsXG4gICAgbGlzdERhdGEsXG4gICAgc2F2ZURhdGEsXG4gICAgc2hvd0RhdGEsXG4gICAgdXBkYXRlRGF0YSxcbiAgICBkZWxldGVEYXRhLFxuICAgIHVzZXJBZGREb21haW4sXG4gICAgc2F2ZUFkZEdyb3VwVXNlcixcbiAgICBkZWxldGVHcm91cFVzZXIsXG4gICAgbW5lbW9uaWNcbiAgfVxuKShcbiAgRGF0YVRhYmxlKHtcbiAgICBjb2x1bW5zOiBVc2VyTWFuYWdlbWVudC5jb2x1bW5zLFxuICAgIGRhdGFUYWJsZTogVXNlck1hbmFnZW1lbnQuZGF0YVRhYmxlLFxuICAgIGhlYWRUaXRsZTogJ1VzZXIgTWFuYWdlbWVudCdcbiAgfSkoRm9ybS5jcmVhdGUoKShVc2VyTWFuYWdlbWVudCkpXG4pO1xuIiwiaW1wb3J0IGF4aW9zIGZyb20gJ2F4aW9zJztcbmltcG9ydCB7IEFQSSB9IGZyb20gJy4uLy4uL2NvbmZpZy9rZXlzJztcblxuY29uc3QgdmFsaWRLZXkgPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbSgna2V5Jyk7XG5leHBvcnQgY29uc3QgZGF0YVJlcXVlc3QgPSAoKSA9PiBhc3luYyBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiAnREFUQV9SRVFVRVNUJ1xuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZXJyb3IgPSBtZXNzYWdlID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6ICdFUlJPUicsXG4gICAgcGF5bG9hZDogbWVzc2FnZVxuICB9KTtcbn07XG4vLyBsaXN0IHVzZXJcbmV4cG9ydCBjb25zdCBsaXN0RGF0YSA9IHBhciA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHsgeDogJzEnLCBrZXk6IGAke3ZhbGlkS2V5fWAgfTtcbiAgY29uc3QgZmlsUGFyYW0gPSBPYmplY3QuYXNzaWduKHt9LCBwYXJhbSwgcGFyKTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDpncm91cGAsIGZpbFBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdMSVNUX1VTRVJfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLFxuICAgICAgICBmaWxQYXJhbVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5leHBvcnQgY29uc3Qgc2F2ZURhdGEgPSBwYXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzEwMScsXG4gICAgaWQ6ICcwJyxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgTmFtZTogcGFyLk5hbWUsXG4gICAgRGVzY3JpcHRpb246IHBhci5EZXNjcmlwdGlvbixcbiAgICBBY3RpdmU6ICdBJ1xuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOmdyb3VwYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1NBVkVfVVNFUl9HUk9VUCcsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgdXBkYXRlRGF0YSA9IChpZFVzZXIsIHBhcikgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzEwMScsXG4gICAgaWQ6IGlkVXNlcixcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgTmFtZTogcGFyLk5hbWUsXG4gICAgRGVzY3JpcHRpb246IHBhci5EZXNjcmlwdGlvblxuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOmdyb3VwYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1VQREFURV9VU0VSX0dST1VQJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzaG93RGF0YSA9IGlkVXNlciA9PiBhc3luYyBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnNTAnLFxuICAgIGlkOiBpZFVzZXIsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gXG4gIH07XG4gIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnU0hPV19VU0VSX0dST1VQJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGEuYXRvbS5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZmlsdGVyU3RhdHVzID0gcGFyID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICc1MCcsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gLFxuICAgIEFjdGl2ZTogcGFyXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnTElTVF9VU0VSX0dST1VQJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGEuYXRvbS5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZGVsZXRlRGF0YSA9IGlkQmFuayA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMjAxJyxcbiAgICBpZDogaWRCYW5rLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YFxuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOmdyb3VwYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0RFTEVURV9VU0VSX0dST1VQJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gZXhwb3J0IGNvbnN0IHVzZXJBZGREb21haW4gPSB1c2VySWQgPT4gZGlzcGF0Y2ggPT4ge1xuLy8gICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbi8vICAgY29uc3QgcGFyYW0gPSB7IHg6ICc1MDAnLCBrZXk6IGAke3ZhbGlkS2V5fWAsIGZvcjogJ3VzZXItZG9tYWluJywgVXNlcklEOiB1c2VySWQgfTtcbi8vICAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDpncm91cGAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4vLyAgICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4vLyAgICAgICBkaXNwYXRjaCh7XG4vLyAgICAgICAgIHR5cGU6ICdMSVNUX1VTRVJfQUREX0dST1VQJyxcbi8vICAgICAgICAgcGF5bG9hZDogcmVzLmRhdGEuYXRvbVxuLy8gICAgICAgfSk7XG4vLyAgICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuLy8gICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuLy8gICAgIH1cbi8vICAgfSk7XG4vLyB9O1xuIl0sInNvdXJjZVJvb3QiOiIifQ==