(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{"648x":function(e,t,a){"use strict";a.d(t,"b",function(){return d}),a.d(t,"d",function(){return m}),a.d(t,"f",function(){return p}),a.d(t,"e",function(){return u}),a.d(t,"a",function(){return h}),a.d(t,"c",function(){return E});var n=a("zr5I"),r=a.n(n),s=a("iho4");function o(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,s){try{var o=t[r](s),l=o.value}catch(e){return void a(e)}if(!o.done)return Promise.resolve(l).then(function(e){n("next",e)},function(e){n("throw",e)});e(l)}("next")})}}const l=localStorage.getItem("key"),c=()=>(()=>{var e=o(function*(e){e({type:"DATA_REQUEST"})});return function(t){return e.apply(this,arguments)}})(),i=e=>t=>{t({type:"ERROR",payload:e})},d=e=>t=>{t(c());const a={x:"1",key:`${l}`},n=Object.assign({},a,e);r.a.post(`${s.API}:acl:user`,n).then(e=>{"200"===e.data.r?t({type:"LIST_USER",payload:e.data.atom,filParam:n}):"401"===e.data.r&&t({type:"ERROR"})})},m=e=>t=>{t(c());const a={x:"101",id:"0",key:`${l}`,Name:e.Name,Description:e.Description,BranchID:e.BranchID,SalesID:e.SalesID,Active:"A"};r.a.post(`${s.API}:acl:user`,a).then(e=>{"200"===e.data.r?t({type:"SAVE_USER",payload:e.data}):"401"===e.data.r&&t(i(e.data.m))})},p=(e,t)=>a=>{a(c());const n={x:"101",id:e,key:`${l}`,Name:t.Name,Description:t.Description,BranchID:t.BranchID,SalesID:t.SalesID};r.a.post(`${s.API}:acl:user`,n).then(e=>{"200"===e.data.r?a({type:"UPDATE_USER",payload:e.data}):"401"===e.data.r&&a(i(e.data.m))})},u=e=>(()=>{var t=o(function*(t){t(c());const a={x:"50",id:e,key:`${l}`};yield r.a.post(`${s.API}:acl:user`,a).then(function(e){"200"===e.data.r?t({type:"SHOW_USER",payload:e.data.atom.data}):"401"===e.data.r&&t(i(e.data.m))})});return function(e){return t.apply(this,arguments)}})(),h=e=>t=>{t(c());const a={x:"201",id:e,key:`${l}`};r.a.post(`${s.API}:acl:user`,a).then(e=>{"200"===e.data.r?t({type:"DELETE_USER",payload:e.data}):"401"===e.data.r&&t(i(e.data.m))})},E=()=>e=>{r.a.post(`${s.API}:acl:group`,{x:"1",key:`${l}`}).then(t=>{"200"===t.data.r&&e({type:"LIST_USER_GROUP",payload:t.data.atom.data})})}},iHEJ:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),s=a("h74D"),o=a("17x9"),l=a.n(o),c=a("je4i"),i=a.n(c),d=a("5rEg"),m=a("2fM7"),p=a("CtXQ"),u=a("2/Rp"),h=a("wCAj"),E=a("kLXV"),y=a("Vl3Y");class f extends n.Component{constructor(e){super(e),this.state={}}render(){const{getFieldDecorator:e}=this.props.form;return r.a.createElement(r.a.Fragment,null,r.a.createElement(y.a,{className:"input-round",onSubmit:this.handleUserGroup},r.a.createElement(y.a.Item,{label:"Name"},e("name",{rules:[{required:!0,message:"Please input your name!"}]})(r.a.createElement(d.a,{className:"form-control",size:"large",placeholder:"Name"}))),r.a.createElement(y.a.Item,{label:"Description"},e("desc",{rules:[{required:!0,message:"Please input your description!"}]})(r.a.createElement(d.a,{className:"form-control",size:"large",placeholder:"Description"})))))}}f.propTypes={form:l.a.objectOf(l.a.any).isRequired};var v=y.a.create({name:"userGroup_form"})(f),g=a("648x"),N=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};const S=d.a.Search,b=m.a.Option,w=[{title:"Name",dataIndex:"name",key:"name",sorter:(e,t)=>e.name.length-t.name.length,sortDirections:["descend","ascend"]},{title:"Desc",dataIndex:"description",key:"description",sorter:(e,t)=>e.name.length-t.name.length,sortDirections:["descend","ascend"]},{title:"Status",dataIndex:"status",key:"status",sorter:(e,t)=>e.name.length-t.name.length,sortDirections:["descend","ascend"]},{title:"Action",key:"action",render:(e,t)=>r.a.createElement("div",{className:"gap-xy"},r.a.createElement("button",{type:"button",className:"btn btn-circle btn-xs btn-outline-light"},r.a.createElement(p.a,{type:"eye",style:{fontSize:"16px",color:"#FFF"},theme:"outlined"})),r.a.createElement("button",{type:"button",className:"btn btn-circle btn-xs btn-light"},r.a.createElement(p.a,{type:"edit",style:{fontSize:"16px"},theme:"outlined"})))}];class x extends n.Component{constructor(e){super(e),this.componentDidMount=(()=>{this.props.listUserGroup()}),this.showModal=(()=>{this.setState({visible:!0})}),this.handleCancel=(()=>{this.setState({visible:!1})}),this.state={loading:!1,visible:!1}}render(){const{listUserGroup:e}=this.props.user,t=[];e.length>0&&e.map(e=>t.push({key:i.a.generate(),name:e[1],description:e[2],status:"A"===e[3]?"Active":"Non Active"}));const{loading:a,visible:n}=this.state;return r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"font-weight-700 sub-title"},"USER GROUP"),r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement("div",{className:"table-operations"},r.a.createElement("div",{className:"row no-gutters input-glass"},r.a.createElement("div",{className:"col-1 mr-3"},r.a.createElement(m.a,{showSearch:!0,className:"w-100",placeholder:"Status",optionFilterProp:"children",filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},r.a.createElement(b,{value:"1"},"Active"),r.a.createElement(b,{value:"2"},"Non Active"))),r.a.createElement("div",{className:"col-1 mr-3"},r.a.createElement(m.a,{showSearch:!0,className:"w-100",placeholder:"Branch",optionFilterProp:"children",filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},r.a.createElement(b,{value:"1"},"Active"),r.a.createElement(b,{value:"2"},"Non Active"))),r.a.createElement("div",{className:"col-1 mr-3"},r.a.createElement(m.a,{showSearch:!0,className:"w-100",placeholder:"Group",optionFilterProp:"children",filterOption:(e,t)=>t.props.children.toLowerCase().indexOf(e.toLowerCase())>=0},r.a.createElement(b,{value:"1"},"Active"),r.a.createElement(b,{value:"2"},"Non Active"))),r.a.createElement("div",{className:"col-2 mr-3"},r.a.createElement(S,{placeholder:"input search text",onSearch:e=>console.log(e),className:"w-100"})),r.a.createElement("div",{className:"col-1 mr-3"},r.a.createElement(u.a,{type:"primary",shape:"round",icon:"plus",onClick:this.showModal},"Create New")))),r.a.createElement("div",{className:"py-3"},r.a.createElement(h.a,N({},this.state,{pagination:{position:"top",defaultPageSize:10,pageSizeOptions:["20","50","100"],showSizeChanger:!0},columns:w,dataSource:t})))),r.a.createElement(E.a,{visible:n,title:[r.a.createElement("span",null,r.a.createElement("h3",{className:"header-title mb-0"},"CREATE NEW USER"),r.a.createElement("small",{className:"small-3"},"Silahkan isi data yang sesuai"))],onOk:this.handleOk,onCancel:this.handleCancel,footer:[r.a.createElement(u.a,{key:"submit",type:"primary",loading:a,onClick:this.handleOk},"Submit")]},r.a.createElement(v,null))))}}x.propTypes={user:l.a.objectOf(l.a.any).isRequired,listUserGroup:l.a.func.isRequired};t.default=Object(s.connect)(({user:e})=>({user:e}),{listUserGroup:g.c})(x)}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWN0aW9ucy9hY2wvdXNlckFjdGlvbnMuanN4Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9tYXN0ZXIvYWNsL3VzZXJHcm91cC9Vc2VyR3JvdXBGb3JtLmpzeCIsIndlYnBhY2s6Ly8vLi9zcmMvcGFnZXMvbWFzdGVyL2FjbC91c2VyR3JvdXAvVXNlckdyb3VwLmpzeCJdLCJuYW1lcyI6WyJ2YWxpZEtleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJkYXRhUmVxdWVzdCIsIl9yZWYiLCJfYXN5bmNUb0dlbmVyYXRvciIsImRpc3BhdGNoIiwidHlwZSIsIl94IiwiYXBwbHkiLCJ0aGlzIiwiYXJndW1lbnRzIiwiZXJyb3IiLCJtZXNzYWdlIiwicGF5bG9hZCIsImxpc3REYXRhIiwicGFyIiwicGFyYW0iLCJ4Iiwia2V5IiwiZmlsUGFyYW0iLCJPYmplY3QiLCJhc3NpZ24iLCJheGlvcyIsInBvc3QiLCJBUEkiLCJ0aGVuIiwicmVzIiwiZGF0YSIsInIiLCJhdG9tIiwic2F2ZURhdGEiLCJpZCIsIk5hbWUiLCJEZXNjcmlwdGlvbiIsIkJyYW5jaElEIiwiU2FsZXNJRCIsIkFjdGl2ZSIsIm0iLCJ1cGRhdGVEYXRhIiwiaWRVc2VyIiwic2hvd0RhdGEiLCJfcmVmMiIsIl94MiIsImRlbGV0ZURhdGEiLCJpZEJhbmsiLCJsaXN0VXNlckdyb3VwIiwiVXNlckdyb3VwRm9ybSIsIkNvbXBvbmVudCIsImNvbnN0cnVjdG9yIiwicHJvcHMiLCJzdXBlciIsInN0YXRlIiwicmVuZGVyIiwiZ2V0RmllbGREZWNvcmF0b3IiLCJmb3JtIiwiZXh0ZXJuYWxfUmVhY3RfZGVmYXVsdCIsImEiLCJjcmVhdGVFbGVtZW50IiwiRnJhZ21lbnQiLCJlc19mb3JtIiwiY2xhc3NOYW1lIiwib25TdWJtaXQiLCJoYW5kbGVVc2VyR3JvdXAiLCJJdGVtIiwibGFiZWwiLCJydWxlcyIsInJlcXVpcmVkIiwiaW5wdXQiLCJzaXplIiwicGxhY2Vob2xkZXIiLCJwcm9wVHlwZXMiLCJQcm9wVHlwZXMiLCJvYmplY3RPZiIsImFueSIsImlzUmVxdWlyZWQiLCJ1c2VyR3JvdXBGcm9tIiwiRm9ybSIsImNyZWF0ZSIsIm5hbWUiLCJTZWFyY2hzIiwiSW5wdXQiLCJTZWFyY2giLCJPcHRpb25zIiwiU2VsZWN0IiwiT3B0aW9uIiwiY29sdW1ucyIsInRpdGxlIiwiZGF0YUluZGV4Iiwic29ydGVyIiwiYiIsImxlbmd0aCIsInNvcnREaXJlY3Rpb25zIiwidGV4dCIsInJlY29yZCIsImljb24iLCJzdHlsZSIsImZvbnRTaXplIiwiY29sb3IiLCJ0aGVtZSIsIlVzZXJHcm91cCIsImNvbXBvbmVudERpZE1vdW50Iiwic2hvd01vZGFsIiwic2V0U3RhdGUiLCJ2aXNpYmxlIiwiaGFuZGxlQ2FuY2VsIiwibG9hZGluZyIsInVzZXIiLCJtYXAiLCJ2YWwiLCJwdXNoIiwic2hvcklkIiwiZ2VuZXJhdGUiLCJkZXNjcmlwdGlvbiIsInN0YXR1cyIsImVzX3NlbGVjdCIsInNob3dTZWFyY2giLCJvcHRpb25GaWx0ZXJQcm9wIiwiZmlsdGVyT3B0aW9uIiwib3B0aW9uIiwiY2hpbGRyZW4iLCJ0b0xvd2VyQ2FzZSIsImluZGV4T2YiLCJ2YWx1ZSIsIm9uU2VhcmNoIiwiY29uc29sZSIsImxvZyIsImVzX2J1dHRvbiIsInNoYXBlIiwib25DbGljayIsInRhYmxlIiwiX2V4dGVuZHMiLCJwYWdpbmF0aW9uIiwicG9zaXRpb24iLCJkZWZhdWx0UGFnZVNpemUiLCJwYWdlU2l6ZU9wdGlvbnMiLCJzaG93U2l6ZUNoYW5nZXIiLCJkYXRhU291cmNlIiwibW9kYWwiLCJvbk9rIiwiaGFuZGxlT2siLCJvbkNhbmNlbCIsImZvb3RlciIsInVzZXJHcm91cF9Vc2VyR3JvdXBGb3JtIiwiZnVuYyIsImNvbm5lY3QiXSwibWFwcGluZ3MiOiI2bEJBR0EsTUFBTUEsRUFBV0MsYUFBYUMsUUFBUSxPQUN6QkMsRUFBYyxjQUFBQyxFQUFBQyxFQUFNLFVBQU1DLEdBQ3JDQSxFQUFTLENBQ1BD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QVNBLEVBQ1RqQixNQUFPLENBQ0wvQixFQUFBQyxFQUFBQyxjQUFBLFlBQ0VGLEVBQUFDLEVBQUFDLGNBQUEsTUFBSUcsVUFBVSxxQkFBZCxtQkFDQUwsRUFBQUMsRUFBQUMsY0FBQSxTQUFPRyxVQUFVLFdBQWpCLG1DQUdKOEUsS0FBTWpJLEtBQUtrSSxTQUNYQyxTQUFVbkksS0FBSytGLGFBQ2ZxQyxPQUFRLENBQ050RixFQUFBQyxFQUFBQyxjQUFDcUUsRUFBQSxFQUFELENBQVE1RyxJQUFJLFNBQVNaLEtBQUssVUFBVW1HLFFBQVNBLEVBQVN1QixRQUFTdkgsS0FBS2tJLFVBQ2hFLFlBSU5wRixFQUFBQyxFQUFBQyxjQUFDcUYsRUFBRCxVQU9aM0MsRUFBVTdCLFVBQVksQ0FDcEJvQyxLQUFNbkMsSUFBVUMsU0FBU0QsSUFBVUUsS0FBS0MsV0FDeEM3QixjQUFlMEIsSUFBVXdFLEtBQUtyRSxZQUdqQnNFLDRCQURTLEVBQUd0QyxXQUFILENBQWlCQSxTQUd2QyxDQUFFN0QsbUJBRldtRyxDQUdiN0MiLCJmaWxlIjoiNS5pbmRleC44NDBhYThlOTc2MjQ4Y2Q2Y2Y3ZC5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBBUEkgfSBmcm9tICcuLi8uLi9jb25maWcva2V5cyc7XG5cbmNvbnN0IHZhbGlkS2V5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2tleScpO1xuZXhwb3J0IGNvbnN0IGRhdGFSZXF1ZXN0ID0gKCkgPT4gYXN5bmMgZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogJ0RBVEFfUkVRVUVTVCdcbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGVycm9yID0gbWVzc2FnZSA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiAnRVJST1InLFxuICAgIHBheWxvYWQ6IG1lc3NhZ2VcbiAgfSk7XG59O1xuLy8gbGlzdCB1c2VyXG5leHBvcnQgY29uc3QgbGlzdERhdGEgPSBwYXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7IHg6ICcxJywga2V5OiBgJHt2YWxpZEtleX1gIH07XG4gIGNvbnN0IGZpbFBhcmFtID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0sIHBhcik7XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIGZpbFBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEuYXRvbSk7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdMSVNUX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLFxuICAgICAgICBmaWxQYXJhbVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnRVJST1InXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHNhdmVEYXRhID0gcGFyID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcxMDEnLFxuICAgIGlkOiAnMCcsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gLFxuICAgIE5hbWU6IHBhci5OYW1lLFxuICAgIERlc2NyaXB0aW9uOiBwYXIuRGVzY3JpcHRpb24sXG4gICAgQnJhbmNoSUQ6IHBhci5CcmFuY2hJRCxcbiAgICBTYWxlc0lEOiBwYXIuU2FsZXNJRCxcbiAgICBBY3RpdmU6ICdBJ1xuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnU0FWRV9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCB1cGRhdGVEYXRhID0gKGlkVXNlciwgcGFyKSA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMTAxJyxcbiAgICBpZDogaWRVc2VyLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBOYW1lOiBwYXIuTmFtZSxcbiAgICBEZXNjcmlwdGlvbjogcGFyLkRlc2NyaXB0aW9uLFxuICAgIEJyYW5jaElEOiBwYXIuQnJhbmNoSUQsXG4gICAgU2FsZXNJRDogcGFyLlNhbGVzSURcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1VQREFURV9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzaG93RGF0YSA9IGlkVXNlciA9PiBhc3luYyBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnNTAnLFxuICAgIGlkOiBpZFVzZXIsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gXG4gIH07XG4gIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdTSE9XX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBmaWx0ZXJTdGF0dXMgPSBwYXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzUwJyxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgQWN0aXZlOiBwYXJcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20uZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlbGV0ZURhdGEgPSBpZEJhbmsgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzIwMScsXG4gICAgaWQ6IGlkQmFuayxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWBcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0RFTEVURV9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gdXNlciBncm91cFxuZXhwb3J0IGNvbnN0IGxpc3RVc2VyR3JvdXAgPSAoKSA9PiBkaXNwYXRjaCA9PiB7XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCB7IHg6ICcxJywga2V5OiBgJHt2YWxpZEtleX1gIH0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUl9HUk9VUCcsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20uZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgeyBGb3JtLCBJbnB1dCB9IGZyb20gJ2FudGQnO1xuXG5jbGFzcyBVc2VyR3JvdXBGb3JtIGV4dGVuZHMgQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHt9O1xuICB9XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IHsgZ2V0RmllbGREZWNvcmF0b3IgfSA9IHRoaXMucHJvcHMuZm9ybTtcbiAgICByZXR1cm4gKFxuICAgICAgPFJlYWN0LkZyYWdtZW50PlxuICAgICAgICA8Rm9ybSBjbGFzc05hbWU9XCJpbnB1dC1yb3VuZFwiIG9uU3VibWl0PXt0aGlzLmhhbmRsZVVzZXJHcm91cH0+XG4gICAgICAgICAgPEZvcm0uSXRlbSBsYWJlbD1cIk5hbWVcIj5cbiAgICAgICAgICAgIHtnZXRGaWVsZERlY29yYXRvcignbmFtZScsIHtcbiAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgbmFtZSEnIH1dXG4gICAgICAgICAgICB9KSg8SW5wdXQgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCJOYW1lXCIgLz4pfVxuICAgICAgICAgIDwvRm9ybS5JdGVtPlxuICAgICAgICAgIDxGb3JtLkl0ZW0gbGFiZWw9XCJEZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAge2dldEZpZWxkRGVjb3JhdG9yKCdkZXNjJywge1xuICAgICAgICAgICAgICBydWxlczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdQbGVhc2UgaW5wdXQgeW91ciBkZXNjcmlwdGlvbiEnIH1dXG4gICAgICAgICAgICB9KSg8SW5wdXQgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCJEZXNjcmlwdGlvblwiIC8+KX1cbiAgICAgICAgICA8L0Zvcm0uSXRlbT5cbiAgICAgICAgPC9Gb3JtPlxuICAgICAgPC9SZWFjdC5GcmFnbWVudD5cbiAgICApO1xuICB9XG59XG5Vc2VyR3JvdXBGb3JtLnByb3BUeXBlcyA9IHtcbiAgZm9ybTogUHJvcFR5cGVzLm9iamVjdE9mKFByb3BUeXBlcy5hbnkpLmlzUmVxdWlyZWRcbn07XG5jb25zdCB1c2VyR3JvdXBGcm9tID0gRm9ybS5jcmVhdGUoeyBuYW1lOiAndXNlckdyb3VwX2Zvcm0nIH0pKFVzZXJHcm91cEZvcm0pO1xuZXhwb3J0IGRlZmF1bHQgdXNlckdyb3VwRnJvbTtcbiIsImltcG9ydCBSZWFjdCwgeyBDb21wb25lbnQgfSBmcm9tICdyZWFjdCc7XG5pbXBvcnQgeyBjb25uZWN0IH0gZnJvbSAncmVhY3QtcmVkdXgnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCBzaG9ySWQgZnJvbSAnc2hvcnRpZCc7XG5pbXBvcnQgeyBTZWxlY3QsIE1vZGFsLCBJbnB1dCwgQnV0dG9uLCBUYWJsZSwgSWNvbiB9IGZyb20gJ2FudGQnO1xuaW1wb3J0IFVzZXJHcm91cEZvcm0gZnJvbSAnLi9Vc2VyR3JvdXBGb3JtJztcbmltcG9ydCB7IGxpc3RVc2VyR3JvdXAgfSBmcm9tICcuLi8uLi8uLi8uLi9hY3Rpb25zL2FjbC91c2VyQWN0aW9ucyc7XG5cbmNvbnN0IFNlYXJjaHMgPSBJbnB1dC5TZWFyY2g7XG5jb25zdCBPcHRpb25zID0gU2VsZWN0Lk9wdGlvbjtcbmNvbnN0IGNvbHVtbnMgPSBbXG4gIHtcbiAgICB0aXRsZTogJ05hbWUnLFxuICAgIGRhdGFJbmRleDogJ25hbWUnLFxuICAgIGtleTogJ25hbWUnLFxuICAgIHNvcnRlcjogKGEsIGIpID0+IGEubmFtZS5sZW5ndGggLSBiLm5hbWUubGVuZ3RoLFxuICAgIHNvcnREaXJlY3Rpb25zOiBbJ2Rlc2NlbmQnLCAnYXNjZW5kJ11cbiAgfSxcbiAge1xuICAgIHRpdGxlOiAnRGVzYycsXG4gICAgZGF0YUluZGV4OiAnZGVzY3JpcHRpb24nLFxuICAgIGtleTogJ2Rlc2NyaXB0aW9uJyxcbiAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLm5hbWUubGVuZ3RoIC0gYi5uYW1lLmxlbmd0aCxcbiAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddXG4gIH0sXG4gIHtcbiAgICB0aXRsZTogJ1N0YXR1cycsXG4gICAgZGF0YUluZGV4OiAnc3RhdHVzJyxcbiAgICBrZXk6ICdzdGF0dXMnLFxuICAgIHNvcnRlcjogKGEsIGIpID0+IGEubmFtZS5sZW5ndGggLSBiLm5hbWUubGVuZ3RoLFxuICAgIHNvcnREaXJlY3Rpb25zOiBbJ2Rlc2NlbmQnLCAnYXNjZW5kJ11cbiAgfSxcbiAge1xuICAgIHRpdGxlOiAnQWN0aW9uJyxcbiAgICBrZXk6ICdhY3Rpb24nLFxuICAgIHJlbmRlcjogKHRleHQsIHJlY29yZCkgPT4gKFxuICAgICAgPGRpdiBjbGFzc05hbWU9XCJnYXAteHlcIj5cbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgY2xhc3NOYW1lPVwiYnRuIGJ0bi1jaXJjbGUgYnRuLXhzIGJ0bi1vdXRsaW5lLWxpZ2h0XCI+XG4gICAgICAgICAgPEljb24gdHlwZT1cImV5ZVwiIHN0eWxlPXt7IGZvbnRTaXplOiAnMTZweCcsIGNvbG9yOiAnI0ZGRicgfX0gdGhlbWU9XCJvdXRsaW5lZFwiIC8+XG4gICAgICAgIDwvYnV0dG9uPlxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBjbGFzc05hbWU9XCJidG4gYnRuLWNpcmNsZSBidG4teHMgYnRuLWxpZ2h0XCI+XG4gICAgICAgICAgPEljb24gdHlwZT1cImVkaXRcIiBzdHlsZT17eyBmb250U2l6ZTogJzE2cHgnIH19IHRoZW1lPVwib3V0bGluZWRcIiAvPlxuICAgICAgICA8L2J1dHRvbj5cbiAgICAgIDwvZGl2PlxuICAgIClcbiAgfVxuXTtcbmNsYXNzIFVzZXJHcm91cCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7XG4gICAgICBsb2FkaW5nOiBmYWxzZSxcbiAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgfTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMubGlzdFVzZXJHcm91cCgpO1xuICB9O1xuXG4gIHNob3dNb2RhbCA9ICgpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgIHZpc2libGU6IHRydWVcbiAgICB9KTtcbiAgfTtcblxuICBoYW5kbGVDYW5jZWwgPSAoKSA9PiB7XG4gICAgdGhpcy5zZXRTdGF0ZSh7IHZpc2libGU6IGZhbHNlIH0pO1xuICB9O1xuXG4gIHJlbmRlcigpIHtcbiAgICBjb25zdCB7IGxpc3RVc2VyR3JvdXAgfSA9IHRoaXMucHJvcHMudXNlcjtcbiAgICBjb25zdCBkYXRhID0gW107XG4gICAgbGlzdFVzZXJHcm91cC5sZW5ndGggPiAwICYmXG4gICAgICBsaXN0VXNlckdyb3VwLm1hcCh2YWwgPT5cbiAgICAgICAgZGF0YS5wdXNoKHtcbiAgICAgICAgICBrZXk6IHNob3JJZC5nZW5lcmF0ZSgpLFxuICAgICAgICAgIG5hbWU6IHZhbFsxXSxcbiAgICAgICAgICBkZXNjcmlwdGlvbjogdmFsWzJdLFxuICAgICAgICAgIHN0YXR1czogdmFsWzNdID09PSAnQScgPyAnQWN0aXZlJyA6ICdOb24gQWN0aXZlJ1xuICAgICAgICB9KVxuICAgICAgKTtcbiAgICBjb25zdCB7IGxvYWRpbmcsIHZpc2libGUgfSA9IHRoaXMuc3RhdGU7XG4gICAgcmV0dXJuIChcbiAgICAgIDxSZWFjdC5GcmFnbWVudD5cbiAgICAgICAgPGg1IGNsYXNzTmFtZT1cImZvbnQtd2VpZ2h0LTcwMCBzdWItdGl0bGVcIj5VU0VSIEdST1VQPC9oNT5cbiAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJyb3dcIj5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJ0YWJsZS1vcGVyYXRpb25zXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93IG5vLWd1dHRlcnMgaW5wdXQtZ2xhc3NcIj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwMFwiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiU3RhdHVzXCJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdGlvbikgPT5cbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb24ucHJvcHMuY2hpbGRyZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49IDBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8T3B0aW9ucyB2YWx1ZT1cIjFcIj5BY3RpdmU8L09wdGlvbnM+XG4gICAgICAgICAgICAgICAgICAgIDxPcHRpb25zIHZhbHVlPVwiMlwiPk5vbiBBY3RpdmU8L09wdGlvbnM+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwMFwiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiQnJhbmNoXCJcbiAgICAgICAgICAgICAgICAgICAgb3B0aW9uRmlsdGVyUHJvcD1cImNoaWxkcmVuXCJcbiAgICAgICAgICAgICAgICAgICAgZmlsdGVyT3B0aW9uPXsoaW5wdXQsIG9wdGlvbikgPT5cbiAgICAgICAgICAgICAgICAgICAgICBvcHRpb24ucHJvcHMuY2hpbGRyZW4udG9Mb3dlckNhc2UoKS5pbmRleE9mKGlucHV0LnRvTG93ZXJDYXNlKCkpID49IDBcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgICAgICA8T3B0aW9ucyB2YWx1ZT1cIjFcIj5BY3RpdmU8L09wdGlvbnM+XG4gICAgICAgICAgICAgICAgICAgIDxPcHRpb25zIHZhbHVlPVwiMlwiPk5vbiBBY3RpdmU8L09wdGlvbnM+XG4gICAgICAgICAgICAgICAgICA8L1NlbGVjdD5cbiAgICAgICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC0xIG1yLTNcIj5cbiAgICAgICAgICAgICAgICAgIDxTZWxlY3RcbiAgICAgICAgICAgICAgICAgICAgc2hvd1NlYXJjaFxuICAgICAgICAgICAgICAgICAgICBjbGFzc05hbWU9XCJ3LTEwMFwiXG4gICAgICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiR3JvdXBcIlxuICAgICAgICAgICAgICAgICAgICBvcHRpb25GaWx0ZXJQcm9wPVwiY2hpbGRyZW5cIlxuICAgICAgICAgICAgICAgICAgICBmaWx0ZXJPcHRpb249eyhpbnB1dCwgb3B0aW9uKSA9PlxuICAgICAgICAgICAgICAgICAgICAgIG9wdGlvbi5wcm9wcy5jaGlsZHJlbi50b0xvd2VyQ2FzZSgpLmluZGV4T2YoaW5wdXQudG9Mb3dlckNhc2UoKSkgPj0gMFxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICA+XG4gICAgICAgICAgICAgICAgICAgIDxPcHRpb25zIHZhbHVlPVwiMVwiPkFjdGl2ZTwvT3B0aW9ucz5cbiAgICAgICAgICAgICAgICAgICAgPE9wdGlvbnMgdmFsdWU9XCIyXCI+Tm9uIEFjdGl2ZTwvT3B0aW9ucz5cbiAgICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiY29sLTIgbXItM1wiPlxuICAgICAgICAgICAgICAgICAgPFNlYXJjaHNcbiAgICAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCJpbnB1dCBzZWFyY2ggdGV4dFwiXG4gICAgICAgICAgICAgICAgICAgIG9uU2VhcmNoPXt2YWx1ZSA9PiBjb25zb2xlLmxvZyh2YWx1ZSl9XG4gICAgICAgICAgICAgICAgICAgIGNsYXNzTmFtZT1cInctMTAwXCJcbiAgICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtMSBtci0zXCI+XG4gICAgICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgc2hhcGU9XCJyb3VuZFwiIGljb249XCJwbHVzXCIgb25DbGljaz17dGhpcy5zaG93TW9kYWx9PlxuICAgICAgICAgICAgICAgICAgICB7YENyZWF0ZSBOZXdgfVxuICAgICAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInB5LTNcIj5cbiAgICAgICAgICAgICAgPFRhYmxlXG4gICAgICAgICAgICAgICAgey4uLnRoaXMuc3RhdGV9XG4gICAgICAgICAgICAgICAgcGFnaW5hdGlvbj17e1xuICAgICAgICAgICAgICAgICAgcG9zaXRpb246ICd0b3AnLFxuICAgICAgICAgICAgICAgICAgZGVmYXVsdFBhZ2VTaXplOiAxMCxcbiAgICAgICAgICAgICAgICAgIHBhZ2VTaXplT3B0aW9uczogWycyMCcsICc1MCcsICcxMDAnXSxcbiAgICAgICAgICAgICAgICAgIHNob3dTaXplQ2hhbmdlcjogdHJ1ZVxuICAgICAgICAgICAgICAgIH19XG4gICAgICAgICAgICAgICAgY29sdW1ucz17Y29sdW1uc31cbiAgICAgICAgICAgICAgICBkYXRhU291cmNlPXtkYXRhfVxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPE1vZGFsXG4gICAgICAgICAgICB2aXNpYmxlPXt2aXNpYmxlfVxuICAgICAgICAgICAgdGl0bGU9e1tcbiAgICAgICAgICAgICAgPHNwYW4+XG4gICAgICAgICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImhlYWRlci10aXRsZSBtYi0wXCI+Q1JFQVRFIE5FVyBVU0VSPC9oMz5cbiAgICAgICAgICAgICAgICA8c21hbGwgY2xhc3NOYW1lPVwic21hbGwtM1wiPlNpbGFoa2FuIGlzaSBkYXRhIHlhbmcgc2VzdWFpPC9zbWFsbD5cbiAgICAgICAgICAgICAgPC9zcGFuPlxuICAgICAgICAgICAgXX1cbiAgICAgICAgICAgIG9uT2s9e3RoaXMuaGFuZGxlT2t9XG4gICAgICAgICAgICBvbkNhbmNlbD17dGhpcy5oYW5kbGVDYW5jZWx9XG4gICAgICAgICAgICBmb290ZXI9e1tcbiAgICAgICAgICAgICAgPEJ1dHRvbiBrZXk9XCJzdWJtaXRcIiB0eXBlPVwicHJpbWFyeVwiIGxvYWRpbmc9e2xvYWRpbmd9IG9uQ2xpY2s9e3RoaXMuaGFuZGxlT2t9PlxuICAgICAgICAgICAgICAgIHtgU3VibWl0YH1cbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICBdfVxuICAgICAgICAgID5cbiAgICAgICAgICAgIDxVc2VyR3JvdXBGb3JtIC8+XG4gICAgICAgICAgPC9Nb2RhbD5cbiAgICAgICAgPC9kaXY+XG4gICAgICA8L1JlYWN0LkZyYWdtZW50PlxuICAgICk7XG4gIH1cbn1cblVzZXJHcm91cC5wcm9wVHlwZXMgPSB7XG4gIHVzZXI6IFByb3BUeXBlcy5vYmplY3RPZihQcm9wVHlwZXMuYW55KS5pc1JlcXVpcmVkLFxuICBsaXN0VXNlckdyb3VwOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkXG59O1xuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHsgdXNlciB9KSA9PiAoeyB1c2VyIH0pO1xuZXhwb3J0IGRlZmF1bHQgY29ubmVjdChcbiAgbWFwU3RhdGVUb1Byb3BzLFxuICB7IGxpc3RVc2VyR3JvdXAgfVxuKShVc2VyR3JvdXApO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==