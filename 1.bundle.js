(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{ZvhZ:function(e,a,t){"use strict";t.d(a,"b",function(){return d}),t.d(a,"d",function(){return u}),t.d(a,"f",function(){return m}),t.d(a,"e",function(){return p}),t.d(a,"a",function(){return h}),t.d(a,"c",function(){return y});var n=t("zr5I"),r=t.n(n),s=t("iho4");function l(e){return function(){var a=e.apply(this,arguments);return new Promise(function(e,t){return function n(r,s){try{var l=a[r](s),i=l.value}catch(e){return void t(e)}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}const i=localStorage.getItem("key"),c=()=>(()=>{var e=l(function*(e){e({type:"DATA_REQUEST"})});return function(a){return e.apply(this,arguments)}})(),o=e=>a=>{a({type:"ERROR",payload:e})},d=e=>a=>{a(c());const t={x:"1",key:`${i}`},n=Object.assign({},t,e);r.a.post(`${s.API}:acl:user`,n).then(e=>{"200"===e.data.r?a({type:"LIST_USER",payload:e.data.atom,filParam:n}):"401"===e.data.r&&a({type:"ERROR"})})},u=e=>a=>{a(c());const t={x:"101",id:"0",key:`${i}`,Name:e.Name,Description:e.Description,BranchID:e.BranchID,SalesID:e.SalesID,Active:"A"};r.a.post(`${s.API}:acl:user`,t).then(e=>{"200"===e.data.r?a({type:"SAVE_USER",payload:e.data}):"401"===e.data.r&&a(o(e.data.m))})},m=(e,a)=>t=>{t(c());const n={x:"101",id:e,key:`${i}`,Name:a.Name,Description:a.Description,BranchID:a.BranchID,SalesID:a.SalesID,Active:"A"};r.a.post(`${s.API}:acl:user`,n).then(e=>{"200"===e.data.r?t({type:"UPDATE_USER",payload:e.data}):"401"===e.data.r&&t(o(e.data.m))})},p=e=>(()=>{var a=l(function*(a){a(c());const t={x:"50",id:e,key:`${i}`};yield r.a.post(`${s.API}:acl:user`,t).then(function(e){"200"===e.data.r?a({type:"SHOW_USER",payload:e.data.atom.data}):"401"===e.data.r&&a(o(e.data.m))})});return function(e){return a.apply(this,arguments)}})(),h=e=>a=>{a(c());const t={x:"201",id:e,key:`${i}`};r.a.post(`${s.API}:acl:user`,t).then(e=>{"200"===e.data.r?a({type:"DELETE_USER",payload:e.data}):"401"===e.data.r&&a(o(e.data.m))})},y=()=>e=>{r.a.post(`${s.API}:acl:group`,{x:"1",key:`${i}`}).then(a=>{"200"===a.data.r&&e({type:"LIST_USER_GROUP",payload:a.data.atom.data})})}},knzv:function(e,a,t){"use strict";t.r(a);var n=t("cDcd"),r=t.n(n),s=t("h74D"),l=t("17x9"),i=t.n(l),c=t("je4i"),o=t.n(c),d=t("Vl3Y"),u=t("2fM7"),m=t("kLXV"),p=t("2/Rp"),h=t("BMrR"),y=t("kPKH"),g=t("5rEg"),D=t("ZvhZ"),E=t("7cg7"),f=t("T2ns"),b=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};const I=d.a.Item,k=u.a.Option,v=d.a.create()(e=>{const{modalVisible:a,handleModalVisible:t,formValues:n,formTitle:s,handleCreate:l,form:i,branch:c}=e,d=c.listData;return r.a.createElement(m.a,{visible:a,footer:[r.a.createElement(p.a,{key:"submit",htmlType:"submit",type:"primary",onClick:()=>{i.validateFields((e,a)=>{e||(i.resetFields(),l(a))})}},"Submit")],title:[r.a.createElement("span",{key:o.a.generate()},r.a.createElement("h3",{className:"header-title mb-0"},`${s} UNIT`),r.a.createElement("small",{className:"small-3 header-title"},"Silahkan isi data yang sesuai"))],onCancel:()=>t()},r.a.createElement(h.a,{gutter:25},r.a.createElement(y.a,{span:12},r.a.createElement(I,{label:"Name"},i.getFieldDecorator("Name",{rules:[{required:!0,message:"Please input your name!"}],initialValue:n.name||""})(r.a.createElement(g.a,{className:"form-control",size:"large",placeholder:"Name"})))),r.a.createElement(y.a,{span:12},r.a.createElement(I,{label:"Email"},i.getFieldDecorator("Email",{rules:[{required:!0,message:"Please input your email!"}],initialValue:n.email||""})(r.a.createElement(g.a,{className:"form-control",size:"large",placeholder:"Email"}))))),r.a.createElement(h.a,{gutter:25},r.a.createElement(y.a,{span:25},r.a.createElement(I,{label:"Description"},i.getFieldDecorator("Description",{rules:[{required:!0,message:"Please input your description!"}]})(r.a.createElement(g.a,{className:"form-control",size:"large",placeholder:"Description"}))))),r.a.createElement(h.a,{gutter:25},r.a.createElement(y.a,{span:12},r.a.createElement(I,{label:"Brach"},i.getFieldDecorator("BranchID",{rules:[{required:!0,message:"Please input your brach!"}]})(r.a.createElement(u.a,{size:"large",placeholder:"Choose Branch",className:"w-100"},d.length>0&&d.map(e=>r.a.createElement(k,{key:o.a.generate(),value:e[0]},e[2])))))),r.a.createElement(y.a,{span:12},r.a.createElement(I,{label:"Password"},i.getFieldDecorator("Password",{rules:[{required:!0,message:"Please input your password!"}]})(r.a.createElement(g.a,{type:"password",className:"form-control",size:"large",placeholder:"******"}))))))});class R extends n.Component{constructor(e){super(e),this.componentDidMount=(()=>{this.props.listBranch()}),this.state={}}render(){return r.a.createElement(v,b({},this.props,this.state))}}R.columns=[{title:"Name",dataIndex:"name",key:"name",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]},{title:"Email",dataIndex:"email",key:"email",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]},{title:"Branch",dataIndex:"branch",key:"branch",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]},{title:"Group",dataIndex:"group",key:"group",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]},{title:"Status",dataIndex:"status",key:"status",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]},{title:"Desc",dataIndex:"description",key:"description",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]}],R.dataTable=(e=>{const a=[];return e.length>0&&e.map(e=>a.push({key:e[0],name:e[1],email:"suchronrizal@gmail.com",branch:e[5],group:e[7],status:"A"===e[8]?"Active":"Non Active",description:e[2]})),a}),R.propTypes={listData:i.a.func.isRequired,saveData:i.a.func.isRequired,showData:i.a.func.isRequired,updateData:i.a.func.isRequired,deleteData:i.a.func.isRequired,listBranch:i.a.objectOf(i.a.any).isRequired};a.default=Object(s.connect)(({user:e,branch:a})=>({data:e,branch:a}),{listBranch:E.b,listData:D.b,saveData:D.d,showData:D.e,updateData:D.f,deleteData:D.a})(Object(f.a)({columns:R.columns,dataTable:R.dataTable,headTitle:"User Management"})(R))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWN0aW9ucy91c2VyQWN0aW9ucy5qc3giLCJ3ZWJwYWNrOi8vLy4vc3JjL3BhZ2VzL21hc3Rlci9hY2wvdXNlci9Vc2VyTWFuYWdlbWVudC5qc3giXSwibmFtZXMiOlsidmFsaWRLZXkiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiZGF0YVJlcXVlc3QiLCJfcmVmIiwiX2FzeW5jVG9HZW5lcmF0b3IiLCJkaXNwYXRjaCIsInR5cGUiLCJfeCIsImFwcGx5IiwidGhpcyIsImFyZ3VtZW50cyIsImVycm9yIiwibWVzc2FnZSIsInBheWxvYWQiLCJsaXN0RGF0YSIsInBhciIsInBhcmFtIiwieCIsImtleSIsImZpbFBhcmFtIiwiT2JqZWN0IiwiYXNzaWduIiwiYXhpb3MiLCJwb3N0IiwiQVBJIiwidGhlbiIsInJlcyIsImRhdGEiLCJyIiwiYXRvbSIsInNhdmVEYXRhIiwiaWQiLCJOYW1lIiwiRGVzY3JpcHRpb24iLCJCcmFuY2hJRCIsIlNhbGVzSUQiLCJBY3RpdmUiLCJtIiwidXBkYXRlRGF0YSIsImlkVXNlciIsInNob3dEYXRhIiwiX3JlZjIiLCJfeDIiLCJkZWxldGVEYXRhIiwiaWRCYW5rIiwibGlzdFVzZXJHcm91cCIsIkZvcm1JdGVtIiwiRm9ybSIsIkl0ZW0iLCJPcHRpb25zIiwiU2VsZWN0IiwiT3B0aW9uIiwiRm9ybVVzZXIiLCJjcmVhdGUiLCJwcm9wcyIsIm1vZGFsVmlzaWJsZSIsImhhbmRsZU1vZGFsVmlzaWJsZSIsImZvcm1WYWx1ZXMiLCJmb3JtVGl0bGUiLCJoYW5kbGVDcmVhdGUiLCJmb3JtIiwiYnJhbmNoIiwibGlzdEJyYW5jaCIsInJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCIsImEiLCJjcmVhdGVFbGVtZW50IiwiYW50ZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fIiwidmlzaWJsZSIsImZvb3RlciIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyIsImh0bWxUeXBlIiwib25DbGljayIsInZhbGlkYXRlRmllbGRzIiwiZXJyIiwiZmllbGRWYWx1ZSIsInJlc2V0RmllbGRzIiwidGl0bGUiLCJzaG9ydElkIiwiZ2VuZXJhdGUiLCJjbGFzc05hbWUiLCJvbkNhbmNlbCIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyIsImd1dHRlciIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyIsInNwYW4iLCJsYWJlbCIsImdldEZpZWxkRGVjb3JhdG9yIiwicnVsZXMiLCJyZXF1aXJlZCIsImluaXRpYWxWYWx1ZSIsIm5hbWUiLCJhbnRkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMF9fIiwic2l6ZSIsInBsYWNlaG9sZGVyIiwiZW1haWwiLCJhbnRkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV81X18iLCJsZW5ndGgiLCJtYXAiLCJ2YWwiLCJ2YWx1ZSIsIlVzZXJNYW5hZ2VtZW50IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJzdXBlciIsImNvbXBvbmVudERpZE1vdW50Iiwic3RhdGUiLCJyZW5kZXIiLCJfZXh0ZW5kcyIsImNvbHVtbnMiLCJkYXRhSW5kZXgiLCJzb3J0ZXIiLCJiIiwic29ydERpcmVjdGlvbnMiLCJkYXRhVGFibGUiLCJwdXNoIiwiZ3JvdXAiLCJzdGF0dXMiLCJkZXNjcmlwdGlvbiIsInByb3BUeXBlcyIsIlByb3BUeXBlcyIsImZ1bmMiLCJpc1JlcXVpcmVkIiwib2JqZWN0T2YiLCJhbnkiLCJjb25uZWN0IiwidXNlciIsIkRhdGFUYWJsZSIsImhlYWRUaXRsZSJdLCJtYXBwaW5ncyI6IjJsQkFHQSxNQUFNQSxFQUFXQyxhQUFhQyxRQUFRLE9BQ3pCQyxFQUFjLGNBQUFDLEVBQUFDLEVBQU0sVUFBTUMsR0FDckNBLEVBQVMsQ0FDUEMsS0FBTSxtQkFGaUIsZ0JBQUFDLEdBQUEsT0FBQUosRUFBQUssTUFBQUMsS0FBQUMsYUFBQSxHQUtkQyxFQUFRQyxHQUFXUCxJQUM5QkEsRUFBUyxDQUNQQyxLQUFNLFFBQ05PLFFBQVNELEtBSUFFLEVBQVdDLEdBQU9WLElBQzdCQSxFQUFTSCxLQUNULE1BQU1jLEVBQVEsQ0FBRUMsRUFBRyxJQUFLQyxPQUFRbkIsS0FDMUJvQixFQUFXQyxPQUFPQyxPQUFPLEdBQUlMLEVBQU9ELEdBQzFDTyxJQUFNQyxRQUFRQyxpQkFBZ0JMLEdBQVVNLEtBQUtDLElBRXhCLFFBQWZBLEVBQUlDLEtBQUtDLEVBQ1h2QixFQUFTLENBQ1BDLEtBQU0sWUFDTk8sUUFBU2EsRUFBSUMsS0FBS0UsS0FDbEJWLGFBRXNCLFFBQWZPLEVBQUlDLEtBQUtDLEdBQ2xCdkIsRUFBUyxDQUNQQyxLQUFNLGFBTUR3QixFQUFXZixHQUFPVixJQUM3QkEsRUFBU0gsS0FDVCxNQUFNYyxFQUFRLENBQ1pDLEVBQUcsTUFDSGMsR0FBSSxJQUNKYixPQUFRbkIsSUFDUmlDLEtBQU1qQixFQUFJaUIsS0FDVkMsWUFBYWxCLEVBQUlrQixZQUNqQkMsU0FBVW5CLEVBQUltQixTQUNkQyxRQUFTcEIsRUFBSW9CLFFBQ2JDLE9BQVEsS0FFVmQsSUFBTUMsUUFBUUMsaUJBQWdCUixHQUFPUyxLQUFLQyxJQUNyQixRQUFmQSxFQUFJQyxLQUFLQyxFQUNYdkIsRUFBUyxDQUNQQyxLQUFNLFlBQ05PLFFBQVNhLEVBQUlDLE9BRVMsUUFBZkQsRUFBSUMsS0FBS0MsR0FDbEJ2QixFQUFTTSxFQUFNZSxFQUFJQyxLQUFLVSxPQUlqQkMsRUFBYSxDQUFDQyxFQUFReEIsSUFBUVYsSUFDekNBLEVBQVNILEtBQ1QsTUFBTWMsRUFBUSxDQUNaQyxFQUFHLE1BQ0hjLEdBQUlRLEVBQ0pyQixPQUFRbkIsSUFDUmlDLEtBQU1qQixFQUFJaUIsS0FDVkMsWUFBYWxCLEVBQUlrQixZQUNqQkMsU0FBVW5CLEVBQUltQixTQUNkQyxRQUFTcEIsRUFBSW9CLFFBQ2JDLE9BQVEsS0FFVmQsSUFBTUMsUUFBUUMsaUJBQWdCUixHQUFPUyxLQUFLQyxJQUNyQixRQUFmQSxFQUFJQyxLQUFLQyxFQUNYdkIsRUFBUyxDQUNQQyxLQUFNLGNBQ05PLFFBQVNhLEVBQUlDLE9BRVMsUUFBZkQsRUFBSUMsS0FBS0MsR0FDbEJ2QixFQUFTTSxFQUFNZSxFQUFJQyxLQUFLVSxPQUlqQkcsRUFBV0QsU0FBQSxJQUFBRSxFQUFBckMsRUFBVSxVQUFNQyxHQUN0Q0EsRUFBU0gsS0FDVCxNQUFNYyxFQUFRLENBQ1pDLEVBQUcsS0FDSGMsR0FBSVEsRUFDSnJCLE9BQVFuQixXQUVKdUIsSUFBTUMsUUFBUUMsaUJBQWdCUixHQUFPUyxLQUFLLFNBQUFDLEdBQzNCLFFBQWZBLEVBQUlDLEtBQUtDLEVBQ1h2QixFQUFTLENBQ1BDLEtBQU0sWUFDTk8sUUFBU2EsRUFBSUMsS0FBS0UsS0FBS0YsT0FFRCxRQUFmRCxFQUFJQyxLQUFLQyxHQUNsQnZCLEVBQVNNLEVBQU1lLEVBQUlDLEtBQUtVLFFBZE4sZ0JBQUFLLEdBQUEsT0FBQUQsRUFBQWpDLE1BQUFDLEtBQUFDLGFBQUE2QixHQW9DWEksRUFBYUMsR0FBVXZDLElBQ2xDQSxFQUFTSCxLQUNULE1BQU1jLEVBQVEsQ0FDWkMsRUFBRyxNQUNIYyxHQUFJYSxFQUNKMUIsT0FBUW5CLEtBRVZ1QixJQUFNQyxRQUFRQyxpQkFBZ0JSLEdBQU9TLEtBQUtDLElBQ3JCLFFBQWZBLEVBQUlDLEtBQUtDLEVBQ1h2QixFQUFTLENBQ1BDLEtBQU0sY0FDTk8sUUFBU2EsRUFBSUMsT0FFUyxRQUFmRCxFQUFJQyxLQUFLQyxHQUNsQnZCLEVBQVNNLEVBQU1lLEVBQUlDLEtBQUtVLE9BTWpCUSxFQUFnQixJQUFNeEMsSUFDakNpQixJQUFNQyxRQUFRQyxrQkFBaUIsQ0FBRVAsRUFBRyxJQUFLQyxPQUFRbkIsTUFBYzBCLEtBQUtDLElBQy9DLFFBQWZBLEVBQUlDLEtBQUtDLEdBQ1h2QixFQUFTLENBQ1BDLEtBQU0sa0JBQ05PLFFBQVNhLEVBQUlDLEtBQUtFLEtBQUtGLCtaQ2hJL0IsTUFBTW1CLEVBQVdDLElBQUtDLEtBQ2hCQyxFQUFVQyxJQUFPQyxPQUVqQkMsRUFBV0wsSUFBS00sUUFBTE4sQ0FBY08sSUFDN0IsTUFBTUMsYUFDSkEsRUFESUMsbUJBRUpBLEVBRklDLFdBR0pBLEVBSElDLFVBSUpBLEVBSklDLGFBS0pBLEVBTElDLEtBTUpBLEVBTklDLE9BT0pBLEdBQ0VQLEVBUUVRLEVBQWFELEVBQU8vQyxTQUMxQixPQUNFaUQsRUFBQUMsRUFBQUMsY0FBQ0MsRUFBQSxFQUFELENBQ0VDLFFBQVNaLEVBQ1RhLE9BQVEsQ0FDTkwsRUFBQUMsRUFBQUMsY0FBQ0ksRUFBQSxFQUFELENBQVFuRCxJQUFJLFNBQVNvRCxTQUFTLFNBQVNoRSxLQUFLLFVBQVVpRSxRQVozQyxLQUNmWCxFQUFLWSxlQUFlLENBQUNDLEVBQUtDLEtBQ3BCRCxJQUNKYixFQUFLZSxjQUNMaEIsRUFBYWUsUUFTUCxXQUdORSxNQUFPLENBQ0xiLEVBQUFDLEVBQUFDLGNBQUEsUUFBTS9DLElBQUsyRCxJQUFRQyxZQUNqQmYsRUFBQUMsRUFBQUMsY0FBQSxNQUFJYyxVQUFVLHdCQUF3QnJCLFVBQ3RDSyxFQUFBQyxFQUFBQyxjQUFBLFNBQU9jLFVBQVUsd0JBQWpCLG1DQUdKQyxTQUFVLElBQU14QixLQUVoQk8sRUFBQUMsRUFBQUMsY0FBQ2dCLEVBQUEsRUFBRCxDQUFLQyxPQUFRLElBQ1huQixFQUFBQyxFQUFBQyxjQUFDa0IsRUFBQSxFQUFELENBQUtDLEtBQU0sSUFDVHJCLEVBQUFDLEVBQUFDLGNBQUNuQixFQUFELENBQVV1QyxNQUFNLFFBQ2J6QixFQUFLMEIsa0JBQWtCLE9BQVEsQ0FDOUJDLE1BQU8sQ0FBQyxDQUFFQyxVQUFVLEVBQU01RSxRQUFTLDRCQUNuQzZFLGFBQWNoQyxFQUFXaUMsTUFBUSxJQUZsQzlCLENBR0VHLEVBQUFDLEVBQUFDLGNBQUMwQixFQUFBLEVBQUQsQ0FBT1osVUFBVSxlQUFlYSxLQUFLLFFBQVFDLFlBQVksWUFHaEU5QixFQUFBQyxFQUFBQyxjQUFDa0IsRUFBQSxFQUFELENBQUtDLEtBQU0sSUFDVHJCLEVBQUFDLEVBQUFDLGNBQUNuQixFQUFELENBQVV1QyxNQUFNLFNBQ2J6QixFQUFLMEIsa0JBQWtCLFFBQVMsQ0FDL0JDLE1BQU8sQ0FBQyxDQUFFQyxVQUFVLEVBQU01RSxRQUFTLDZCQUNuQzZFLGFBQWNoQyxFQUFXcUMsT0FBUyxJQUZuQ2xDLENBR0VHLEVBQUFDLEVBQUFDLGNBQUMwQixFQUFBLEVBQUQsQ0FBT1osVUFBVSxlQUFlYSxLQUFLLFFBQVFDLFlBQVksY0FJbEU5QixFQUFBQyxFQUFBQyxjQUFDZ0IsRUFBQSxFQUFELENBQUtDLE9BQVEsSUFDWG5CLEVBQUFDLEVBQUFDLGNBQUNrQixFQUFBLEVBQUQsQ0FBS0MsS0FBTSxJQUNUckIsRUFBQUMsRUFBQUMsY0FBQ25CLEVBQUQsQ0FBVXVDLE1BQU0sZUFDYnpCLEVBQUswQixrQkFBa0IsY0FBZSxDQUNyQ0MsTUFBTyxDQUFDLENBQUVDLFVBQVUsRUFBTTVFLFFBQVMsb0NBRHBDZ0QsQ0FFRUcsRUFBQUMsRUFBQUMsY0FBQzBCLEVBQUEsRUFBRCxDQUFPWixVQUFVLGVBQWVhLEtBQUssUUFBUUMsWUFBWSxvQkFJbEU5QixFQUFBQyxFQUFBQyxjQUFDZ0IsRUFBQSxFQUFELENBQUtDLE9BQVEsSUFDWG5CLEVBQUFDLEVBQUFDLGNBQUNrQixFQUFBLEVBQUQsQ0FBS0MsS0FBTSxJQUNUckIsRUFBQUMsRUFBQUMsY0FBQ25CLEVBQUQsQ0FBVXVDLE1BQU0sU0FDYnpCLEVBQUswQixrQkFBa0IsV0FBWSxDQUNsQ0MsTUFBTyxDQUFDLENBQUVDLFVBQVUsRUFBTTVFLFFBQVMsOEJBRHBDZ0QsQ0FHQ0csRUFBQUMsRUFBQUMsY0FBQzhCLEVBQUEsRUFBRCxDQUFRSCxLQUFLLFFBQVFDLFlBQVksZ0JBQWdCZCxVQUFVLFNBQ3hEakIsRUFBV2tDLE9BQVMsR0FDbkJsQyxFQUFXbUMsSUFBSUMsR0FDYm5DLEVBQUFDLEVBQUFDLGNBQUNoQixFQUFELENBQVMvQixJQUFLMkQsSUFBUUMsV0FBWXFCLE1BQU9ELEVBQUksSUFDMUNBLEVBQUksU0FPbkJuQyxFQUFBQyxFQUFBQyxjQUFDa0IsRUFBQSxFQUFELENBQUtDLEtBQU0sSUFDVHJCLEVBQUFDLEVBQUFDLGNBQUNuQixFQUFELENBQVV1QyxNQUFNLFlBQ2J6QixFQUFLMEIsa0JBQWtCLFdBQVksQ0FDbENDLE1BQU8sQ0FBQyxDQUFFQyxVQUFVLEVBQU01RSxRQUFTLGlDQURwQ2dELENBR0NHLEVBQUFDLEVBQUFDLGNBQUMwQixFQUFBLEVBQUQsQ0FBT3JGLEtBQUssV0FBV3lFLFVBQVUsZUFBZWEsS0FBSyxRQUFRQyxZQUFZLGtCQVN2RixNQUFNTyxVQUF1QkMsWUFDM0JDLFlBQVloRCxHQUNWaUQsTUFBTWpELEdBRFc3QyxLQUtuQitGLGtCQUFvQixNQUNsQi9GLEtBQUs2QyxNQUFNUSxlQUpYckQsS0FBS2dHLE1BQVEsR0FxRWZDLFNBQ0UsT0FBTzNDLEVBQUFDLEVBQUFDLGNBQUNiLEVBQUR1RCxFQUFBLEdBQWNsRyxLQUFLNkMsTUFBVzdDLEtBQUtnRyxTQXpFeENMLEVBVUdRLFFBQVUsQ0FDZixDQUNFaEMsTUFBTyxPQUNQaUMsVUFBVyxPQUNYM0YsSUFBSyxPQUNMNEYsT0FBUSxDQUFDOUMsRUFBRytDLElBQU0vQyxFQUFFMEIsS0FBS00sT0FBU2UsRUFBRXJCLEtBQUtNLE9BQ3pDZ0IsZUFBZ0IsQ0FBQyxVQUFXLFdBRTlCLENBQ0VwQyxNQUFPLFFBQ1BpQyxVQUFXLFFBQ1gzRixJQUFLLFFBQ0w0RixPQUFRLENBQUM5QyxFQUFHK0MsSUFBTS9DLEVBQUUwQixLQUFLTSxPQUFTZSxFQUFFckIsS0FBS00sT0FDekNnQixlQUFnQixDQUFDLFVBQVcsV0FFOUIsQ0FDRXBDLE1BQU8sU0FDUGlDLFVBQVcsU0FDWDNGLElBQUssU0FDTDRGLE9BQVEsQ0FBQzlDLEVBQUcrQyxJQUFNL0MsRUFBRTBCLEtBQUtNLE9BQVNlLEVBQUVyQixLQUFLTSxPQUN6Q2dCLGVBQWdCLENBQUMsVUFBVyxXQUU5QixDQUNFcEMsTUFBTyxRQUNQaUMsVUFBVyxRQUNYM0YsSUFBSyxRQUNMNEYsT0FBUSxDQUFDOUMsRUFBRytDLElBQU0vQyxFQUFFMEIsS0FBS00sT0FBU2UsRUFBRXJCLEtBQUtNLE9BQ3pDZ0IsZUFBZ0IsQ0FBQyxVQUFXLFdBRTlCLENBQ0VwQyxNQUFPLFNBQ1BpQyxVQUFXLFNBQ1gzRixJQUFLLFNBQ0w0RixPQUFRLENBQUM5QyxFQUFHK0MsSUFBTS9DLEVBQUUwQixLQUFLTSxPQUFTZSxFQUFFckIsS0FBS00sT0FDekNnQixlQUFnQixDQUFDLFVBQVcsV0FFOUIsQ0FDRXBDLE1BQU8sT0FDUGlDLFVBQVcsY0FDWDNGLElBQUssY0FDTDRGLE9BQVEsQ0FBQzlDLEVBQUcrQyxJQUFNL0MsRUFBRTBCLEtBQUtNLE9BQVNlLEVBQUVyQixLQUFLTSxPQUN6Q2dCLGVBQWdCLENBQUMsVUFBVyxZQW5ENUJaLEVBdURHYSxVQUFZdEYsS0FDakIsTUFBTXNGLEVBQVksR0FhbEIsT0FaQXRGLEVBQUtxRSxPQUFTLEdBQ1pyRSxFQUFLc0UsSUFBSUMsR0FDUGUsRUFBVUMsS0FBSyxDQUNiaEcsSUFBS2dGLEVBQUksR0FDVFIsS0FBTVEsRUFBSSxHQUNWSixNQUFPLHlCQUNQakMsT0FBUXFDLEVBQUksR0FDWmlCLE1BQU9qQixFQUFJLEdBQ1hrQixPQUFtQixNQUFYbEIsRUFBSSxHQUFhLFNBQVcsYUFDcENtQixZQUFhbkIsRUFBSSxNQUdoQmUsSUFPWGIsRUFBZWtCLFVBQVksQ0FDekJ4RyxTQUFVeUcsSUFBVUMsS0FBS0MsV0FDekIzRixTQUFVeUYsSUFBVUMsS0FBS0MsV0FDekJqRixTQUFVK0UsSUFBVUMsS0FBS0MsV0FDekJuRixXQUFZaUYsSUFBVUMsS0FBS0MsV0FDM0I5RSxXQUFZNEUsSUFBVUMsS0FBS0MsV0FDM0IzRCxXQUFZeUQsSUFBVUcsU0FBU0gsSUFBVUksS0FBS0YsWUFHakNHLDRCQURTLEVBQUdDLE9BQU1oRSxhQUFULENBQXlCbEMsS0FBTWtHLEVBQU1oRSxXQUczRCxDQUNFQyxlQUNBaEQsYUFDQWdCLGFBQ0FVLGFBQ0FGLGVBQ0FLLGdCQVJXaUYsQ0FXYkUsWUFBVSxDQUNSbEIsUUFBU1IsRUFBZVEsUUFDeEJLLFVBQVdiLEVBQWVhLFVBQzFCYyxVQUFXLG1CQUhiRCxDQUlHMUIiLCJmaWxlIjoiMS5idW5kbGUuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgQVBJIH0gZnJvbSAnLi4vY29uZmlnL2tleXMnO1xuXG5jb25zdCB2YWxpZEtleSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdrZXknKTtcbmV4cG9ydCBjb25zdCBkYXRhUmVxdWVzdCA9ICgpID0+IGFzeW5jIGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6ICdEQVRBX1JFUVVFU1QnXG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBlcnJvciA9IG1lc3NhZ2UgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogJ0VSUk9SJyxcbiAgICBwYXlsb2FkOiBtZXNzYWdlXG4gIH0pO1xufTtcbi8vIGxpc3QgdXNlclxuZXhwb3J0IGNvbnN0IGxpc3REYXRhID0gcGFyID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0geyB4OiAnMScsIGtleTogYCR7dmFsaWRLZXl9YCB9O1xuICBjb25zdCBmaWxQYXJhbSA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmFtLCBwYXIpO1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBmaWxQYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIC8vIGNvbnNvbGUubG9nKHJlcy5kYXRhLmF0b20pO1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnTElTVF9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGEuYXRvbSxcbiAgICAgICAgZmlsUGFyYW1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0VSUk9SJ1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzYXZlRGF0YSA9IHBhciA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMTAxJyxcbiAgICBpZDogJzAnLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBOYW1lOiBwYXIuTmFtZSxcbiAgICBEZXNjcmlwdGlvbjogcGFyLkRlc2NyaXB0aW9uLFxuICAgIEJyYW5jaElEOiBwYXIuQnJhbmNoSUQsXG4gICAgU2FsZXNJRDogcGFyLlNhbGVzSUQsXG4gICAgQWN0aXZlOiAnQSdcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1NBVkVfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgdXBkYXRlRGF0YSA9IChpZFVzZXIsIHBhcikgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzEwMScsXG4gICAgaWQ6IGlkVXNlcixcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgTmFtZTogcGFyLk5hbWUsXG4gICAgRGVzY3JpcHRpb246IHBhci5EZXNjcmlwdGlvbixcbiAgICBCcmFuY2hJRDogcGFyLkJyYW5jaElELFxuICAgIFNhbGVzSUQ6IHBhci5TYWxlc0lELFxuICAgIEFjdGl2ZTogJ0EnXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdVUERBVEVfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2hvd0RhdGEgPSBpZFVzZXIgPT4gYXN5bmMgZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzUwJyxcbiAgICBpZDogaWRVc2VyLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YFxuICB9O1xuICBhd2FpdCBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnU0hPV19VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGEuYXRvbS5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZmlsdGVyU3RhdHVzID0gcGFyID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICc1MCcsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gLFxuICAgIEFjdGl2ZTogcGFyXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdMSVNUX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZWxldGVEYXRhID0gaWRCYW5rID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcyMDEnLFxuICAgIGlkOiBpZEJhbmssXG4gICAga2V5OiBgJHt2YWxpZEtleX1gXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdERUxFVEVfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5cbi8vIHVzZXIgZ3JvdXBcbmV4cG9ydCBjb25zdCBsaXN0VXNlckdyb3VwID0gKCkgPT4gZGlzcGF0Y2ggPT4ge1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOmdyb3VwYCwgeyB4OiAnMScsIGtleTogYCR7dmFsaWRLZXl9YCB9KS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdMSVNUX1VTRVJfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLmRhdGFcbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59O1xuIiwiaW1wb3J0IFJlYWN0LCB7IENvbXBvbmVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHNob3J0SWQgZnJvbSAnc2hvcnRpZCc7XG5pbXBvcnQgeyBCdXR0b24sIElucHV0LCBSb3csIENvbCwgRm9ybSwgTW9kYWwsIFNlbGVjdCB9IGZyb20gJ2FudGQnO1xuaW1wb3J0IHtcbiAgbGlzdERhdGEsXG4gIHNhdmVEYXRhLFxuICBzaG93RGF0YSxcbiAgdXBkYXRlRGF0YSxcbiAgZGVsZXRlRGF0YVxufSBmcm9tICcuLi8uLi8uLi8uLi9hY3Rpb25zL3VzZXJBY3Rpb25zJztcbmltcG9ydCB7IGxpc3REYXRhIGFzIGxpc3RCcmFuY2ggfSBmcm9tICcuLi8uLi8uLi8uLi9hY3Rpb25zL21hc3Rlci9icmFuY2hBY3Rpb25zJztcbmltcG9ydCBEYXRhVGFibGUgZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9ob2MvRGF0YVRhYmxlJztcblxuY29uc3QgRm9ybUl0ZW0gPSBGb3JtLkl0ZW07XG5jb25zdCBPcHRpb25zID0gU2VsZWN0Lk9wdGlvbjtcblxuY29uc3QgRm9ybVVzZXIgPSBGb3JtLmNyZWF0ZSgpKHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIG1vZGFsVmlzaWJsZSxcbiAgICBoYW5kbGVNb2RhbFZpc2libGUsXG4gICAgZm9ybVZhbHVlcyxcbiAgICBmb3JtVGl0bGUsXG4gICAgaGFuZGxlQ3JlYXRlLFxuICAgIGZvcm0sXG4gICAgYnJhbmNoXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgb2tIYW5kbGUgPSAoKSA9PiB7XG4gICAgZm9ybS52YWxpZGF0ZUZpZWxkcygoZXJyLCBmaWVsZFZhbHVlKSA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm47XG4gICAgICBmb3JtLnJlc2V0RmllbGRzKCk7XG4gICAgICBoYW5kbGVDcmVhdGUoZmllbGRWYWx1ZSk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGxpc3RCcmFuY2ggPSBicmFuY2gubGlzdERhdGE7XG4gIHJldHVybiAoXG4gICAgPE1vZGFsXG4gICAgICB2aXNpYmxlPXttb2RhbFZpc2libGV9XG4gICAgICBmb290ZXI9e1tcbiAgICAgICAgPEJ1dHRvbiBrZXk9XCJzdWJtaXRcIiBodG1sVHlwZT1cInN1Ym1pdFwiIHR5cGU9XCJwcmltYXJ5XCIgb25DbGljaz17b2tIYW5kbGV9PlxuICAgICAgICAgIHtgU3VibWl0YH1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICBdfVxuICAgICAgdGl0bGU9e1tcbiAgICAgICAgPHNwYW4ga2V5PXtzaG9ydElkLmdlbmVyYXRlKCl9PlxuICAgICAgICAgIDxoMyBjbGFzc05hbWU9XCJoZWFkZXItdGl0bGUgbWItMFwiPntgJHtmb3JtVGl0bGV9IFVOSVRgfTwvaDM+XG4gICAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT1cInNtYWxsLTMgaGVhZGVyLXRpdGxlXCI+U2lsYWhrYW4gaXNpIGRhdGEgeWFuZyBzZXN1YWk8L3NtYWxsPlxuICAgICAgICA8L3NwYW4+XG4gICAgICBdfVxuICAgICAgb25DYW5jZWw9eygpID0+IGhhbmRsZU1vZGFsVmlzaWJsZSgpfVxuICAgID5cbiAgICAgIDxSb3cgZ3V0dGVyPXsyNX0+XG4gICAgICAgIDxDb2wgc3Bhbj17MTJ9PlxuICAgICAgICAgIDxGb3JtSXRlbSBsYWJlbD1cIk5hbWVcIj5cbiAgICAgICAgICAgIHtmb3JtLmdldEZpZWxkRGVjb3JhdG9yKCdOYW1lJywge1xuICAgICAgICAgICAgICBydWxlczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdQbGVhc2UgaW5wdXQgeW91ciBuYW1lIScgfV0sXG4gICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogZm9ybVZhbHVlcy5uYW1lIHx8ICcnXG4gICAgICAgICAgICB9KSg8SW5wdXQgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCJOYW1lXCIgLz4pfVxuICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgIDwvQ29sPlxuICAgICAgICA8Q29sIHNwYW49ezEyfT5cbiAgICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9XCJFbWFpbFwiPlxuICAgICAgICAgICAge2Zvcm0uZ2V0RmllbGREZWNvcmF0b3IoJ0VtYWlsJywge1xuICAgICAgICAgICAgICBydWxlczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdQbGVhc2UgaW5wdXQgeW91ciBlbWFpbCEnIH1dLFxuICAgICAgICAgICAgICBpbml0aWFsVmFsdWU6IGZvcm1WYWx1ZXMuZW1haWwgfHwgJydcbiAgICAgICAgICAgIH0pKDxJbnB1dCBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBzaXplPVwibGFyZ2VcIiBwbGFjZWhvbGRlcj1cIkVtYWlsXCIgLz4pfVxuICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgIDwvQ29sPlxuICAgICAgPC9Sb3c+XG4gICAgICA8Um93IGd1dHRlcj17MjV9PlxuICAgICAgICA8Q29sIHNwYW49ezI1fT5cbiAgICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9XCJEZXNjcmlwdGlvblwiPlxuICAgICAgICAgICAge2Zvcm0uZ2V0RmllbGREZWNvcmF0b3IoJ0Rlc2NyaXB0aW9uJywge1xuICAgICAgICAgICAgICBydWxlczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdQbGVhc2UgaW5wdXQgeW91ciBkZXNjcmlwdGlvbiEnIH1dXG4gICAgICAgICAgICB9KSg8SW5wdXQgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCIgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCJEZXNjcmlwdGlvblwiIC8+KX1cbiAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICA8L0NvbD5cbiAgICAgIDwvUm93PlxuICAgICAgPFJvdyBndXR0ZXI9ezI1fT5cbiAgICAgICAgPENvbCBzcGFuPXsxMn0+XG4gICAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwiQnJhY2hcIj5cbiAgICAgICAgICAgIHtmb3JtLmdldEZpZWxkRGVjb3JhdG9yKCdCcmFuY2hJRCcsIHtcbiAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgYnJhY2ghJyB9XVxuICAgICAgICAgICAgfSkoXG4gICAgICAgICAgICAgIDxTZWxlY3Qgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCJDaG9vc2UgQnJhbmNoXCIgY2xhc3NOYW1lPVwidy0xMDBcIj5cbiAgICAgICAgICAgICAgICB7bGlzdEJyYW5jaC5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICBsaXN0QnJhbmNoLm1hcCh2YWwgPT4gKFxuICAgICAgICAgICAgICAgICAgICA8T3B0aW9ucyBrZXk9e3Nob3J0SWQuZ2VuZXJhdGUoKX0gdmFsdWU9e3ZhbFswXX0+XG4gICAgICAgICAgICAgICAgICAgICAge3ZhbFsyXX1cbiAgICAgICAgICAgICAgICAgICAgPC9PcHRpb25zPlxuICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICA8L0NvbD5cbiAgICAgICAgPENvbCBzcGFuPXsxMn0+XG4gICAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwiUGFzc3dvcmRcIj5cbiAgICAgICAgICAgIHtmb3JtLmdldEZpZWxkRGVjb3JhdG9yKCdQYXNzd29yZCcsIHtcbiAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgcGFzc3dvcmQhJyB9XVxuICAgICAgICAgICAgfSkoXG4gICAgICAgICAgICAgIDxJbnB1dCB0eXBlPVwicGFzc3dvcmRcIiBjbGFzc05hbWU9XCJmb3JtLWNvbnRyb2xcIiBzaXplPVwibGFyZ2VcIiBwbGFjZWhvbGRlcj1cIioqKioqKlwiIC8+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgIDwvQ29sPlxuICAgICAgPC9Sb3c+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn0pO1xuXG5jbGFzcyBVc2VyTWFuYWdlbWVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMubGlzdEJyYW5jaCgpO1xuICB9O1xuXG4gIHN0YXRpYyBjb2x1bW5zID0gW1xuICAgIHtcbiAgICAgIHRpdGxlOiAnTmFtZScsXG4gICAgICBkYXRhSW5kZXg6ICduYW1lJyxcbiAgICAgIGtleTogJ25hbWUnLFxuICAgICAgc29ydGVyOiAoYSwgYikgPT4gYS5uYW1lLmxlbmd0aCAtIGIubmFtZS5sZW5ndGgsXG4gICAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ0VtYWlsJyxcbiAgICAgIGRhdGFJbmRleDogJ2VtYWlsJyxcbiAgICAgIGtleTogJ2VtYWlsJyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEubmFtZS5sZW5ndGggLSBiLm5hbWUubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXVxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdCcmFuY2gnLFxuICAgICAgZGF0YUluZGV4OiAnYnJhbmNoJyxcbiAgICAgIGtleTogJ2JyYW5jaCcsXG4gICAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLm5hbWUubGVuZ3RoIC0gYi5uYW1lLmxlbmd0aCxcbiAgICAgIHNvcnREaXJlY3Rpb25zOiBbJ2Rlc2NlbmQnLCAnYXNjZW5kJ11cbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnR3JvdXAnLFxuICAgICAgZGF0YUluZGV4OiAnZ3JvdXAnLFxuICAgICAga2V5OiAnZ3JvdXAnLFxuICAgICAgc29ydGVyOiAoYSwgYikgPT4gYS5uYW1lLmxlbmd0aCAtIGIubmFtZS5sZW5ndGgsXG4gICAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ1N0YXR1cycsXG4gICAgICBkYXRhSW5kZXg6ICdzdGF0dXMnLFxuICAgICAga2V5OiAnc3RhdHVzJyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEubmFtZS5sZW5ndGggLSBiLm5hbWUubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXVxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdEZXNjJyxcbiAgICAgIGRhdGFJbmRleDogJ2Rlc2NyaXB0aW9uJyxcbiAgICAgIGtleTogJ2Rlc2NyaXB0aW9uJyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEubmFtZS5sZW5ndGggLSBiLm5hbWUubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXVxuICAgIH1cbiAgXTtcblxuICBzdGF0aWMgZGF0YVRhYmxlID0gZGF0YSA9PiB7XG4gICAgY29uc3QgZGF0YVRhYmxlID0gW107XG4gICAgZGF0YS5sZW5ndGggPiAwICYmXG4gICAgICBkYXRhLm1hcCh2YWwgPT5cbiAgICAgICAgZGF0YVRhYmxlLnB1c2goe1xuICAgICAgICAgIGtleTogdmFsWzBdLFxuICAgICAgICAgIG5hbWU6IHZhbFsxXSxcbiAgICAgICAgICBlbWFpbDogJ3N1Y2hyb25yaXphbEBnbWFpbC5jb20nLFxuICAgICAgICAgIGJyYW5jaDogdmFsWzVdLFxuICAgICAgICAgIGdyb3VwOiB2YWxbN10sXG4gICAgICAgICAgc3RhdHVzOiB2YWxbOF0gPT09ICdBJyA/ICdBY3RpdmUnIDogJ05vbiBBY3RpdmUnLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB2YWxbMl1cbiAgICAgICAgfSlcbiAgICAgICk7XG4gICAgcmV0dXJuIGRhdGFUYWJsZTtcbiAgfTtcblxuICByZW5kZXIoKSB7XG4gICAgcmV0dXJuIDxGb3JtVXNlciB7Li4udGhpcy5wcm9wc30gey4uLnRoaXMuc3RhdGV9IC8+O1xuICB9XG59XG5Vc2VyTWFuYWdlbWVudC5wcm9wVHlwZXMgPSB7XG4gIGxpc3REYXRhOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBzYXZlRGF0YTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgc2hvd0RhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHVwZGF0ZURhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGRlbGV0ZURhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIGxpc3RCcmFuY2g6IFByb3BUeXBlcy5vYmplY3RPZihQcm9wVHlwZXMuYW55KS5pc1JlcXVpcmVkXG59O1xuY29uc3QgbWFwU3RhdGVUb1Byb3BzID0gKHsgdXNlciwgYnJhbmNoIH0pID0+ICh7IGRhdGE6IHVzZXIsIGJyYW5jaCB9KTtcbmV4cG9ydCBkZWZhdWx0IGNvbm5lY3QoXG4gIG1hcFN0YXRlVG9Qcm9wcyxcbiAge1xuICAgIGxpc3RCcmFuY2gsXG4gICAgbGlzdERhdGEsXG4gICAgc2F2ZURhdGEsXG4gICAgc2hvd0RhdGEsXG4gICAgdXBkYXRlRGF0YSxcbiAgICBkZWxldGVEYXRhXG4gIH1cbikoXG4gIERhdGFUYWJsZSh7XG4gICAgY29sdW1uczogVXNlck1hbmFnZW1lbnQuY29sdW1ucyxcbiAgICBkYXRhVGFibGU6IFVzZXJNYW5hZ2VtZW50LmRhdGFUYWJsZSxcbiAgICBoZWFkVGl0bGU6ICdVc2VyIE1hbmFnZW1lbnQnXG4gIH0pKFVzZXJNYW5hZ2VtZW50KVxuKTtcbiJdLCJzb3VyY2VSb290IjoiIn0=