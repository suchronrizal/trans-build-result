(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"648x":function(e,a,t){"use strict";t.d(a,"b",function(){return d}),t.d(a,"d",function(){return u}),t.d(a,"f",function(){return m}),t.d(a,"e",function(){return p}),t.d(a,"a",function(){return h}),t.d(a,"c",function(){return y});var n=t("zr5I"),r=t.n(n),s=t("iho4");function l(e){return function(){var a=e.apply(this,arguments);return new Promise(function(e,t){return function n(r,s){try{var l=a[r](s),i=l.value}catch(e){return void t(e)}if(!l.done)return Promise.resolve(i).then(function(e){n("next",e)},function(e){n("throw",e)});e(i)}("next")})}}const i=localStorage.getItem("key"),c=()=>(()=>{var e=l(function*(e){e({type:"DATA_REQUEST"})});return function(a){return e.apply(this,arguments)}})(),o=e=>a=>{a({type:"ERROR",payload:e})},d=e=>a=>{a(c());const t={x:"1",key:`${i}`},n=Object.assign({},t,e);r.a.post(`${s.API}:acl:user`,n).then(e=>{"200"===e.data.r?a({type:"LIST_USER",payload:e.data.atom,filParam:n}):"401"===e.data.r&&a({type:"ERROR"})})},u=e=>a=>{a(c());const t={x:"101",id:"0",key:`${i}`,Name:e.Name,Description:e.Description,BranchID:e.BranchID,SalesID:e.SalesID,Active:"A"};r.a.post(`${s.API}:acl:user`,t).then(e=>{"200"===e.data.r?a({type:"SAVE_USER",payload:e.data}):"401"===e.data.r&&a(o(e.data.m))})},m=(e,a)=>t=>{t(c());const n={x:"101",id:e,key:`${i}`,Name:a.Name,Description:a.Description,BranchID:a.BranchID,SalesID:a.SalesID};r.a.post(`${s.API}:acl:user`,n).then(e=>{"200"===e.data.r?t({type:"UPDATE_USER",payload:e.data}):"401"===e.data.r&&t(o(e.data.m))})},p=e=>(()=>{var a=l(function*(a){a(c());const t={x:"50",id:e,key:`${i}`};yield r.a.post(`${s.API}:acl:user`,t).then(function(e){"200"===e.data.r?a({type:"SHOW_USER",payload:e.data.atom.data}):"401"===e.data.r&&a(o(e.data.m))})});return function(e){return a.apply(this,arguments)}})(),h=e=>a=>{a(c());const t={x:"201",id:e,key:`${i}`};r.a.post(`${s.API}:acl:user`,t).then(e=>{"200"===e.data.r?a({type:"DELETE_USER",payload:e.data}):"401"===e.data.r&&a(o(e.data.m))})},y=()=>e=>{r.a.post(`${s.API}:acl:group`,{x:"1",key:`${i}`}).then(a=>{"200"===a.data.r&&e({type:"LIST_USER_GROUP",payload:a.data.atom.data})})}},knzv:function(e,a,t){"use strict";t.r(a);var n=t("cDcd"),r=t.n(n),s=t("h74D"),l=t("17x9"),i=t.n(l),c=t("je4i"),o=t.n(c),d=t("Vl3Y"),u=t("2fM7"),m=t("kLXV"),p=t("2/Rp"),h=t("BMrR"),y=t("kPKH"),D=t("5rEg"),E=t("mr32"),g=t("648x"),f=t("7cg7"),b=t("jDFS"),I=t("T2ns"),S=Object.assign||function(e){for(var a=1;a<arguments.length;a++){var t=arguments[a];for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}return e};const N=d.a.Item,k=u.a.Option,R=d.a.create()(e=>{const{modalVisible:a,handleModalVisible:t,formValues:n,formTitle:s,handleCreate:l,form:i,branch:c,sales:d}=e,E=c.listData,g=d.listData;return r.a.createElement(m.a,{visible:a,footer:[r.a.createElement(p.a,{key:"submit",htmlType:"submit",type:"primary",onClick:()=>{i.validateFields((e,a)=>{e||(i.resetFields(),l(a))})}},"Submit")],title:[r.a.createElement("span",{key:o.a.generate()},r.a.createElement("h3",{className:"header-title mb-0"},`${s} USER MANAGEMENT`),r.a.createElement("small",{className:"small-3 header-title"},"Silahkan isi data yang sesuai"))],onCancel:()=>t()},r.a.createElement(h.a,{gutter:25},r.a.createElement(y.a,{span:25},r.a.createElement(N,{style:{display:"none"}},i.getFieldDecorator("id",{initialValue:n.key||""})(r.a.createElement(D.a,null))),r.a.createElement(N,{label:"Name"},i.getFieldDecorator("Name",{rules:[{required:!0,message:"Please input your name!"}],initialValue:n.name||""})(r.a.createElement(D.a,{className:"form-control",size:"large",placeholder:"Name"}))))),r.a.createElement(h.a,{gutter:25},r.a.createElement(y.a,{span:25},r.a.createElement(N,{label:"Description"},i.getFieldDecorator("Description",{rules:[{required:!0,message:"Please input your description!"}],initialValue:n.description||""})(r.a.createElement(D.a,{className:"form-control",size:"large",placeholder:"Description",autoComplete:"Desc"}))))),r.a.createElement(h.a,{gutter:25},r.a.createElement(y.a,{span:12},r.a.createElement(N,{label:"Brach"},i.getFieldDecorator("BranchID",{rules:[{required:!0,message:"Please input your brach!"}],initialValue:n.BranchId||""})(r.a.createElement(u.a,{size:"large",placeholder:"Choose Branch",className:"w-100"},E.length>0&&E.map(e=>r.a.createElement(k,{key:o.a.generate(),value:e[0]},e[2])))))),r.a.createElement(y.a,{span:12},r.a.createElement(N,{label:"Sales"},i.getFieldDecorator("SalesID",{rules:[{required:!0,message:"Please input your brach!"}],initialValue:n.salesId||""})(r.a.createElement(u.a,{size:"large",placeholder:"Choose Sales",className:"w-100"},g.length>0&&g.map(e=>r.a.createElement(k,{key:o.a.generate(),value:e[0]},e[1]))))))))});class v extends n.Component{constructor(e){super(e),this.componentDidMount=(()=>{this.props.listBranch(),this.props.listSales()}),this.state={}}render(){return r.a.createElement(R,S({},this.props,this.state))}}v.columns=[{title:"Name",dataIndex:"name",key:"name",width:"200px",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]},{title:"Branch",dataIndex:"branchName",key:"branchName",width:"200px",sorter:(e,a)=>e.branchName.length-a.branchName.length,sortDirections:["descend","ascend"]},{title:"Sales",dataIndex:"salesName",key:"salesName",width:"200px",sorter:(e,a)=>e.salesName.length-a.salesName.length,sortDirections:["descend","ascend"]},{title:"Desc",dataIndex:"description",key:"description",width:"250px",sorter:(e,a)=>e.name.length-a.name.length,sortDirections:["descend","ascend"]},{title:"Status",dataIndex:"status",key:"status",className:"text-center",width:"100px",sorter:(e,a)=>e.status.length-a.status.length,sortDirections:["descend","ascend"],render:e=>{const a="Active"===e?"green":"volcano";return r.a.createElement(E.a,{color:a,key:e},e)}}],v.dataTable=(e=>{const a=[];return e.length>0&&e.map(e=>a.push({key:e[0],name:e[1],branchId:e[4],branchName:e[5],salesId:e[6],salesName:e[7],description:e[2],status:"A"===e[8]?"Active":"Terminated"})),a}),v.propTypes={listData:i.a.func.isRequired,saveData:i.a.func.isRequired,showData:i.a.func.isRequired,updateData:i.a.func.isRequired,deleteData:i.a.func.isRequired,listBranch:i.a.func.isRequired,listSales:i.a.func.isRequired};a.default=Object(s.connect)(({user:e,branch:a,sales:t})=>({data:e,branch:a,sales:t}),{listBranch:f.b,listSales:b.b,listData:g.b,saveData:g.d,showData:g.e,updateData:g.f,deleteData:g.a})(Object(I.a)({columns:v.columns,dataTable:v.dataTable,headTitle:"User Management"})(v))}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYWN0aW9ucy9hY2wvdXNlckFjdGlvbnMuanN4Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9tYXN0ZXIvYWNsL3VzZXIvVXNlck1hbmFnZW1lbnQuanN4Il0sIm5hbWVzIjpbInZhbGlkS2V5IiwibG9jYWxTdG9yYWdlIiwiZ2V0SXRlbSIsImRhdGFSZXF1ZXN0IiwiX3JlZiIsIl9hc3luY1RvR2VuZXJhdG9yIiwiZGlzcGF0Y2giLCJ0eXBlIiwiX3giLCJhcHBseSIsInRoaXMiLCJhcmd1bWVudHMiLCJlcnJvciIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwibGlzdERhdGEiLCJwYXIiLCJwYXJhbSIsIngiLCJrZXkiLCJmaWxQYXJhbSIsIk9iamVjdCIsImFzc2lnbiIsImF4aW9zIiwicG9zdCIsIkFQSSIsInRoZW4iLCJyZXMiLCJkYXRhIiwiciIsImF0b20iLCJzYXZlRGF0YSIsImlkIiwiTmFtZSIsIkRlc2NyaXB0aW9uIiwiQnJhbmNoSUQiLCJTYWxlc0lEIiwiQWN0aXZlIiwibSIsInVwZGF0ZURhdGEiLCJpZFVzZXIiLCJzaG93RGF0YSIsIl9yZWYyIiwiX3gyIiwiZGVsZXRlRGF0YSIsImlkQmFuayIsImxpc3RVc2VyR3JvdXAiLCJGb3JtSXRlbSIsIkZvcm0iLCJJdGVtIiwiT3B0aW9ucyIsIlNlbGVjdCIsIk9wdGlvbiIsIkZvcm1Vc2VyIiwiY3JlYXRlIiwicHJvcHMiLCJtb2RhbFZpc2libGUiLCJoYW5kbGVNb2RhbFZpc2libGUiLCJmb3JtVmFsdWVzIiwiZm9ybVRpdGxlIiwiaGFuZGxlQ3JlYXRlIiwiZm9ybSIsImJyYW5jaCIsInNhbGVzIiwibGlzdEJyYW5jaCIsImxpc3RTYWxlcyIsInJlYWN0X19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8wX19fZGVmYXVsdCIsImEiLCJjcmVhdGVFbGVtZW50IiwiYW50ZF9fV0VCUEFDS19JTVBPUlRFRF9NT0RVTEVfNl9fIiwidmlzaWJsZSIsImZvb3RlciIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzdfXyIsImh0bWxUeXBlIiwib25DbGljayIsInZhbGlkYXRlRmllbGRzIiwiZXJyIiwiZmllbGRWYWx1ZSIsInJlc2V0RmllbGRzIiwidGl0bGUiLCJzaG9ydElkIiwiZ2VuZXJhdGUiLCJjbGFzc05hbWUiLCJvbkNhbmNlbCIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzhfXyIsImd1dHRlciIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzlfXyIsInNwYW4iLCJzdHlsZSIsImRpc3BsYXkiLCJnZXRGaWVsZERlY29yYXRvciIsImluaXRpYWxWYWx1ZSIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzEwX18iLCJsYWJlbCIsInJ1bGVzIiwicmVxdWlyZWQiLCJuYW1lIiwic2l6ZSIsInBsYWNlaG9sZGVyIiwiZGVzY3JpcHRpb24iLCJhdXRvQ29tcGxldGUiLCJCcmFuY2hJZCIsImFudGRfX1dFQlBBQ0tfSU1QT1JURURfTU9EVUxFXzVfXyIsImxlbmd0aCIsIm1hcCIsInZhbCIsInZhbHVlIiwic2FsZXNJZCIsIlVzZXJNYW5hZ2VtZW50IiwiQ29tcG9uZW50IiwiY29uc3RydWN0b3IiLCJzdXBlciIsImNvbXBvbmVudERpZE1vdW50Iiwic3RhdGUiLCJyZW5kZXIiLCJfZXh0ZW5kcyIsImNvbHVtbnMiLCJkYXRhSW5kZXgiLCJ3aWR0aCIsInNvcnRlciIsImIiLCJzb3J0RGlyZWN0aW9ucyIsImJyYW5jaE5hbWUiLCJzYWxlc05hbWUiLCJzdGF0dXMiLCJ0YWdzIiwiY29sb3IiLCJhbnRkX19XRUJQQUNLX0lNUE9SVEVEX01PRFVMRV8xMV9fIiwiZGF0YVRhYmxlIiwicHVzaCIsImJyYW5jaElkIiwicHJvcFR5cGVzIiwiUHJvcFR5cGVzIiwiZnVuYyIsImlzUmVxdWlyZWQiLCJjb25uZWN0IiwidXNlciIsIkRhdGFUYWJsZSIsImhlYWRUaXRsZSJdLCJtYXBwaW5ncyI6IjZsQkFHQSxNQUFNQSxFQUFXQyxhQUFhQyxR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LEVBQWV1QixVQUFZLENBQ3pCcEgsU0FBVXFILElBQVVDLEtBQUtDLFdBQ3pCdkcsU0FBVXFHLElBQVVDLEtBQUtDLFdBQ3pCN0YsU0FBVTJGLElBQVVDLEtBQUtDLFdBQ3pCL0YsV0FBWTZGLElBQVVDLEtBQUtDLFdBQzNCMUYsV0FBWXdGLElBQVVDLEtBQUtDLFdBQzNCdEUsV0FBWW9FLElBQVVDLEtBQUtDLFdBQzNCckUsVUFBV21FLElBQVVDLEtBQUtDLFlBR2JDLDRCQURTLEVBQUdDLE9BQU0xRSxTQUFRQyxZQUFqQixDQUFnQ25DLEtBQU00RyxFQUFNMUUsU0FBUUMsVUFHMUUsQ0FDRUMsZUFDQUMsY0FDQWxELGFBQ0FnQixhQUNBVSxhQUNBRixlQUNBSyxnQkFUVzJGLENBWWJFLFlBQVUsQ0FDUnJCLFFBQVNSLEVBQWVRLFFBQ3hCWSxVQUFXcEIsRUFBZW9CLFVBQzFCVSxVQUFXLG1CQUhiRCxDQUlHN0IiLCJmaWxlIjoiNC5pbmRleC5iMmFjZDIwYzZjNTU1ZjliMzJhNy5qcyIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBheGlvcyBmcm9tICdheGlvcyc7XG5pbXBvcnQgeyBBUEkgfSBmcm9tICcuLi8uLi9jb25maWcva2V5cyc7XG5cbmNvbnN0IHZhbGlkS2V5ID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oJ2tleScpO1xuZXhwb3J0IGNvbnN0IGRhdGFSZXF1ZXN0ID0gKCkgPT4gYXN5bmMgZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogJ0RBVEFfUkVRVUVTVCdcbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGVycm9yID0gbWVzc2FnZSA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKHtcbiAgICB0eXBlOiAnRVJST1InLFxuICAgIHBheWxvYWQ6IG1lc3NhZ2VcbiAgfSk7XG59O1xuLy8gbGlzdCB1c2VyXG5leHBvcnQgY29uc3QgbGlzdERhdGEgPSBwYXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7IHg6ICcxJywga2V5OiBgJHt2YWxpZEtleX1gIH07XG4gIGNvbnN0IGZpbFBhcmFtID0gT2JqZWN0LmFzc2lnbih7fSwgcGFyYW0sIHBhcik7XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIGZpbFBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgLy8gY29uc29sZS5sb2cocmVzLmRhdGEuYXRvbSk7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdMSVNUX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLFxuICAgICAgICBmaWxQYXJhbVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnRVJST1InXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcblxuZXhwb3J0IGNvbnN0IHNhdmVEYXRhID0gcGFyID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcxMDEnLFxuICAgIGlkOiAnMCcsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gLFxuICAgIE5hbWU6IHBhci5OYW1lLFxuICAgIERlc2NyaXB0aW9uOiBwYXIuRGVzY3JpcHRpb24sXG4gICAgQnJhbmNoSUQ6IHBhci5CcmFuY2hJRCxcbiAgICBTYWxlc0lEOiBwYXIuU2FsZXNJRCxcbiAgICBBY3RpdmU6ICdBJ1xuICB9O1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnU0FWRV9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCB1cGRhdGVEYXRhID0gKGlkVXNlciwgcGFyKSA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMTAxJyxcbiAgICBpZDogaWRVc2VyLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBOYW1lOiBwYXIuTmFtZSxcbiAgICBEZXNjcmlwdGlvbjogcGFyLkRlc2NyaXB0aW9uLFxuICAgIEJyYW5jaElEOiBwYXIuQnJhbmNoSUQsXG4gICAgU2FsZXNJRDogcGFyLlNhbGVzSURcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1VQREFURV9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBzaG93RGF0YSA9IGlkVXNlciA9PiBhc3luYyBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnNTAnLFxuICAgIGlkOiBpZFVzZXIsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gXG4gIH07XG4gIGF3YWl0IGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdTSE9XX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBmaWx0ZXJTdGF0dXMgPSBwYXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzUwJyxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgQWN0aXZlOiBwYXJcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20uZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlbGV0ZURhdGEgPSBpZEJhbmsgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzIwMScsXG4gICAgaWQ6IGlkQmFuayxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWBcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0RFTEVURV9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gdXNlciBncm91cFxuZXhwb3J0IGNvbnN0IGxpc3RVc2VyR3JvdXAgPSAoKSA9PiBkaXNwYXRjaCA9PiB7XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCB7IHg6ICcxJywga2V5OiBgJHt2YWxpZEtleX1gIH0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUl9HUk9VUCcsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20uZGF0YVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG4iLCJpbXBvcnQgUmVhY3QsIHsgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IHsgY29ubmVjdCB9IGZyb20gJ3JlYWN0LXJlZHV4JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgc2hvcnRJZCBmcm9tICdzaG9ydGlkJztcbmltcG9ydCB7IEJ1dHRvbiwgSW5wdXQsIFJvdywgQ29sLCBGb3JtLCBNb2RhbCwgU2VsZWN0LCBUYWcgfSBmcm9tICdhbnRkJztcbmltcG9ydCB7XG4gIGxpc3REYXRhLFxuICBzYXZlRGF0YSxcbiAgc2hvd0RhdGEsXG4gIHVwZGF0ZURhdGEsXG4gIGRlbGV0ZURhdGFcbn0gZnJvbSAnLi4vLi4vLi4vLi4vYWN0aW9ucy9hY2wvdXNlckFjdGlvbnMnO1xuaW1wb3J0IHsgbGlzdERhdGEgYXMgbGlzdEJyYW5jaCB9IGZyb20gJy4uLy4uLy4uLy4uL2FjdGlvbnMvbWFzdGVyL2JyYW5jaEFjdGlvbnMnO1xuaW1wb3J0IHsgbGlzdERhdGEgYXMgbGlzdFNhbGVzIH0gZnJvbSAnLi4vLi4vLi4vLi4vYWN0aW9ucy9tYXN0ZXIvc2FsZXNBY3Rpb25zJztcbmltcG9ydCBEYXRhVGFibGUgZnJvbSAnLi4vLi4vLi4vLi4vY29tcG9uZW50cy9ob2MvRGF0YVRhYmxlJztcblxuY29uc3QgRm9ybUl0ZW0gPSBGb3JtLkl0ZW07XG5jb25zdCBPcHRpb25zID0gU2VsZWN0Lk9wdGlvbjtcblxuY29uc3QgRm9ybVVzZXIgPSBGb3JtLmNyZWF0ZSgpKHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIG1vZGFsVmlzaWJsZSxcbiAgICBoYW5kbGVNb2RhbFZpc2libGUsXG4gICAgZm9ybVZhbHVlcyxcbiAgICBmb3JtVGl0bGUsXG4gICAgaGFuZGxlQ3JlYXRlLFxuICAgIGZvcm0sXG4gICAgYnJhbmNoLFxuICAgIHNhbGVzXG4gIH0gPSBwcm9wcztcbiAgY29uc3Qgb2tIYW5kbGUgPSAoKSA9PiB7XG4gICAgZm9ybS52YWxpZGF0ZUZpZWxkcygoZXJyLCBmaWVsZFZhbHVlKSA9PiB7XG4gICAgICBpZiAoZXJyKSByZXR1cm47XG4gICAgICBmb3JtLnJlc2V0RmllbGRzKCk7XG4gICAgICBoYW5kbGVDcmVhdGUoZmllbGRWYWx1ZSk7XG4gICAgfSk7XG4gIH07XG4gIGNvbnN0IGxpc3RCcmFuY2ggPSBicmFuY2gubGlzdERhdGE7XG4gIGNvbnN0IGxpc3RTYWxlcyA9IHNhbGVzLmxpc3REYXRhO1xuICByZXR1cm4gKFxuICAgIDxNb2RhbFxuICAgICAgdmlzaWJsZT17bW9kYWxWaXNpYmxlfVxuICAgICAgZm9vdGVyPXtbXG4gICAgICAgIDxCdXR0b24ga2V5PVwic3VibWl0XCIgaHRtbFR5cGU9XCJzdWJtaXRcIiB0eXBlPVwicHJpbWFyeVwiIG9uQ2xpY2s9e29rSGFuZGxlfT5cbiAgICAgICAgICB7YFN1Ym1pdGB9XG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgXX1cbiAgICAgIHRpdGxlPXtbXG4gICAgICAgIDxzcGFuIGtleT17c2hvcnRJZC5nZW5lcmF0ZSgpfT5cbiAgICAgICAgICA8aDMgY2xhc3NOYW1lPVwiaGVhZGVyLXRpdGxlIG1iLTBcIj57YCR7Zm9ybVRpdGxlfSBVU0VSIE1BTkFHRU1FTlRgfTwvaDM+XG4gICAgICAgICAgPHNtYWxsIGNsYXNzTmFtZT1cInNtYWxsLTMgaGVhZGVyLXRpdGxlXCI+U2lsYWhrYW4gaXNpIGRhdGEgeWFuZyBzZXN1YWk8L3NtYWxsPlxuICAgICAgICA8L3NwYW4+XG4gICAgICBdfVxuICAgICAgb25DYW5jZWw9eygpID0+IGhhbmRsZU1vZGFsVmlzaWJsZSgpfVxuICAgID5cbiAgICAgIDxSb3cgZ3V0dGVyPXsyNX0+XG4gICAgICAgIDxDb2wgc3Bhbj17MjV9PlxuICAgICAgICAgIDxGb3JtSXRlbSBzdHlsZT17eyBkaXNwbGF5OiAnbm9uZScgfX0+XG4gICAgICAgICAgICB7Zm9ybS5nZXRGaWVsZERlY29yYXRvcignaWQnLCB7XG4gICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogZm9ybVZhbHVlcy5rZXkgfHwgJydcbiAgICAgICAgICAgIH0pKDxJbnB1dCAvPil9XG4gICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9XCJOYW1lXCI+XG4gICAgICAgICAgICB7Zm9ybS5nZXRGaWVsZERlY29yYXRvcignTmFtZScsIHtcbiAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgbmFtZSEnIH1dLFxuICAgICAgICAgICAgICBpbml0aWFsVmFsdWU6IGZvcm1WYWx1ZXMubmFtZSB8fCAnJ1xuICAgICAgICAgICAgfSkoPElucHV0IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHNpemU9XCJsYXJnZVwiIHBsYWNlaG9sZGVyPVwiTmFtZVwiIC8+KX1cbiAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICA8L0NvbD5cbiAgICAgIDwvUm93PlxuICAgICAgPFJvdyBndXR0ZXI9ezI1fT5cbiAgICAgICAgPENvbCBzcGFuPXsyNX0+XG4gICAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwiRGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgIHtmb3JtLmdldEZpZWxkRGVjb3JhdG9yKCdEZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgZGVzY3JpcHRpb24hJyB9XSxcbiAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBmb3JtVmFsdWVzLmRlc2NyaXB0aW9uIHx8ICcnXG4gICAgICAgICAgICB9KShcbiAgICAgICAgICAgICAgPElucHV0XG4gICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICBzaXplPVwibGFyZ2VcIlxuICAgICAgICAgICAgICAgIHBsYWNlaG9sZGVyPVwiRGVzY3JpcHRpb25cIlxuICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT1cIkRlc2NcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgKX1cbiAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICA8L0NvbD5cbiAgICAgIDwvUm93PlxuICAgICAgPFJvdyBndXR0ZXI9ezI1fT5cbiAgICAgICAgPENvbCBzcGFuPXsxMn0+XG4gICAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwiQnJhY2hcIj5cbiAgICAgICAgICAgIHtmb3JtLmdldEZpZWxkRGVjb3JhdG9yKCdCcmFuY2hJRCcsIHtcbiAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgYnJhY2ghJyB9XSxcbiAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBmb3JtVmFsdWVzLkJyYW5jaElkIHx8ICcnXG4gICAgICAgICAgICB9KShcbiAgICAgICAgICAgICAgPFNlbGVjdCBzaXplPVwibGFyZ2VcIiBwbGFjZWhvbGRlcj1cIkNob29zZSBCcmFuY2hcIiBjbGFzc05hbWU9XCJ3LTEwMFwiPlxuICAgICAgICAgICAgICAgIHtsaXN0QnJhbmNoLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgIGxpc3RCcmFuY2gubWFwKHZhbCA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxPcHRpb25zIGtleT17c2hvcnRJZC5nZW5lcmF0ZSgpfSB2YWx1ZT17dmFsWzBdfT5cbiAgICAgICAgICAgICAgICAgICAgICB7dmFsWzJdfVxuICAgICAgICAgICAgICAgICAgICA8L09wdGlvbnM+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgIDwvQ29sPlxuICAgICAgICA8Q29sIHNwYW49ezEyfT5cbiAgICAgICAgICA8Rm9ybUl0ZW0gbGFiZWw9XCJTYWxlc1wiPlxuICAgICAgICAgICAge2Zvcm0uZ2V0RmllbGREZWNvcmF0b3IoJ1NhbGVzSUQnLCB7XG4gICAgICAgICAgICAgIHJ1bGVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCB5b3VyIGJyYWNoIScgfV0sXG4gICAgICAgICAgICAgIGluaXRpYWxWYWx1ZTogZm9ybVZhbHVlcy5zYWxlc0lkIHx8ICcnXG4gICAgICAgICAgICB9KShcbiAgICAgICAgICAgICAgPFNlbGVjdCBzaXplPVwibGFyZ2VcIiBwbGFjZWhvbGRlcj1cIkNob29zZSBTYWxlc1wiIGNsYXNzTmFtZT1cInctMTAwXCI+XG4gICAgICAgICAgICAgICAge2xpc3RTYWxlcy5sZW5ndGggPiAwICYmXG4gICAgICAgICAgICAgICAgICBsaXN0U2FsZXMubWFwKHZhbCA9PiAoXG4gICAgICAgICAgICAgICAgICAgIDxPcHRpb25zIGtleT17c2hvcnRJZC5nZW5lcmF0ZSgpfSB2YWx1ZT17dmFsWzBdfT5cbiAgICAgICAgICAgICAgICAgICAgICB7dmFsWzFdfVxuICAgICAgICAgICAgICAgICAgICA8L09wdGlvbnM+XG4gICAgICAgICAgICAgICAgICApKX1cbiAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICApfVxuICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgIDwvQ29sPlxuICAgICAgPC9Sb3c+XG4gICAgPC9Nb2RhbD5cbiAgKTtcbn0pO1xuXG5jbGFzcyBVc2VyTWFuYWdlbWVudCBleHRlbmRzIENvbXBvbmVudCB7XG4gIGNvbnN0cnVjdG9yKHByb3BzKSB7XG4gICAgc3VwZXIocHJvcHMpO1xuICAgIHRoaXMuc3RhdGUgPSB7fTtcbiAgfVxuXG4gIGNvbXBvbmVudERpZE1vdW50ID0gKCkgPT4ge1xuICAgIHRoaXMucHJvcHMubGlzdEJyYW5jaCgpO1xuICAgIHRoaXMucHJvcHMubGlzdFNhbGVzKCk7XG4gIH07XG5cbiAgc3RhdGljIGNvbHVtbnMgPSBbXG4gICAge1xuICAgICAgdGl0bGU6ICdOYW1lJyxcbiAgICAgIGRhdGFJbmRleDogJ25hbWUnLFxuICAgICAga2V5OiAnbmFtZScsXG4gICAgICB3aWR0aDogJzIwMHB4JyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEubmFtZS5sZW5ndGggLSBiLm5hbWUubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXVxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdCcmFuY2gnLFxuICAgICAgZGF0YUluZGV4OiAnYnJhbmNoTmFtZScsXG4gICAgICBrZXk6ICdicmFuY2hOYW1lJyxcbiAgICAgIHdpZHRoOiAnMjAwcHgnLFxuICAgICAgc29ydGVyOiAoYSwgYikgPT4gYS5icmFuY2hOYW1lLmxlbmd0aCAtIGIuYnJhbmNoTmFtZS5sZW5ndGgsXG4gICAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ1NhbGVzJyxcbiAgICAgIGRhdGFJbmRleDogJ3NhbGVzTmFtZScsXG4gICAgICBrZXk6ICdzYWxlc05hbWUnLFxuICAgICAgd2lkdGg6ICcyMDBweCcsXG4gICAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLnNhbGVzTmFtZS5sZW5ndGggLSBiLnNhbGVzTmFtZS5sZW5ndGgsXG4gICAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ0Rlc2MnLFxuICAgICAgZGF0YUluZGV4OiAnZGVzY3JpcHRpb24nLFxuICAgICAga2V5OiAnZGVzY3JpcHRpb24nLFxuICAgICAgd2lkdGg6ICcyNTBweCcsXG4gICAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLm5hbWUubGVuZ3RoIC0gYi5uYW1lLmxlbmd0aCxcbiAgICAgIHNvcnREaXJlY3Rpb25zOiBbJ2Rlc2NlbmQnLCAnYXNjZW5kJ11cbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnU3RhdHVzJyxcbiAgICAgIGRhdGFJbmRleDogJ3N0YXR1cycsXG4gICAgICBrZXk6ICdzdGF0dXMnLFxuICAgICAgY2xhc3NOYW1lOiAndGV4dC1jZW50ZXInLFxuICAgICAgd2lkdGg6ICcxMDBweCcsXG4gICAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLnN0YXR1cy5sZW5ndGggLSBiLnN0YXR1cy5sZW5ndGgsXG4gICAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddLFxuICAgICAgcmVuZGVyOiB0YWdzID0+IHtcbiAgICAgICAgY29uc3QgY29sb3IgPSB0YWdzID09PSAnQWN0aXZlJyA/ICdncmVlbicgOiAndm9sY2Fubyc7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFRhZyBjb2xvcj17Y29sb3J9IGtleT17dGFnc30+XG4gICAgICAgICAgICB7dGFnc31cbiAgICAgICAgICA8L1RhZz5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIF07XG5cbiAgc3RhdGljIGRhdGFUYWJsZSA9IGRhdGEgPT4ge1xuICAgIGNvbnN0IGRhdGFUYWJsZSA9IFtdO1xuICAgIGRhdGEubGVuZ3RoID4gMCAmJlxuICAgICAgZGF0YS5tYXAodmFsID0+XG4gICAgICAgIGRhdGFUYWJsZS5wdXNoKHtcbiAgICAgICAgICBrZXk6IHZhbFswXSxcbiAgICAgICAgICBuYW1lOiB2YWxbMV0sXG4gICAgICAgICAgYnJhbmNoSWQ6IHZhbFs0XSxcbiAgICAgICAgICBicmFuY2hOYW1lOiB2YWxbNV0sXG4gICAgICAgICAgc2FsZXNJZDogdmFsWzZdLFxuICAgICAgICAgIHNhbGVzTmFtZTogdmFsWzddLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB2YWxbMl0sXG4gICAgICAgICAgc3RhdHVzOiB2YWxbOF0gPT09ICdBJyA/ICdBY3RpdmUnIDogJ1Rlcm1pbmF0ZWQnXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIHJldHVybiBkYXRhVGFibGU7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIHJldHVybiA8Rm9ybVVzZXIgey4uLnRoaXMucHJvcHN9IHsuLi50aGlzLnN0YXRlfSAvPjtcbiAgfVxufVxuVXNlck1hbmFnZW1lbnQucHJvcFR5cGVzID0ge1xuICBsaXN0RGF0YTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgc2F2ZURhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHNob3dEYXRhOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB1cGRhdGVEYXRhOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBkZWxldGVEYXRhOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBsaXN0QnJhbmNoOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBsaXN0U2FsZXM6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn07XG5jb25zdCBtYXBTdGF0ZVRvUHJvcHMgPSAoeyB1c2VyLCBicmFuY2gsIHNhbGVzIH0pID0+ICh7IGRhdGE6IHVzZXIsIGJyYW5jaCwgc2FsZXMgfSk7XG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICBtYXBTdGF0ZVRvUHJvcHMsXG4gIHtcbiAgICBsaXN0QnJhbmNoLFxuICAgIGxpc3RTYWxlcyxcbiAgICBsaXN0RGF0YSxcbiAgICBzYXZlRGF0YSxcbiAgICBzaG93RGF0YSxcbiAgICB1cGRhdGVEYXRhLFxuICAgIGRlbGV0ZURhdGFcbiAgfVxuKShcbiAgRGF0YVRhYmxlKHtcbiAgICBjb2x1bW5zOiBVc2VyTWFuYWdlbWVudC5jb2x1bW5zLFxuICAgIGRhdGFUYWJsZTogVXNlck1hbmFnZW1lbnQuZGF0YVRhYmxlLFxuICAgIGhlYWRUaXRsZTogJ1VzZXIgTWFuYWdlbWVudCdcbiAgfSkoVXNlck1hbmFnZW1lbnQpXG4pO1xuIl0sInNvdXJjZVJvb3QiOiIifQ==