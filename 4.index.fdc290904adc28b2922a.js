(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{knzv:function(e,t,a){"use strict";a.r(t);var n=a("cDcd"),r=a.n(n),s=a("h74D"),i=a("oncg"),o=a("17x9"),l=a.n(o),c=a("je4i"),d=a.n(c),p=a("Vl3Y"),u=a("2fM7"),m=a("QbLZ"),h=a.n(m),f=a("jo6Y"),y=a.n(f),E=a("iCc5"),g=a.n(E),S=a("FYw3"),b=a.n(S),v=a("mRg0"),D=a.n(v),N=a("faye"),x=a("TSYQ"),k=a.n(x),w=a("sEfC"),I=a.n(w);function C(){if("undefined"!=typeof window&&window.document&&window.document.documentElement){var e=window.document.documentElement;return"flex"in e.style||"webkitFlex"in e.style||"Flex"in e.style||"msFlex"in e.style}return!1}var R=function(e){function t(a){g()(this,t);var n=b()(this,e.call(this,a));return n.calcStepOffsetWidth=function(){if(!C()){var e=Object(N.findDOMNode)(n);e.children.length>0&&(n.calcTimeout&&clearTimeout(n.calcTimeout),n.calcTimeout=setTimeout(function(){var t=(e.lastChild.offsetWidth||0)+1;n.state.lastStepOffsetWidth===t||Math.abs(n.state.lastStepOffsetWidth-t)<=3||n.setState({lastStepOffsetWidth:t})}))}},n.state={flexSupported:!0,lastStepOffsetWidth:0},n.calcStepOffsetWidth=I()(n.calcStepOffsetWidth,150),n}return D()(t,e),t.prototype.componentDidMount=function(){this.calcStepOffsetWidth(),C()||this.setState({flexSupported:!1})},t.prototype.componentDidUpdate=function(){this.calcStepOffsetWidth()},t.prototype.componentWillUnmount=function(){this.calcTimeout&&clearTimeout(this.calcTimeout),this.calcStepOffsetWidth&&this.calcStepOffsetWidth.cancel&&this.calcStepOffsetWidth.cancel()},t.prototype.render=function(){var e,t=this.props,a=t.prefixCls,s=t.style,i=void 0===s?{}:s,o=t.className,l=t.children,c=t.direction,d=t.labelPlacement,p=t.iconPrefix,u=t.status,m=t.size,f=t.current,E=t.progressDot,g=t.initial,S=t.icons,b=y()(t,["prefixCls","style","className","children","direction","labelPlacement","iconPrefix","status","size","current","progressDot","initial","icons"]),v=this.state,D=v.lastStepOffsetWidth,N=v.flexSupported,x=r.a.Children.toArray(l).filter(function(e){return!!e}),w=x.length-1,I=E?"vertical":d,C=k()(a,a+"-"+c,o,((e={})[a+"-"+m]=m,e[a+"-label-"+I]="horizontal"===c,e[a+"-dot"]=!!E,e[a+"-flex-not-supported"]=!N,e));return r.a.createElement("div",h()({className:C,style:i},b),n.Children.map(x,function(e,t){if(!e)return null;var r=g+t,s=h()({stepNumber:""+(r+1),prefixCls:a,iconPrefix:p,wrapperStyle:i,progressDot:E,icons:S},e.props);return N||"vertical"===c||t===w||(s.itemWidth=100/w+"%",s.adjustMarginRight=-Math.round(D/w+1)),"error"===u&&t===f-1&&(s.className=a+"-next-error"),e.props.status||(s.status=r===f?u:r<f?"finish":"wait"),Object(n.cloneElement)(e,s)}))},t}(n.Component);R.propTypes={prefixCls:l.a.string,className:l.a.string,iconPrefix:l.a.string,direction:l.a.string,labelPlacement:l.a.string,children:l.a.any,status:l.a.string,size:l.a.string,progressDot:l.a.oneOfType([l.a.bool,l.a.func]),style:l.a.object,initial:l.a.number,current:l.a.number,icons:l.a.shape({finish:l.a.node,error:l.a.node})},R.defaultProps={prefixCls:"rc-steps",iconPrefix:"rc",direction:"horizontal",labelPlacement:"horizontal",initial:0,current:0,status:"process",size:"",progressDot:!1};var P=R;function O(e){return"string"==typeof e}var A=function(e){function t(){return g()(this,t),b()(this,e.apply(this,arguments))}return D()(t,e),t.prototype.renderIconNode=function(){var e,t=this.props,a=t.prefixCls,n=t.progressDot,s=t.stepNumber,i=t.status,o=t.title,l=t.description,c=t.icon,d=t.iconPrefix,p=t.icons,u=k()(a+"-icon",d+"icon",((e={})[d+"icon-"+c]=c&&O(c),e[d+"icon-check"]=!c&&"finish"===i&&p&&!p.finish,e[d+"icon-close"]=!c&&"error"===i&&p&&!p.error,e)),m=r.a.createElement("span",{className:a+"-icon-dot"});return n?"function"==typeof n?r.a.createElement("span",{className:a+"-icon"},n(m,{index:s-1,status:i,title:o,description:l})):r.a.createElement("span",{className:a+"-icon"},m):c&&!O(c)?r.a.createElement("span",{className:a+"-icon"},c):p&&p.finish&&"finish"===i?r.a.createElement("span",{className:a+"-icon"},p.finish):p&&p.error&&"error"===i?r.a.createElement("span",{className:a+"-icon"},p.error):c||"finish"===i||"error"===i?r.a.createElement("span",{className:u}):r.a.createElement("span",{className:a+"-icon"},s)},t.prototype.render=function(){var e,t=this.props,a=t.className,n=t.prefixCls,s=t.style,i=t.itemWidth,o=t.status,l=void 0===o?"wait":o,c=(t.iconPrefix,t.icon),d=(t.wrapperStyle,t.adjustMarginRight),p=(t.stepNumber,t.description),u=t.title,m=(t.progressDot,t.tailContent),f=(t.icons,y()(t,["className","prefixCls","style","itemWidth","status","iconPrefix","icon","wrapperStyle","adjustMarginRight","stepNumber","description","title","progressDot","tailContent","icons"])),E=k()(n+"-item",n+"-item-"+l,a,((e={})[n+"-item-custom"]=c,e)),g=h()({},s);return i&&(g.width=i),d&&(g.marginRight=d),r.a.createElement("div",h()({},f,{className:E,style:g}),r.a.createElement("div",{className:n+"-item-tail"},m),r.a.createElement("div",{className:n+"-item-icon"},this.renderIconNode()),r.a.createElement("div",{className:n+"-item-content"},r.a.createElement("div",{className:n+"-item-title"},u),p&&r.a.createElement("div",{className:n+"-item-description"},p)))},t}(r.a.Component);A.propTypes={className:l.a.string,prefixCls:l.a.string,style:l.a.object,wrapperStyle:l.a.object,itemWidth:l.a.oneOfType([l.a.number,l.a.string]),status:l.a.string,iconPrefix:l.a.string,icon:l.a.node,adjustMarginRight:l.a.oneOfType([l.a.number,l.a.string]),stepNumber:l.a.string,description:l.a.any,title:l.a.any,progressDot:l.a.oneOfType([l.a.bool,l.a.func]),tailContent:l.a.any,icons:l.a.shape({finish:l.a.node,error:l.a.node})};var U=A;P.Step=U;var T=P,G=a("CtXQ"),_=a("wEI+");function M(e){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function $(){return($=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e}).apply(this,arguments)}function j(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}function V(e,t){return!t||"object"!==M(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function F(e){return(F=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function W(e,t){return(W=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}var z=function(e){function t(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(e=V(this,F(t).apply(this,arguments))).renderSteps=function(t){var a=t.getPrefixCls,r=a("steps",e.props.prefixCls),s=a("",e.props.iconPrefix),i={finish:n.createElement(G.a,{type:"check",className:"".concat(r,"-finish-icon")}),error:n.createElement(G.a,{type:"close",className:"".concat(r,"-error-icon")})};return n.createElement(T,$({icons:i},e.props,{prefixCls:r,iconPrefix:s}))},e}var a,r,s;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&W(e,t)}(t,n["Component"]),a=t,(r=[{key:"render",value:function(){return n.createElement(_.a,null,this.renderSteps)}}])&&j(a.prototype,r),s&&j(a,s),t}();z.Step=T.Step,z.defaultProps={current:0},z.propTypes={prefixCls:o.string,iconPrefix:o.string,current:o.number};var B=a("kLXV"),q=a("mr32"),L=a("tsqr"),K=a("2/Rp"),Q=a("wCAj"),H=a("VXEj"),Y=a("Tckk"),J=a("NJEC"),X=a("bE4q"),Z=a("BMrR"),ee=a("kPKH"),te=a("5rEg"),ae=a("zr5I"),ne=a.n(ae),re=a("iho4");function se(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,s){try{var i=t[r](s),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}const ie=localStorage.getItem("key"),oe=()=>(()=>{var e=se(function*(e){e({type:"DATA_REQUEST"})});return function(t){return e.apply(this,arguments)}})(),le=e=>t=>{t({type:"ERROR",payload:e})};var ce=a("7cg7"),de=a("jDFS"),pe=a("qvGC"),ue=a("T2ns"),me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e};const he=p.a.Item,fe=u.a.Option,{Step:ye}=z,Ee=p.a.create()(e=>{const{modalVisible:t,handleModalVisible:a,formValues:n,formTitle:s,currentStep:i,renderContent:o,renderFooter:l}=e;return r.a.createElement(B.a,{visible:t,width:"700px",footer:l(i),title:[r.a.createElement("span",{key:d.a.generate()},r.a.createElement("h3",{className:"header-title mb-0"},`${s} USER MANAGEMENT`),r.a.createElement("small",{className:"small-3 header-title"},"Silahkan isi data yang sesuai"))],onCancel:()=>a()},r.a.createElement(z,{style:{marginBottom:28},size:"small",current:i},r.a.createElement(ye,{title:"User"}),r.a.createElement(ye,{title:"User Group"}),r.a.createElement(ye,{title:"Right"})),o(i,n))}),ge=p.a.create()(e=>{const{modalGroupVisible:t,userGroup:a,onSelectChange:s,selectedRowKeys:i,saveAddGroup:o,handleModalAddGroup:l}=e,c=[{title:"Name",dataIndex:"name",key:"name"},{title:"Desc",dataIndex:"desc",key:"desc"},{title:"Status",dataIndex:"status",key:"status",className:"text-center",render:e=>{const t="Active"===e?"green":"volcano";return r.a.createElement(q.a,{color:t,key:e},e)}}],p=a.listData,u=[];p.length>0&&p.map(e=>{u.push({key:e[0],name:e[1],desc:e[2],status:"A"===e[3]?"Active":"Terminated"})});const m={selectedRowKeys:i,onChange:e=>s(e)};return r.a.createElement(B.a,{visible:t,width:"700px",footer:[r.a.createElement(n.Fragment,null,r.a.createElement(K.a,{key:"cancel",onClick:()=>l(!1)},"Cancel"),",",r.a.createElement(K.a,{key:"forward",type:"primary",onClick:()=>{i.length>0?(o(i),l(!1)):L.a.warning("Fields is empty!")}},"Save"))],title:[r.a.createElement("span",{key:d.a.generate()},r.a.createElement("h3",{className:"header-title mb-0"},"ADD USER GROUP"))],onCancel:()=>l()},r.a.createElement(Q.a,{dataSource:u,className:"table-modal",columns:c,scroll:{y:340},rowSelection:m}))});class Se extends n.PureComponent{constructor(e){super(e),this.componentDidMount=(()=>{this.props.listBranch(),this.props.listSales(),this.props.listUserGroup()}),this.componentWillReceiveProps=(e=>{this.setState({loadingList:!0}),e.data.success!==this.props.data.success&&this.setState({loadingList:!1})}),this.componentDidUpdate=(e=>{const{userId:t}=this.props.data;e.data.userId!==t&&(this.props.userAddDomain(t),this.props.mnemonic(t),this.props.showData(t))}),this.handleNext=(e=>{const{form:t,handleUpdate:a}=this.props,{formValues:n}=this.state;t.validateFields((t,a)=>{if(t)return;const r=me({},n,a);this.setState({formValues:r},()=>{e<2&&this.forward(),0===e&&this.handleUpdateUser(r)})})}),this.handleUpdateUser=(e=>{""!==e.id?this.props.updateData(e.id,e):this.props.saveData(e)}),this.saveAddGroup=(e=>{const{userId:t}=this.props.data;this.props.saveAddGroupUser(t,e)}),this.handleDeleteGroup=((e,t)=>{""!==t&&this.props.deleteGroupUser(e,t)}),this.backward=(()=>{const{currentStep:e}=this.state;this.setState({currentStep:e-1})}),this.forward=(()=>{const{currentStep:e}=this.state;this.setState({currentStep:e+1})}),this.onSelectChange=(e=>{this.setState({selectedRowKeys:e})}),this.handleModalAddGroup=(e=>{this.setState({modalGroupVisible:!!e})}),this.handleChildMnemonic=((e,t)=>{this.setState({loadingList:!0}),""!==e&&this.props.mnemonic(e,t)}),this.renderItemMnemonic=((e,t)=>r.a.createElement(n.Fragment,null,r.a.createElement(H.a.Item,{key:t.id},r.a.createElement(H.a.Item.Meta,{avatar:r.a.createElement(Y.a,{src:"https://img.icons8.com/color/48/000000/folder-invoices.png"}),title:r.a.createElement(i.NavLink,{to:{pathname:`/user/user-management/${t.name}`,hash:"#"},onClick:()=>this.handleChildMnemonic(e,t.id)},t.name)})))),this.renderContent=((e,t)=>{const{form:a,branch:s,sales:i,data:o}=this.props;console.log(this.props.data);const{showData:l}=o,c=l.Domain||[];console.log("list group",c);const{userId:p}=this.props.data,m=[{title:"Name",dataIndex:"name",key:"name",width:"500px"},{title:"Action",key:"action",className:"text-center",render:(e,t)=>r.a.createElement("div",{className:"gap-xy"},r.a.createElement(J.a,{title:"Sure to delete?",onConfirm:()=>this.handleDeleteGroup(p,t.key)},r.a.createElement(G.a,{type:"close-circle",style:{fontSize:"23px"},theme:"twoTone",twoToneColor:"#dc3545"})))}],h=[],f=s.listData,y=i.listData;if(1===e)return[r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row pb-4"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(K.a,{type:"primary",onClick:()=>this.handleModalAddGroup(!0)},"Add Group"))),r.a.createElement(Q.a,{dataSource:h,className:"table-modal",columns:m,scroll:{y:340}}))];if(2===e){const{treeMnemonic:e,userId:t}=this.props.data,a=[];return e.length>0&&e.map(e=>a.push({id:e[0],name:e[2]})),[r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"col-md-12"},r.a.createElement(X.a,{separator:">"},r.a.createElement(X.a.Item,null,"Home"))),r.a.createElement("div",{className:"col-md-12"},r.a.createElement(H.a,{size:"small",dataSource:a,renderItem:e=>this.renderItemMnemonic(t,e)}))))]}return[r.a.createElement(n.Fragment,null,r.a.createElement(Z.a,{gutter:25},r.a.createElement(ee.a,{span:25},r.a.createElement(he,{style:{display:"none"}},a.getFieldDecorator("id",{initialValue:t.id&&p||""})(r.a.createElement(te.a,null))),r.a.createElement(he,{label:"Name"},a.getFieldDecorator("Name",{rules:[{required:!0,message:"Please input your name!"}],initialValue:t.Name||""})(r.a.createElement(te.a,{className:"form-control",size:"large",placeholder:"Name"}))))),r.a.createElement(Z.a,{gutter:25},r.a.createElement(ee.a,{span:25},r.a.createElement(he,{label:"Description"},a.getFieldDecorator("Description",{rules:[{required:!0,message:"Please input your description!"}],initialValue:t.Description||""})(r.a.createElement(te.a,{className:"form-control",size:"large",placeholder:"Description",autoComplete:"Desc"}))))),r.a.createElement(Z.a,{gutter:25},r.a.createElement(ee.a,{span:12},r.a.createElement(he,{label:"Branch"},a.getFieldDecorator("BranchID",{rules:[{required:!0,message:"Please input your branch!"}],initialValue:t.BranchID||""})(r.a.createElement(u.a,{size:"large",placeholder:"Choose Branch",className:"w-100"},f.length>0&&f.map(e=>r.a.createElement(fe,{key:d.a.generate(),value:e[0]},e[2])))))),r.a.createElement(ee.a,{span:12},r.a.createElement(he,{label:"Sales"},a.getFieldDecorator("SalesID",{rules:[{required:!0,message:"Please input your brach!"}],initialValue:t.SalesID||""})(r.a.createElement(u.a,{size:"large",placeholder:"Choose Sales",className:"w-100"},y.length>0&&y.map(e=>r.a.createElement(fe,{key:d.a.generate(),value:e[0]},e[1]))))))))]}),this.renderFooter=(e=>{const{stepFormValues:t}=this.props;return 1===e?[r.a.createElement(K.a,{key:"back",type:"primary",style:{float:"left"},onClick:this.backward},"Back"),r.a.createElement(K.a,{key:"cancel",onClick:()=>this.handleModalVisible(!1,t)},"Cancel"),r.a.createElement(K.a,{key:"forward",type:"primary",onClick:()=>this.handleNext(e)},"Save & Next")]:2===e?[r.a.createElement(K.a,{key:"back",type:"primary",style:{float:"left"},onClick:this.backward},"Back"),r.a.createElement(K.a,{key:"cancel",onClick:()=>this.handleModalVisible(!1,t)},"Cancel"),r.a.createElement(K.a,{key:"forward",type:"primary",onClick:()=>this.handleNext(e)},"Save & Finish")]:[r.a.createElement(K.a,{key:"cancel",onClick:()=>this.handleModalVisible(!1,t)},"Cancel"),r.a.createElement(K.a,{key:"forward",type:"primary",onClick:()=>this.handleNext(e)},"Save & Next")]}),this.state={currentStep:0,formValues:{id:"",Name:"",Description:"",BranchID:"",SalesID:""},stepFormValues:{},selectedRowKeys:[],modalGroupVisible:!1,modalUserVisible:!1,loadingList:!1},this.formLayout={labelCol:{span:7},wrapperCol:{span:13}}}render(){const e={renderContent:this.renderContent,renderFooter:this.renderFooter},t={saveAddGroup:this.saveAddGroup,handleModalAddGroup:this.handleModalAddGroup};return r.a.createElement(n.Fragment,null,r.a.createElement(ge,me({},this.state,this.props,{onSelectChange:this.onSelectChange},t)),r.a.createElement(Ee,me({},this.props,this.state,e)))}}Se.columns=[{title:"Name",dataIndex:"name",key:"name",width:"200px",sorter:(e,t)=>e.name.length-t.name.length,sortDirections:["descend","ascend"]},{title:"Branch",dataIndex:"branchName",key:"branchName",width:"200px",sorter:(e,t)=>e.branchName.length-t.branchName.length,sortDirections:["descend","ascend"]},{title:"Sales",dataIndex:"salesName",key:"salesName",width:"200px",sorter:(e,t)=>e.salesName.length-t.salesName.length,sortDirections:["descend","ascend"]},{title:"Desc",dataIndex:"description",key:"description",width:"200px",sorter:(e,t)=>e.name.length-t.name.length,sortDirections:["descend","ascend"]},{title:"Status",dataIndex:"status",key:"status",className:"text-center",width:"80px",sorter:(e,t)=>e.status.length-t.status.length,sortDirections:["descend","ascend"],render:e=>{const t="Active"===e?"green":"volcano";return r.a.createElement(q.a,{color:t,key:e},e)}}],Se.dataTable=(e=>{const t=[];return e.length>0&&e.map(e=>t.push({key:e[0],name:e[1],branchId:e[4],branchName:e[5],salesId:e[6],salesName:e[7],description:e[2],status:"A"===e[8]?"Active":"Terminated"})),t}),Se.propTypes={listData:l.a.func.isRequired,saveData:l.a.func.isRequired,showData:l.a.func.isRequired,updateData:l.a.func.isRequired,deleteData:l.a.func.isRequired,listBranch:l.a.func.isRequired,listSales:l.a.func.isRequired,updateUserGroup:l.a.func.isRequired};t.default=Object(s.connect)(({user:e,branch:t,sales:a,userGroup:n})=>({data:e,branch:t,sales:a,userGroup:n}),{listUserGroup:pe.b,updateUserGroup:e=>t=>{t(oe());const a={x:"150",id:e,key:`${ie}`};ne.a.post(`${re.API}:acl:user`,a).then(e=>{"200"===e.data.r?t({type:"SAVE_USER_GROUP",payload:e.data}):"401"===e.data.r&&t(le(e.data.m))})},listBranch:ce.b,listSales:de.b,listData:e=>t=>{t(oe());const a={x:"1",key:`${ie}`},n=Object.assign({},a,e);ne.a.post(`${re.API}:acl:user`,n).then(e=>{"200"===e.data.r?t({type:"LIST_USER",payload:e.data.atom,filParam:n}):"401"===e.data.r&&t({type:"ERROR"})})},saveData:e=>t=>{t(oe());const a={x:"101",id:"0",key:`${ie}`,Name:e.Name,Description:e.Description,BranchID:e.BranchID,SalesID:e.SalesID,Active:"A"};ne.a.post(`${re.API}:acl:user`,a).then(e=>{"200"===e.data.r?t({type:"SAVE_USER",payload:e.data}):"401"===e.data.r&&t(le(e.data.m))})},showData:e=>(()=>{var t=se(function*(t){t(oe());const a={x:"50",id:e,key:`${ie}`};yield ne.a.post(`${re.API}:acl:user`,a).then(function(e){"200"===e.data.r?t({type:"SHOW_USER",payload:e.data.atom.data}):"401"===e.data.r&&t(le(e.data.m))})});return function(e){return t.apply(this,arguments)}})(),updateData:(e,t)=>a=>{a(oe());const n={x:"101",id:e,key:`${ie}`,Name:t.Name,Description:t.Description,BranchID:t.BranchID,SalesID:t.SalesID};ne.a.post(`${re.API}:acl:user`,n).then(e=>{"200"===e.data.r?a({type:"UPDATE_USER",payload:e.data}):"401"===e.data.r&&a(le(e.data.m))})},deleteData:e=>t=>{t(oe());const a={x:"201",id:e,key:`${ie}`};ne.a.post(`${re.API}:acl:user`,a).then(e=>{"200"===e.data.r?t({type:"DELETE_USER",payload:e.data}):"401"===e.data.r&&t(le(e.data.m))})},userAddDomain:e=>t=>{t(oe());const a={x:"500",key:`${ie}`,for:"user-domain",UserID:e};ne.a.post(`${re.API}:acl:group`,a).then(e=>{"200"===e.data.r?t({type:"LIST_USER_ADD_GROUP",payload:e.data.atom}):"401"===e.data.r&&t({type:"ERROR"})})},saveAddGroupUser:(e,t)=>a=>{a(oe());const n={x:"150",key:`${ie}`,id:e,GroupID:t};ne.a.post(`${re.API}:acl:user`,n).then(e=>{"200"===e.data.r?a({type:"SAVE_ADD_GROUP_USER",payload:e.data}):"401"===e.data.r&&a(le(e.data.m))})},deleteGroupUser:(e,t)=>a=>{a(oe());const n={x:"151",id:e,key:`${ie}`,GroupID:t};ne.a.post(`${re.API}:acl:user`,n).then(e=>{"200"===e.data.r?a({type:"DELETE_GROUP_USER",payload:e.data}):"401"===e.data.r&&a(le(e.data.m))})},mnemonic:(e,t)=>a=>{a(oe());const n={x:"500",key:`${ie}`,ModuleID:t||0,UserID:e,For:"form-name"};ne.a.post(`${re.API}:acl:mnemonic`,n).then(e=>{"200"===e.data.r?a({type:"LIST_USER_MNEMONIC",payload:e.data.atom}):"401"===e.data.r&&a({type:"ERROR"})})}})(Object(ue.a)({columns:Se.columns,dataTable:Se.dataTable,headTitle:"User Management"})(p.a.create()(Se)))},qvGC:function(e,t,a){"use strict";a.d(t,"b",function(){return d}),a.d(t,"c",function(){return p}),a.d(t,"e",function(){return u}),a.d(t,"d",function(){return m}),a.d(t,"a",function(){return h});var n=a("zr5I"),r=a.n(n),s=a("iho4");function i(e){return function(){var t=e.apply(this,arguments);return new Promise(function(e,a){return function n(r,s){try{var i=t[r](s),o=i.value}catch(e){return void a(e)}if(!i.done)return Promise.resolve(o).then(function(e){n("next",e)},function(e){n("throw",e)});e(o)}("next")})}}const o=localStorage.getItem("key"),l=()=>(()=>{var e=i(function*(e){e({type:"DATA_REQUEST"})});return function(t){return e.apply(this,arguments)}})(),c=e=>t=>{t({type:"ERROR",payload:e})},d=e=>t=>{t(l());const a={x:"1",key:`${o}`},n=Object.assign({},a,e);r.a.post(`${s.API}:acl:group`,n).then(e=>{"200"===e.data.r?t({type:"LIST_USER_GROUP",payload:e.data.atom,filParam:n}):"401"===e.data.r&&t(c(e.data.m))})},p=e=>t=>{t(l());const a={x:"101",id:"0",key:`${o}`,Name:e.Name,Description:e.Description,Active:"A"};r.a.post(`${s.API}:acl:group`,a).then(e=>{"200"===e.data.r?t({type:"SAVE_USER_GROUP",payload:e.data}):"401"===e.data.r&&t(c(e.data.m))})},u=(e,t)=>a=>{a(l());const n={x:"101",id:e,key:`${o}`,Name:t.Name,Description:t.Description};r.a.post(`${s.API}:acl:group`,n).then(e=>{"200"===e.data.r?a({type:"UPDATE_USER_GROUP",payload:e.data}):"401"===e.data.r&&a(c(e.data.m))})},m=e=>(()=>{var t=i(function*(t){t(l());const a={x:"50",id:e,key:`${o}`};yield r.a.post(`${s.API}:acl:group`,a).then(function(e){"200"===e.data.r?t({type:"SHOW_USER_GROUP",payload:e.data.atom.data}):"401"===e.data.r&&t(c(e.data.m))})});return function(e){return t.apply(this,arguments)}})(),h=e=>t=>{t(l());const a={x:"201",id:e,key:`${o}`};r.a.post(`${s.API}:acl:group`,a).then(e=>{"200"===e.data.r?t({type:"DELETE_USER_GROUP",payload:e.data}):"401"===e.data.r&&t(c(e.data.m))})}}}]);
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvcmMtc3RlcHMvZXMvdXRpbHMuanMiLCJ3ZWJwYWNrOi8vLy4vbm9kZV9tb2R1bGVzL3JjLXN0ZXBzL2VzL1N0ZXBzLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1zdGVwcy9lcy9TdGVwLmpzIiwid2VicGFjazovLy8uL25vZGVfbW9kdWxlcy9yYy1zdGVwcy9lcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9ub2RlX21vZHVsZXMvYW50ZC9lcy9zdGVwcy9pbmRleC5qcyIsIndlYnBhY2s6Ly8vLi9zcmMvYWN0aW9ucy9hY2wvdXNlckFjdGlvbnMuanN4Iiwid2VicGFjazovLy8uL3NyYy9wYWdlcy9tYXN0ZXIvYWNsL3VzZXIvVXNlck1hbmFnZW1lbnQuanN4Iiwid2VicGFjazovLy8uL3NyYy9hY3Rpb25zL2FjbC91c2VyR3JvdXBBY3Rpb25zLmpzeCJdLCJuYW1lcyI6WyJpc0ZsZXhTdXBwb3J0ZWQiLCJ3aW5kb3ciLCJkb2N1bWVudCIsImRvY3VtZW50RWxlbWVudCIsInN0eWxlIiwiU3RlcHNfU3RlcHMiLCJfQ29tcG9uZW50IiwiU3RlcHMiLCJwcm9wcyIsImNsYXNzQ2FsbENoZWNrX2RlZmF1bHQiLCJ0aGlzIiwiX3RoaXMiLCJwb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuX2RlZmF1bHQiLCJjYWxsIiwiY2FsY1N0ZXBPZmZzZXRXaWR0aCIsImRvbU5vZGUiLCJPYmplY3QiLCJleHRlcm5hbF9SZWFjdERPTV8iLCJjaGlsZHJlbiIsImxlbmd0aCIsImNhbGNUaW1lb3V0IiwiY2xlYXJUaW1lb3V0Iiwic2V0VGltZW91dCIsImxhc3RTdGVwT2Zmc2V0V2lkdGgiLCJsYXN0Q2hpbGQiLCJvZmZzZXRXaWR0aCIsInN0YXRlIiwiTWF0aCIsImFicyIsInNldFN0YXRlIiwiZmxleFN1cHBvcnRlZCIsImRlYm91bmNlX2RlZmF1bHQiLCJpbmhlcml0c19kZWZhdWx0IiwicHJvdG90eXBlIiwiY29tcG9uZW50RGlkTW91bnQiLCJjb21wb25lbnREaWRVcGRhdGUiLCJjb21wb25lbnRXaWxsVW5tb3VudCIsImNhbmNlbCIsInJlbmRlciIsIl9jbGFzc05hbWVzIiwiX3Byb3BzIiwicHJlZml4Q2xzIiwiX3Byb3BzJHN0eWxlIiwidW5kZWZpbmVkIiwiY2xhc3NOYW1lIiwiZGlyZWN0aW9uIiwibGFiZWxQbGFjZW1lbnQiLCJpY29uUHJlZml4Iiwic3RhdHVzIiwic2l6ZSIsImN1cnJlbnQiLCJwcm9ncmVzc0RvdCIsImluaXRpYWwiLCJpY29ucyIsInJlc3RQcm9wcyIsIm9iamVjdFdpdGhvdXRQcm9wZXJ0aWVzX2RlZmF1bHQiLCJfc3RhdGUiLCJmaWx0ZXJlZENoaWxkcmVuIiwiZXh0ZXJuYWxfUmVhY3RfZGVmYXVsdCIsImEiLCJDaGlsZHJlbiIsInRvQXJyYXkiLCJmaWx0ZXIiLCJjIiwibGFzdEluZGV4IiwiYWRqdXN0ZWRsYWJlbFBsYWNlbWVudCIsImNsYXNzU3RyaW5nIiwiY2xhc3NuYW1lc19kZWZhdWx0IiwiY3JlYXRlRWxlbWVudCIsImV4dGVuZHNfZGVmYXVsdCIsImV4dGVybmFsX1JlYWN0XyIsIm1hcCIsImNoaWxkIiwiaW5kZXgiLCJzdGVwTnVtYmVyIiwiY2hpbGRQcm9wcyIsIndyYXBwZXJTdHlsZSIsIml0ZW1XaWR0aCIsImFkanVzdE1hcmdpblJpZ2h0Iiwicm91bmQiLCJwcm9wVHlwZXMiLCJwcm9wX3R5cGVzX2RlZmF1bHQiLCJzdHJpbmciLCJhbnkiLCJvbmVPZlR5cGUiLCJib29sIiwiZnVuYyIsIm9iamVjdCIsIm51bWJlciIsInNoYXBlIiwiZmluaXNoIiwibm9kZSIsImVycm9yIiwiZGVmYXVsdFByb3BzIiwiZXNfU3RlcHMiLCJpc1N0cmluZyIsInN0ciIsIlN0ZXBfU3RlcCIsIl9SZWFjdCRDb21wb25lbnQiLCJTdGVwIiwiYXBwbHkiLCJhcmd1bWVudHMiLCJyZW5kZXJJY29uTm9kZSIsInRpdGxlIiwiZGVzY3JpcHRpb24iLCJpY29uIiwiaWNvbkNsYXNzTmFtZSIsImljb25Eb3QiLCJfY2xhc3NOYW1lczIiLCJfcHJvcHMyIiwiX3Byb3BzMiRzdGF0dXMiLCJ0YWlsQ29udGVudCIsInN0ZXBJdGVtU3R5bGUiLCJ3aWR0aCIsIm1hcmdpblJpZ2h0IiwiQ29tcG9uZW50IiwiZXNfU3RlcCIsImVzIiwiX3R5cGVvZiIsIm9iaiIsIlN5bWJvbCIsIml0ZXJhdG9yIiwiY29uc3RydWN0b3IiLCJfZXh0ZW5kcyIsImFzc2lnbiIsInRhcmdldCIsImkiLCJzb3VyY2UiLCJrZXkiLCJoYXNPd25Qcm9wZXJ0eSIsIl9kZWZpbmVQcm9wZXJ0aWVzIiwiZGVzY3JpcHRvciIsImVudW1lcmFibGUiLCJjb25maWd1cmFibGUiLCJ3cml0YWJsZSIsImRlZmluZVByb3BlcnR5IiwiX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4iLCJzZWxmIiwiUmVmZXJlbmNlRXJyb3IiLCJfYXNzZXJ0VGhpc0luaXRpYWxpemVkIiwiX2dldFByb3RvdHlwZU9mIiwibyIsInNldFByb3RvdHlwZU9mIiwiZ2V0UHJvdG90eXBlT2YiLCJfX3Byb3RvX18iLCJfc2V0UHJvdG90eXBlT2YiLCJwIiwic3RlcHNfU3RlcHMiLCJpbnN0YW5jZSIsIkNvbnN0cnVjdG9yIiwiVHlwZUVycm9yIiwiX2NsYXNzQ2FsbENoZWNrIiwicmVuZGVyU3RlcHMiLCJfcmVmIiwiZ2V0UHJlZml4Q2xzIiwiZXNfaWNvbiIsInR5cGUiLCJjb25jYXQiLCJwcm90b1Byb3BzIiwic3RhdGljUHJvcHMiLCJzdWJDbGFzcyIsInN1cGVyQ2xhc3MiLCJjcmVhdGUiLCJ2YWx1ZSIsIl9pbmhlcml0cyIsImNvbmZpZ19wcm92aWRlciIsInByb3BfdHlwZXMiLCJ2YWxpZEtleSIsImxvY2FsU3RvcmFnZSIsImdldEl0ZW0iLCJkYXRhUmVxdWVzdCIsIl9hc3luY1RvR2VuZXJhdG9yIiwiZGlzcGF0Y2giLCJfeCIsIm1lc3NhZ2UiLCJwYXlsb2FkIiwiRm9ybUl0ZW0iLCJGb3JtIiwiSXRlbSIsIk9wdGlvbnMiLCJTZWxlY3QiLCJPcHRpb24iLCJVc2VyTWFuYWdlbWVudF9TdGVwIiwiRm9ybVVzZXIiLCJtb2RhbFZpc2libGUiLCJoYW5kbGVNb2RhbFZpc2libGUiLCJmb3JtVmFsdWVzIiwiZm9ybVRpdGxlIiwiY3VycmVudFN0ZXAiLCJyZW5kZXJDb250ZW50IiwicmVuZGVyRm9vdGVyIiwibW9kYWwiLCJ2aXNpYmxlIiwiZm9vdGVyIiwic2hvcnRJZCIsImdlbmVyYXRlIiwib25DYW5jZWwiLCJtYXJnaW5Cb3R0b20iLCJNb2RhbEFkZEdyb3VwIiwibW9kYWxHcm91cFZpc2libGUiLCJ1c2VyR3JvdXAiLCJvblNlbGVjdENoYW5nZSIsInNlbGVjdGVkUm93S2V5cyIsInNhdmVBZGRHcm91cCIsImhhbmRsZU1vZGFsQWRkR3JvdXAiLCJjb2x1bW5zIiwiZGF0YUluZGV4IiwidGFncyIsImNvbG9yIiwidGFnIiwibGlzdFVzZXJHcm91cCIsImxpc3REYXRhIiwiZGF0YVNvdXJjZSIsInZhbCIsInB1c2giLCJuYW1lIiwiZGVzYyIsInJvd0NoZWNrU2VsZWN0aW9uIiwib25DaGFuZ2UiLCJlIiwiZXNfYnV0dG9uIiwib25DbGljayIsIndhcm5pbmciLCJ0YWJsZSIsInNjcm9sbCIsInkiLCJyb3dTZWxlY3Rpb24iLCJVc2VyTWFuYWdlbWVudCIsIlB1cmVDb21wb25lbnQiLCJzdXBlciIsImxpc3RCcmFuY2giLCJsaXN0U2FsZXMiLCJjb21wb25lbnRXaWxsUmVjZWl2ZVByb3BzIiwibmV4dFByb3BzIiwibG9hZGluZ0xpc3QiLCJkYXRhIiwic3VjY2VzcyIsInVzZXJJZCIsInVzZXJBZGREb21haW4iLCJtbmVtb25pYyIsInNob3dEYXRhIiwiaGFuZGxlTmV4dCIsImZvcm0iLCJoYW5kbGVVcGRhdGUiLCJvbGRWYWx1ZSIsInZhbGlkYXRlRmllbGRzIiwiZXJyIiwiZmllbGRzVmFsdWUiLCJmb3J3YXJkIiwiaGFuZGxlVXBkYXRlVXNlciIsImZpZWxkcyIsImlkIiwidXBkYXRlRGF0YSIsInNhdmVEYXRhIiwiZmllbGRzR3JvdXAiLCJzYXZlQWRkR3JvdXBVc2VyIiwiaGFuZGxlRGVsZXRlR3JvdXAiLCJncm91cElkIiwiZGVsZXRlR3JvdXBVc2VyIiwiYmFja3dhcmQiLCJmbGFnIiwiaGFuZGxlQ2hpbGRNbmVtb25pYyIsIm1vZHVsZUlkIiwicmVuZGVySXRlbU1uZW1vbmljIiwiaXRlbSIsImxpc3QiLCJNZXRhIiwiYXZhdGFyIiwic3JjIiwiZXh0ZXJuYWxfUmVhY3RSb3V0ZXJET01fIiwidG8iLCJwYXRobmFtZSIsImhhc2giLCJicmFuY2giLCJzYWxlcyIsImNvbnNvbGUiLCJsb2ciLCJsaXN0QWRkR3JvdXAiLCJEb21haW4iLCJ0ZXh0IiwicmVjb3JkIiwicG9wY29uZmlybSIsIm9uQ29uZmlybSIsImZvbnRTaXplIiwidGhlbWUiLCJ0d29Ub25lQ29sb3IiLCJ0cmVlTW5lbW9uaWMiLCJsaXN0TW5lbW9uaWMiLCJicmVhZGNydW1iIiwic2VwYXJhdG9yIiwicmVuZGVySXRlbSIsInJvdyIsImd1dHRlciIsImNvbCIsInNwYW4iLCJkaXNwbGF5IiwiZ2V0RmllbGREZWNvcmF0b3IiLCJpbml0aWFsVmFsdWUiLCJpbnB1dCIsImxhYmVsIiwicnVsZXMiLCJyZXF1aXJlZCIsIk5hbWUiLCJwbGFjZWhvbGRlciIsIkRlc2NyaXB0aW9uIiwiYXV0b0NvbXBsZXRlIiwiQnJhbmNoSUQiLCJlc19zZWxlY3QiLCJTYWxlc0lEIiwic3RlcEZvcm1WYWx1ZXMiLCJmbG9hdCIsIm1vZGFsVXNlclZpc2libGUiLCJmb3JtTGF5b3V0IiwibGFiZWxDb2wiLCJ3cmFwcGVyQ29sIiwiY3VycmVudEZ1bmN0aW9uIiwiY3VycmVudEZ1bmN0aW9uQWRkR3JvdXAiLCJVc2VyTWFuYWdlbWVudF9leHRlbmRzIiwic29ydGVyIiwiYiIsInNvcnREaXJlY3Rpb25zIiwiYnJhbmNoTmFtZSIsInNhbGVzTmFtZSIsImRhdGFUYWJsZSIsImJyYW5jaElkIiwic2FsZXNJZCIsIlByb3BUeXBlcyIsImlzUmVxdWlyZWQiLCJkZWxldGVEYXRhIiwidXBkYXRlVXNlckdyb3VwIiwiY29ubmVjdCIsInVzZXIiLCJpZFVzZXIiLCJwYXJhbSIsIngiLCJheGlvcyIsInBvc3QiLCJBUEkiLCJ0aGVuIiwicmVzIiwiciIsIm0iLCJwYXIiLCJmaWxQYXJhbSIsImF0b20iLCJBY3RpdmUiLCJfcmVmMiIsIl94MiIsImlkQmFuayIsImZvciIsIlVzZXJJRCIsImZpZWxkc0dyb3VwSWQiLCJHcm91cElEIiwiTW9kdWxlSUQiLCJGb3IiLCJEYXRhVGFibGUiLCJoZWFkVGl0bGUiXSwibWFwcGluZ3MiOiJvWEFBTyxTQUFBQSxJQUNQLHVCQUFBQyxlQUFBQyxVQUFBRCxPQUFBQyxTQUFBQyxnQkFBQSxDQUNBLElBQUFBLEVBQUFGLE9BQUFDLFNBQUFDLGdCQUVBLGVBQUFBLEVBQUFDLE9BQUEsZUFBQUQsRUFBQUMsT0FBQSxTQUFBRCxFQUFBQyxPQUFBLFdBQUFELEVBQUFDLE1BRUEsU0NPQSxJQUFJQyxFQUFLLFNBQUFDLEdBR1QsU0FBQUMsRUFBQUMsR0FDSUMsSUFBZUMsS0FBQUgsR0FFbkIsSUFBQUksRUFBZ0JDLElBQTBCRixLQUFBSixFQUFBTyxLQUFBSCxLQUFBRixJQTZCMUMsT0EzQkFHLEVBQUFHLG9CQUFBLFdBQ0EsSUFBVWQsSUFBVixDQUlBLElBQUFlLEVBQW9CQyxPQUFBQyxFQUFBLFlBQUFELENBQVdMLEdBQy9CSSxFQUFBRyxTQUFBQyxPQUFBLElBQ0FSLEVBQUFTLGFBQ0FDLGFBQUFWLEVBQUFTLGFBRUFULEVBQUFTLFlBQUFFLFdBQUEsV0FFQSxJQUFBQyxHQUFBUixFQUFBUyxVQUFBQyxhQUFBLEtBRUFkLEVBQUFlLE1BQUFILHlCQUFBSSxLQUFBQyxJQUFBakIsRUFBQWUsTUFBQUgsd0JBQUEsR0FHQVosRUFBQWtCLFNBQUEsQ0FBMEJOLDZCQUsxQlosRUFBQWUsTUFBQSxDQUNBSSxlQUFBLEVBQ0FQLG9CQUFBLEdBRUFaLEVBQUFHLG9CQUFnQ2lCLElBQVFwQixFQUFBRyxvQkFBQSxLQUN4Q0gsRUE4RkEsT0FoSUVxQixJQUFTekIsRUFBQUQs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QUM1QixRQUFmQSxFQUFJeEcsS0FBS3lHLEVBQ1h4SyxFQUFTLENBQ1BoQixLQUFNLGtCQUNObUIsUUFBU29LLEVBQUl4RyxLQUFLNkcsS0FBSzdHLE9BRUQsUUFBZndHLEVBQUl4RyxLQUFLeUcsR0FDbEJ4SyxFQUFTaEYsRUFBTXVQLEVBQUl4RyxLQUFLMEcsUUFkTixnQkFBQU0sR0FBQSxPQUFBRCxFQUFBdFAsTUFBQTFGLEtBQUEyRixhQUFBdU8sR0FvQ1hKLEVBQWFvQixHQUFVaEwsSUFDbENBLEVBQVNGLEtBQ1QsTUFBTW1LLEVBQVEsQ0FDWkMsRUFBRyxNQUNIbkYsR0FBSWlHLEVBQ0o1TixPQUFRdUMsS0FFVndLLElBQU1DLFFBQVFDLGtCQUFpQkosR0FBT0ssS0FBS0MsSUFDdEIsUUFBZkEsRUFBSXhHLEtBQUt5RyxFQUNYeEssRUFBUyxDQUNQaEIsS0FBTSxvQkFDTm1CLFFBQVNvSyxFQUFJeEcsT0FFUyxRQUFmd0csRUFBSXhHLEtBQUt5RyxHQUNsQnhLLEVBQVNoRixFQUFNdVAsRUFBSXhHLEtBQUswRyIsImZpbGUiOiI0LmluZGV4LmZkYzI5MDkwNGFkYzI4YjI5MjJhLmpzIiwic291cmNlc0NvbnRlbnQiOlsiZXhwb3J0IGZ1bmN0aW9uIGlzRmxleFN1cHBvcnRlZCgpIHtcbiAgaWYgKHR5cGVvZiB3aW5kb3cgIT09ICd1bmRlZmluZWQnICYmIHdpbmRvdy5kb2N1bWVudCAmJiB3aW5kb3cuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KSB7XG4gICAgdmFyIGRvY3VtZW50RWxlbWVudCA9IHdpbmRvdy5kb2N1bWVudC5kb2N1bWVudEVsZW1lbnQ7XG5cbiAgICByZXR1cm4gJ2ZsZXgnIGluIGRvY3VtZW50RWxlbWVudC5zdHlsZSB8fCAnd2Via2l0RmxleCcgaW4gZG9jdW1lbnRFbGVtZW50LnN0eWxlIHx8ICdGbGV4JyBpbiBkb2N1bWVudEVsZW1lbnQuc3R5bGUgfHwgJ21zRmxleCcgaW4gZG9jdW1lbnRFbGVtZW50LnN0eWxlO1xuICB9XG4gIHJldHVybiBmYWxzZTtcbn0iLCJpbXBvcnQgX2V4dGVuZHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2V4dGVuZHMnO1xuaW1wb3J0IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvb2JqZWN0V2l0aG91dFByb3BlcnRpZXMnO1xuaW1wb3J0IF9jbGFzc0NhbGxDaGVjayBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvY2xhc3NDYWxsQ2hlY2snO1xuaW1wb3J0IF9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9wb3NzaWJsZUNvbnN0cnVjdG9yUmV0dXJuJztcbmltcG9ydCBfaW5oZXJpdHMgZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL2luaGVyaXRzJztcbi8qIGVzbGludCByZWFjdC9uby1kaWQtbW91bnQtc2V0LXN0YXRlOiAwICovXG5pbXBvcnQgUmVhY3QsIHsgY2xvbmVFbGVtZW50LCBDaGlsZHJlbiwgQ29tcG9uZW50IH0gZnJvbSAncmVhY3QnO1xuaW1wb3J0IFByb3BUeXBlcyBmcm9tICdwcm9wLXR5cGVzJztcbmltcG9ydCB7IGZpbmRET01Ob2RlIH0gZnJvbSAncmVhY3QtZG9tJztcbmltcG9ydCBjbGFzc05hbWVzIGZyb20gJ2NsYXNzbmFtZXMnO1xuaW1wb3J0IGRlYm91bmNlIGZyb20gJ2xvZGFzaC9kZWJvdW5jZSc7XG5pbXBvcnQgeyBpc0ZsZXhTdXBwb3J0ZWQgfSBmcm9tICcuL3V0aWxzJztcblxudmFyIFN0ZXBzID0gZnVuY3Rpb24gKF9Db21wb25lbnQpIHtcbiAgX2luaGVyaXRzKFN0ZXBzLCBfQ29tcG9uZW50KTtcblxuICBmdW5jdGlvbiBTdGVwcyhwcm9wcykge1xuICAgIF9jbGFzc0NhbGxDaGVjayh0aGlzLCBTdGVwcyk7XG5cbiAgICB2YXIgX3RoaXMgPSBfcG9zc2libGVDb25zdHJ1Y3RvclJldHVybih0aGlzLCBfQ29tcG9uZW50LmNhbGwodGhpcywgcHJvcHMpKTtcblxuICAgIF90aGlzLmNhbGNTdGVwT2Zmc2V0V2lkdGggPSBmdW5jdGlvbiAoKSB7XG4gICAgICBpZiAoaXNGbGV4U3VwcG9ydGVkKCkpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgLy8gSnVzdCBmb3IgSUU5XG4gICAgICB2YXIgZG9tTm9kZSA9IGZpbmRET01Ob2RlKF90aGlzKTtcbiAgICAgIGlmIChkb21Ob2RlLmNoaWxkcmVuLmxlbmd0aCA+IDApIHtcbiAgICAgICAgaWYgKF90aGlzLmNhbGNUaW1lb3V0KSB7XG4gICAgICAgICAgY2xlYXJUaW1lb3V0KF90aGlzLmNhbGNUaW1lb3V0KTtcbiAgICAgICAgfVxuICAgICAgICBfdGhpcy5jYWxjVGltZW91dCA9IHNldFRpbWVvdXQoZnVuY3Rpb24gKCkge1xuICAgICAgICAgIC8vICsxIGZvciBmaXQgZWRnZSBidWcgb2YgZGlnaXQgd2lkdGgsIGxpa2UgMzUuNHB4XG4gICAgICAgICAgdmFyIGxhc3RTdGVwT2Zmc2V0V2lkdGggPSAoZG9tTm9kZS5sYXN0Q2hpbGQub2Zmc2V0V2lkdGggfHwgMCkgKyAxO1xuICAgICAgICAgIC8vIFJlZHVjZSBzaGFrZSBidWdcbiAgICAgICAgICBpZiAoX3RoaXMuc3RhdGUubGFzdFN0ZXBPZmZzZXRXaWR0aCA9PT0gbGFzdFN0ZXBPZmZzZXRXaWR0aCB8fCBNYXRoLmFicyhfdGhpcy5zdGF0ZS5sYXN0U3RlcE9mZnNldFdpZHRoIC0gbGFzdFN0ZXBPZmZzZXRXaWR0aCkgPD0gMykge1xuICAgICAgICAgICAgcmV0dXJuO1xuICAgICAgICAgIH1cbiAgICAgICAgICBfdGhpcy5zZXRTdGF0ZSh7IGxhc3RTdGVwT2Zmc2V0V2lkdGg6IGxhc3RTdGVwT2Zmc2V0V2lkdGggfSk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH07XG5cbiAgICBfdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGZsZXhTdXBwb3J0ZWQ6IHRydWUsXG4gICAgICBsYXN0U3RlcE9mZnNldFdpZHRoOiAwXG4gICAgfTtcbiAgICBfdGhpcy5jYWxjU3RlcE9mZnNldFdpZHRoID0gZGVib3VuY2UoX3RoaXMuY2FsY1N0ZXBPZmZzZXRXaWR0aCwgMTUwKTtcbiAgICByZXR1cm4gX3RoaXM7XG4gIH1cblxuICBTdGVwcy5wcm90b3R5cGUuY29tcG9uZW50RGlkTW91bnQgPSBmdW5jdGlvbiBjb21wb25lbnREaWRNb3VudCgpIHtcbiAgICB0aGlzLmNhbGNTdGVwT2Zmc2V0V2lkdGgoKTtcbiAgICBpZiAoIWlzRmxleFN1cHBvcnRlZCgpKSB7XG4gICAgICB0aGlzLnNldFN0YXRlKHtcbiAgICAgICAgZmxleFN1cHBvcnRlZDogZmFsc2VcbiAgICAgIH0pO1xuICAgIH1cbiAgfTtcblxuICBTdGVwcy5wcm90b3R5cGUuY29tcG9uZW50RGlkVXBkYXRlID0gZnVuY3Rpb24gY29tcG9uZW50RGlkVXBkYXRlKCkge1xuICAgIHRoaXMuY2FsY1N0ZXBPZmZzZXRXaWR0aCgpO1xuICB9O1xuXG4gIFN0ZXBzLnByb3RvdHlwZS5jb21wb25lbnRXaWxsVW5tb3VudCA9IGZ1bmN0aW9uIGNvbXBvbmVudFdpbGxVbm1vdW50KCkge1xuICAgIGlmICh0aGlzLmNhbGNUaW1lb3V0KSB7XG4gICAgICBjbGVhclRpbWVvdXQodGhpcy5jYWxjVGltZW91dCk7XG4gICAgfVxuICAgIGlmICh0aGlzLmNhbGNTdGVwT2Zmc2V0V2lkdGggJiYgdGhpcy5jYWxjU3RlcE9mZnNldFdpZHRoLmNhbmNlbCkge1xuICAgICAgdGhpcy5jYWxjU3RlcE9mZnNldFdpZHRoLmNhbmNlbCgpO1xuICAgIH1cbiAgfTtcblxuICBTdGVwcy5wcm90b3R5cGUucmVuZGVyID0gZnVuY3Rpb24gcmVuZGVyKCkge1xuICAgIHZhciBfY2xhc3NOYW1lcztcblxuICAgIHZhciBfcHJvcHMgPSB0aGlzLnByb3BzLFxuICAgICAgICBwcmVmaXhDbHMgPSBfcHJvcHMucHJlZml4Q2xzLFxuICAgICAgICBfcHJvcHMkc3R5bGUgPSBfcHJvcHMuc3R5bGUsXG4gICAgICAgIHN0eWxlID0gX3Byb3BzJHN0eWxlID09PSB1bmRlZmluZWQgPyB7fSA6IF9wcm9wcyRzdHlsZSxcbiAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzLmNsYXNzTmFtZSxcbiAgICAgICAgY2hpbGRyZW4gPSBfcHJvcHMuY2hpbGRyZW4sXG4gICAgICAgIGRpcmVjdGlvbiA9IF9wcm9wcy5kaXJlY3Rpb24sXG4gICAgICAgIGxhYmVsUGxhY2VtZW50ID0gX3Byb3BzLmxhYmVsUGxhY2VtZW50LFxuICAgICAgICBpY29uUHJlZml4ID0gX3Byb3BzLmljb25QcmVmaXgsXG4gICAgICAgIHN0YXR1cyA9IF9wcm9wcy5zdGF0dXMsXG4gICAgICAgIHNpemUgPSBfcHJvcHMuc2l6ZSxcbiAgICAgICAgY3VycmVudCA9IF9wcm9wcy5jdXJyZW50LFxuICAgICAgICBwcm9ncmVzc0RvdCA9IF9wcm9wcy5wcm9ncmVzc0RvdCxcbiAgICAgICAgaW5pdGlhbCA9IF9wcm9wcy5pbml0aWFsLFxuICAgICAgICBpY29ucyA9IF9wcm9wcy5pY29ucyxcbiAgICAgICAgcmVzdFByb3BzID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKF9wcm9wcywgWydwcmVmaXhDbHMnLCAnc3R5bGUnLCAnY2xhc3NOYW1lJywgJ2NoaWxkcmVuJywgJ2RpcmVjdGlvbicsICdsYWJlbFBsYWNlbWVudCcsICdpY29uUHJlZml4JywgJ3N0YXR1cycsICdzaXplJywgJ2N1cnJlbnQnLCAncHJvZ3Jlc3NEb3QnLCAnaW5pdGlhbCcsICdpY29ucyddKTtcblxuICAgIHZhciBfc3RhdGUgPSB0aGlzLnN0YXRlLFxuICAgICAgICBsYXN0U3RlcE9mZnNldFdpZHRoID0gX3N0YXRlLmxhc3RTdGVwT2Zmc2V0V2lkdGgsXG4gICAgICAgIGZsZXhTdXBwb3J0ZWQgPSBfc3RhdGUuZmxleFN1cHBvcnRlZDtcblxuICAgIHZhciBmaWx0ZXJlZENoaWxkcmVuID0gUmVhY3QuQ2hpbGRyZW4udG9BcnJheShjaGlsZHJlbikuZmlsdGVyKGZ1bmN0aW9uIChjKSB7XG4gICAgICByZXR1cm4gISFjO1xuICAgIH0pO1xuICAgIHZhciBsYXN0SW5kZXggPSBmaWx0ZXJlZENoaWxkcmVuLmxlbmd0aCAtIDE7XG4gICAgdmFyIGFkanVzdGVkbGFiZWxQbGFjZW1lbnQgPSAhIXByb2dyZXNzRG90ID8gJ3ZlcnRpY2FsJyA6IGxhYmVsUGxhY2VtZW50O1xuICAgIHZhciBjbGFzc1N0cmluZyA9IGNsYXNzTmFtZXMocHJlZml4Q2xzLCBwcmVmaXhDbHMgKyAnLScgKyBkaXJlY3Rpb24sIGNsYXNzTmFtZSwgKF9jbGFzc05hbWVzID0ge30sIF9jbGFzc05hbWVzW3ByZWZpeENscyArICctJyArIHNpemVdID0gc2l6ZSwgX2NsYXNzTmFtZXNbcHJlZml4Q2xzICsgJy1sYWJlbC0nICsgYWRqdXN0ZWRsYWJlbFBsYWNlbWVudF0gPSBkaXJlY3Rpb24gPT09ICdob3Jpem9udGFsJywgX2NsYXNzTmFtZXNbcHJlZml4Q2xzICsgJy1kb3QnXSA9ICEhcHJvZ3Jlc3NEb3QsIF9jbGFzc05hbWVzW3ByZWZpeENscyArICctZmxleC1ub3Qtc3VwcG9ydGVkJ10gPSAhZmxleFN1cHBvcnRlZCwgX2NsYXNzTmFtZXMpKTtcblxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICBfZXh0ZW5kcyh7IGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsIHN0eWxlOiBzdHlsZSB9LCByZXN0UHJvcHMpLFxuICAgICAgQ2hpbGRyZW4ubWFwKGZpbHRlcmVkQ2hpbGRyZW4sIGZ1bmN0aW9uIChjaGlsZCwgaW5kZXgpIHtcbiAgICAgICAgaWYgKCFjaGlsZCkge1xuICAgICAgICAgIHJldHVybiBudWxsO1xuICAgICAgICB9XG4gICAgICAgIHZhciBzdGVwTnVtYmVyID0gaW5pdGlhbCArIGluZGV4O1xuICAgICAgICB2YXIgY2hpbGRQcm9wcyA9IF9leHRlbmRzKHtcbiAgICAgICAgICBzdGVwTnVtYmVyOiAnJyArIChzdGVwTnVtYmVyICsgMSksXG4gICAgICAgICAgcHJlZml4Q2xzOiBwcmVmaXhDbHMsXG4gICAgICAgICAgaWNvblByZWZpeDogaWNvblByZWZpeCxcbiAgICAgICAgICB3cmFwcGVyU3R5bGU6IHN0eWxlLFxuICAgICAgICAgIHByb2dyZXNzRG90OiBwcm9ncmVzc0RvdCxcbiAgICAgICAgICBpY29uczogaWNvbnNcbiAgICAgICAgfSwgY2hpbGQucHJvcHMpO1xuICAgICAgICBpZiAoIWZsZXhTdXBwb3J0ZWQgJiYgZGlyZWN0aW9uICE9PSAndmVydGljYWwnICYmIGluZGV4ICE9PSBsYXN0SW5kZXgpIHtcbiAgICAgICAgICBjaGlsZFByb3BzLml0ZW1XaWR0aCA9IDEwMCAvIGxhc3RJbmRleCArICclJztcbiAgICAgICAgICBjaGlsZFByb3BzLmFkanVzdE1hcmdpblJpZ2h0ID0gLU1hdGgucm91bmQobGFzdFN0ZXBPZmZzZXRXaWR0aCAvIGxhc3RJbmRleCArIDEpO1xuICAgICAgICB9XG4gICAgICAgIC8vIGZpeCB0YWlsIGNvbG9yXG4gICAgICAgIGlmIChzdGF0dXMgPT09ICdlcnJvcicgJiYgaW5kZXggPT09IGN1cnJlbnQgLSAxKSB7XG4gICAgICAgICAgY2hpbGRQcm9wcy5jbGFzc05hbWUgPSBwcmVmaXhDbHMgKyAnLW5leHQtZXJyb3InO1xuICAgICAgICB9XG4gICAgICAgIGlmICghY2hpbGQucHJvcHMuc3RhdHVzKSB7XG4gICAgICAgICAgaWYgKHN0ZXBOdW1iZXIgPT09IGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNoaWxkUHJvcHMuc3RhdHVzID0gc3RhdHVzO1xuICAgICAgICAgIH0gZWxzZSBpZiAoc3RlcE51bWJlciA8IGN1cnJlbnQpIHtcbiAgICAgICAgICAgIGNoaWxkUHJvcHMuc3RhdHVzID0gJ2ZpbmlzaCc7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGNoaWxkUHJvcHMuc3RhdHVzID0gJ3dhaXQnO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gY2xvbmVFbGVtZW50KGNoaWxkLCBjaGlsZFByb3BzKTtcbiAgICAgIH0pXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gU3RlcHM7XG59KENvbXBvbmVudCk7XG5cblN0ZXBzLnByb3BUeXBlcyA9IHtcbiAgcHJlZml4Q2xzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBjbGFzc05hbWU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGljb25QcmVmaXg6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGRpcmVjdGlvbjogUHJvcFR5cGVzLnN0cmluZyxcbiAgbGFiZWxQbGFjZW1lbnQ6IFByb3BUeXBlcy5zdHJpbmcsXG4gIGNoaWxkcmVuOiBQcm9wVHlwZXMuYW55LFxuICBzdGF0dXM6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHNpemU6IFByb3BUeXBlcy5zdHJpbmcsXG4gIHByb2dyZXNzRG90OiBQcm9wVHlwZXMub25lT2ZUeXBlKFtQcm9wVHlwZXMuYm9vbCwgUHJvcFR5cGVzLmZ1bmNdKSxcbiAgc3R5bGU6IFByb3BUeXBlcy5vYmplY3QsXG4gIGluaXRpYWw6IFByb3BUeXBlcy5udW1iZXIsXG4gIGN1cnJlbnQ6IFByb3BUeXBlcy5udW1iZXIsXG4gIGljb25zOiBQcm9wVHlwZXMuc2hhcGUoe1xuICAgIGZpbmlzaDogUHJvcFR5cGVzLm5vZGUsXG4gICAgZXJyb3I6IFByb3BUeXBlcy5ub2RlXG4gIH0pXG59O1xuU3RlcHMuZGVmYXVsdFByb3BzID0ge1xuICBwcmVmaXhDbHM6ICdyYy1zdGVwcycsXG4gIGljb25QcmVmaXg6ICdyYycsXG4gIGRpcmVjdGlvbjogJ2hvcml6b250YWwnLFxuICBsYWJlbFBsYWNlbWVudDogJ2hvcml6b250YWwnLFxuICBpbml0aWFsOiAwLFxuICBjdXJyZW50OiAwLFxuICBzdGF0dXM6ICdwcm9jZXNzJyxcbiAgc2l6ZTogJycsXG4gIHByb2dyZXNzRG90OiBmYWxzZVxufTtcbmV4cG9ydCBkZWZhdWx0IFN0ZXBzOyIsImltcG9ydCBfZXh0ZW5kcyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvZXh0ZW5kcyc7XG5pbXBvcnQgX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9vYmplY3RXaXRob3V0UHJvcGVydGllcyc7XG5pbXBvcnQgX2NsYXNzQ2FsbENoZWNrIGZyb20gJ2JhYmVsLXJ1bnRpbWUvaGVscGVycy9jbGFzc0NhbGxDaGVjayc7XG5pbXBvcnQgX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4gZnJvbSAnYmFiZWwtcnVudGltZS9oZWxwZXJzL3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4nO1xuaW1wb3J0IF9pbmhlcml0cyBmcm9tICdiYWJlbC1ydW50aW1lL2hlbHBlcnMvaW5oZXJpdHMnO1xuaW1wb3J0IFJlYWN0IGZyb20gJ3JlYWN0JztcbmltcG9ydCBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgY2xhc3NOYW1lcyBmcm9tICdjbGFzc25hbWVzJztcblxuZnVuY3Rpb24gaXNTdHJpbmcoc3RyKSB7XG4gIHJldHVybiB0eXBlb2Ygc3RyID09PSAnc3RyaW5nJztcbn1cblxudmFyIFN0ZXAgPSBmdW5jdGlvbiAoX1JlYWN0JENvbXBvbmVudCkge1xuICBfaW5oZXJpdHMoU3RlcCwgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU3RlcCgpIHtcbiAgICBfY2xhc3NDYWxsQ2hlY2sodGhpcywgU3RlcCk7XG5cbiAgICByZXR1cm4gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX1JlYWN0JENvbXBvbmVudC5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcbiAgfVxuXG4gIFN0ZXAucHJvdG90eXBlLnJlbmRlckljb25Ob2RlID0gZnVuY3Rpb24gcmVuZGVySWNvbk5vZGUoKSB7XG4gICAgdmFyIF9jbGFzc05hbWVzO1xuXG4gICAgdmFyIF9wcm9wcyA9IHRoaXMucHJvcHMsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wcy5wcmVmaXhDbHMsXG4gICAgICAgIHByb2dyZXNzRG90ID0gX3Byb3BzLnByb2dyZXNzRG90LFxuICAgICAgICBzdGVwTnVtYmVyID0gX3Byb3BzLnN0ZXBOdW1iZXIsXG4gICAgICAgIHN0YXR1cyA9IF9wcm9wcy5zdGF0dXMsXG4gICAgICAgIHRpdGxlID0gX3Byb3BzLnRpdGxlLFxuICAgICAgICBkZXNjcmlwdGlvbiA9IF9wcm9wcy5kZXNjcmlwdGlvbixcbiAgICAgICAgaWNvbiA9IF9wcm9wcy5pY29uLFxuICAgICAgICBpY29uUHJlZml4ID0gX3Byb3BzLmljb25QcmVmaXgsXG4gICAgICAgIGljb25zID0gX3Byb3BzLmljb25zO1xuXG4gICAgdmFyIGljb25Ob2RlID0gdm9pZCAwO1xuICAgIHZhciBpY29uQ2xhc3NOYW1lID0gY2xhc3NOYW1lcyhwcmVmaXhDbHMgKyAnLWljb24nLCBpY29uUHJlZml4ICsgJ2ljb24nLCAoX2NsYXNzTmFtZXMgPSB7fSwgX2NsYXNzTmFtZXNbaWNvblByZWZpeCArICdpY29uLScgKyBpY29uXSA9IGljb24gJiYgaXNTdHJpbmcoaWNvbiksIF9jbGFzc05hbWVzW2ljb25QcmVmaXggKyAnaWNvbi1jaGVjayddID0gIWljb24gJiYgc3RhdHVzID09PSAnZmluaXNoJyAmJiBpY29ucyAmJiAhaWNvbnMuZmluaXNoLCBfY2xhc3NOYW1lc1tpY29uUHJlZml4ICsgJ2ljb24tY2xvc2UnXSA9ICFpY29uICYmIHN0YXR1cyA9PT0gJ2Vycm9yJyAmJiBpY29ucyAmJiAhaWNvbnMuZXJyb3IsIF9jbGFzc05hbWVzKSk7XG4gICAgdmFyIGljb25Eb3QgPSBSZWFjdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaWNvbi1kb3QnIH0pO1xuICAgIC8vIGBwcm9ncmVzc0RvdGAgZW5qb3kgdGhlIGhpZ2hlc3QgcHJpb3JpdHlcbiAgICBpZiAocHJvZ3Jlc3NEb3QpIHtcbiAgICAgIGlmICh0eXBlb2YgcHJvZ3Jlc3NEb3QgPT09ICdmdW5jdGlvbicpIHtcbiAgICAgICAgaWNvbk5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAgICdzcGFuJyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pY29uJyB9LFxuICAgICAgICAgIHByb2dyZXNzRG90KGljb25Eb3QsIHsgaW5kZXg6IHN0ZXBOdW1iZXIgLSAxLCBzdGF0dXM6IHN0YXR1cywgdGl0bGU6IHRpdGxlLCBkZXNjcmlwdGlvbjogZGVzY3JpcHRpb24gfSlcbiAgICAgICAgKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGljb25Ob2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnc3BhbicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaWNvbicgfSxcbiAgICAgICAgICBpY29uRG90XG4gICAgICAgICk7XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChpY29uICYmICFpc1N0cmluZyhpY29uKSkge1xuICAgICAgaWNvbk5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24nIH0sXG4gICAgICAgIGljb25cbiAgICAgICk7XG4gICAgfSBlbHNlIGlmIChpY29ucyAmJiBpY29ucy5maW5pc2ggJiYgc3RhdHVzID09PSAnZmluaXNoJykge1xuICAgICAgaWNvbk5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24nIH0sXG4gICAgICAgIGljb25zLmZpbmlzaFxuICAgICAgKTtcbiAgICB9IGVsc2UgaWYgKGljb25zICYmIGljb25zLmVycm9yICYmIHN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgaWNvbk5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgICAnc3BhbicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWljb24nIH0sXG4gICAgICAgIGljb25zLmVycm9yXG4gICAgICApO1xuICAgIH0gZWxzZSBpZiAoaWNvbiB8fCBzdGF0dXMgPT09ICdmaW5pc2gnIHx8IHN0YXR1cyA9PT0gJ2Vycm9yJykge1xuICAgICAgaWNvbk5vZGUgPSBSZWFjdC5jcmVhdGVFbGVtZW50KCdzcGFuJywgeyBjbGFzc05hbWU6IGljb25DbGFzc05hbWUgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGljb25Ob2RlID0gUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ3NwYW4nLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pY29uJyB9LFxuICAgICAgICBzdGVwTnVtYmVyXG4gICAgICApO1xuICAgIH1cblxuICAgIHJldHVybiBpY29uTm9kZTtcbiAgfTtcblxuICBTdGVwLnByb3RvdHlwZS5yZW5kZXIgPSBmdW5jdGlvbiByZW5kZXIoKSB7XG4gICAgdmFyIF9jbGFzc05hbWVzMjtcblxuICAgIHZhciBfcHJvcHMyID0gdGhpcy5wcm9wcyxcbiAgICAgICAgY2xhc3NOYW1lID0gX3Byb3BzMi5jbGFzc05hbWUsXG4gICAgICAgIHByZWZpeENscyA9IF9wcm9wczIucHJlZml4Q2xzLFxuICAgICAgICBzdHlsZSA9IF9wcm9wczIuc3R5bGUsXG4gICAgICAgIGl0ZW1XaWR0aCA9IF9wcm9wczIuaXRlbVdpZHRoLFxuICAgICAgICBfcHJvcHMyJHN0YXR1cyA9IF9wcm9wczIuc3RhdHVzLFxuICAgICAgICBzdGF0dXMgPSBfcHJvcHMyJHN0YXR1cyA9PT0gdW5kZWZpbmVkID8gJ3dhaXQnIDogX3Byb3BzMiRzdGF0dXMsXG4gICAgICAgIGljb25QcmVmaXggPSBfcHJvcHMyLmljb25QcmVmaXgsXG4gICAgICAgIGljb24gPSBfcHJvcHMyLmljb24sXG4gICAgICAgIHdyYXBwZXJTdHlsZSA9IF9wcm9wczIud3JhcHBlclN0eWxlLFxuICAgICAgICBhZGp1c3RNYXJnaW5SaWdodCA9IF9wcm9wczIuYWRqdXN0TWFyZ2luUmlnaHQsXG4gICAgICAgIHN0ZXBOdW1iZXIgPSBfcHJvcHMyLnN0ZXBOdW1iZXIsXG4gICAgICAgIGRlc2NyaXB0aW9uID0gX3Byb3BzMi5kZXNjcmlwdGlvbixcbiAgICAgICAgdGl0bGUgPSBfcHJvcHMyLnRpdGxlLFxuICAgICAgICBwcm9ncmVzc0RvdCA9IF9wcm9wczIucHJvZ3Jlc3NEb3QsXG4gICAgICAgIHRhaWxDb250ZW50ID0gX3Byb3BzMi50YWlsQ29udGVudCxcbiAgICAgICAgaWNvbnMgPSBfcHJvcHMyLmljb25zLFxuICAgICAgICByZXN0UHJvcHMgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMoX3Byb3BzMiwgWydjbGFzc05hbWUnLCAncHJlZml4Q2xzJywgJ3N0eWxlJywgJ2l0ZW1XaWR0aCcsICdzdGF0dXMnLCAnaWNvblByZWZpeCcsICdpY29uJywgJ3dyYXBwZXJTdHlsZScsICdhZGp1c3RNYXJnaW5SaWdodCcsICdzdGVwTnVtYmVyJywgJ2Rlc2NyaXB0aW9uJywgJ3RpdGxlJywgJ3Byb2dyZXNzRG90JywgJ3RhaWxDb250ZW50JywgJ2ljb25zJ10pO1xuXG4gICAgdmFyIGNsYXNzU3RyaW5nID0gY2xhc3NOYW1lcyhwcmVmaXhDbHMgKyAnLWl0ZW0nLCBwcmVmaXhDbHMgKyAnLWl0ZW0tJyArIHN0YXR1cywgY2xhc3NOYW1lLCAoX2NsYXNzTmFtZXMyID0ge30sIF9jbGFzc05hbWVzMltwcmVmaXhDbHMgKyAnLWl0ZW0tY3VzdG9tJ10gPSBpY29uLCBfY2xhc3NOYW1lczIpKTtcbiAgICB2YXIgc3RlcEl0ZW1TdHlsZSA9IF9leHRlbmRzKHt9LCBzdHlsZSk7XG4gICAgaWYgKGl0ZW1XaWR0aCkge1xuICAgICAgc3RlcEl0ZW1TdHlsZS53aWR0aCA9IGl0ZW1XaWR0aDtcbiAgICB9XG4gICAgaWYgKGFkanVzdE1hcmdpblJpZ2h0KSB7XG4gICAgICBzdGVwSXRlbVN0eWxlLm1hcmdpblJpZ2h0ID0gYWRqdXN0TWFyZ2luUmlnaHQ7XG4gICAgfVxuICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KFxuICAgICAgJ2RpdicsXG4gICAgICBfZXh0ZW5kcyh7fSwgcmVzdFByb3BzLCB7XG4gICAgICAgIGNsYXNzTmFtZTogY2xhc3NTdHJpbmcsXG4gICAgICAgIHN0eWxlOiBzdGVwSXRlbVN0eWxlXG4gICAgICB9KSxcbiAgICAgIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICdkaXYnLFxuICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLXRhaWwnIH0sXG4gICAgICAgIHRhaWxDb250ZW50XG4gICAgICApLFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0taWNvbicgfSxcbiAgICAgICAgdGhpcy5yZW5kZXJJY29uTm9kZSgpXG4gICAgICApLFxuICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgJ2RpdicsXG4gICAgICAgIHsgY2xhc3NOYW1lOiBwcmVmaXhDbHMgKyAnLWl0ZW0tY29udGVudCcgfSxcbiAgICAgICAgUmVhY3QuY3JlYXRlRWxlbWVudChcbiAgICAgICAgICAnZGl2JyxcbiAgICAgICAgICB7IGNsYXNzTmFtZTogcHJlZml4Q2xzICsgJy1pdGVtLXRpdGxlJyB9LFxuICAgICAgICAgIHRpdGxlXG4gICAgICAgICksXG4gICAgICAgIGRlc2NyaXB0aW9uICYmIFJlYWN0LmNyZWF0ZUVsZW1lbnQoXG4gICAgICAgICAgJ2RpdicsXG4gICAgICAgICAgeyBjbGFzc05hbWU6IHByZWZpeENscyArICctaXRlbS1kZXNjcmlwdGlvbicgfSxcbiAgICAgICAgICBkZXNjcmlwdGlvblxuICAgICAgICApXG4gICAgICApXG4gICAgKTtcbiAgfTtcblxuICByZXR1cm4gU3RlcDtcbn0oUmVhY3QuQ29tcG9uZW50KTtcblxuU3RlcC5wcm9wVHlwZXMgPSB7XG4gIGNsYXNzTmFtZTogUHJvcFR5cGVzLnN0cmluZyxcbiAgcHJlZml4Q2xzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBzdHlsZTogUHJvcFR5cGVzLm9iamVjdCxcbiAgd3JhcHBlclN0eWxlOiBQcm9wVHlwZXMub2JqZWN0LFxuICBpdGVtV2lkdGg6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgc3RhdHVzOiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpY29uUHJlZml4OiBQcm9wVHlwZXMuc3RyaW5nLFxuICBpY29uOiBQcm9wVHlwZXMubm9kZSxcbiAgYWRqdXN0TWFyZ2luUmlnaHQ6IFByb3BUeXBlcy5vbmVPZlR5cGUoW1Byb3BUeXBlcy5udW1iZXIsIFByb3BUeXBlcy5zdHJpbmddKSxcbiAgc3RlcE51bWJlcjogUHJvcFR5cGVzLnN0cmluZyxcbiAgZGVzY3JpcHRpb246IFByb3BUeXBlcy5hbnksXG4gIHRpdGxlOiBQcm9wVHlwZXMuYW55LFxuICBwcm9ncmVzc0RvdDogUHJvcFR5cGVzLm9uZU9mVHlwZShbUHJvcFR5cGVzLmJvb2wsIFByb3BUeXBlcy5mdW5jXSksXG4gIHRhaWxDb250ZW50OiBQcm9wVHlwZXMuYW55LFxuICBpY29uczogUHJvcFR5cGVzLnNoYXBlKHtcbiAgICBmaW5pc2g6IFByb3BUeXBlcy5ub2RlLFxuICAgIGVycm9yOiBQcm9wVHlwZXMubm9kZVxuICB9KVxufTtcbmV4cG9ydCBkZWZhdWx0IFN0ZXA7IiwiaW1wb3J0IFN0ZXBzIGZyb20gJy4vU3RlcHMnO1xuaW1wb3J0IFN0ZXAgZnJvbSAnLi9TdGVwJztcblxuU3RlcHMuU3RlcCA9IFN0ZXA7XG5cbmV4cG9ydCB7IFN0ZXAgfTtcbmV4cG9ydCBkZWZhdWx0IFN0ZXBzOyIsImZ1bmN0aW9uIF90eXBlb2Yob2JqKSB7IGlmICh0eXBlb2YgU3ltYm9sID09PSBcImZ1bmN0aW9uXCIgJiYgdHlwZW9mIFN5bWJvbC5pdGVyYXRvciA9PT0gXCJzeW1ib2xcIikgeyBfdHlwZW9mID0gZnVuY3Rpb24gX3R5cGVvZihvYmopIHsgcmV0dXJuIHR5cGVvZiBvYmo7IH07IH0gZWxzZSB7IF90eXBlb2YgPSBmdW5jdGlvbiBfdHlwZW9mKG9iaikgeyByZXR1cm4gb2JqICYmIHR5cGVvZiBTeW1ib2wgPT09IFwiZnVuY3Rpb25cIiAmJiBvYmouY29uc3RydWN0b3IgPT09IFN5bWJvbCAmJiBvYmogIT09IFN5bWJvbC5wcm90b3R5cGUgPyBcInN5bWJvbFwiIDogdHlwZW9mIG9iajsgfTsgfSByZXR1cm4gX3R5cGVvZihvYmopOyB9XG5cbmZ1bmN0aW9uIF9leHRlbmRzKCkgeyBfZXh0ZW5kcyA9IE9iamVjdC5hc3NpZ24gfHwgZnVuY3Rpb24gKHRhcmdldCkgeyBmb3IgKHZhciBpID0gMTsgaSA8IGFyZ3VtZW50cy5sZW5ndGg7IGkrKykgeyB2YXIgc291cmNlID0gYXJndW1lbnRzW2ldOyBmb3IgKHZhciBrZXkgaW4gc291cmNlKSB7IGlmIChPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwoc291cmNlLCBrZXkpKSB7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSB9IHJldHVybiB0YXJnZXQ7IH07IHJldHVybiBfZXh0ZW5kcy5hcHBseSh0aGlzLCBhcmd1bWVudHMpOyB9XG5cbmZ1bmN0aW9uIF9jbGFzc0NhbGxDaGVjayhpbnN0YW5jZSwgQ29uc3RydWN0b3IpIHsgaWYgKCEoaW5zdGFuY2UgaW5zdGFuY2VvZiBDb25zdHJ1Y3RvcikpIHsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkNhbm5vdCBjYWxsIGEgY2xhc3MgYXMgYSBmdW5jdGlvblwiKTsgfSB9XG5cbmZ1bmN0aW9uIF9kZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCwgcHJvcHMpIHsgZm9yICh2YXIgaSA9IDA7IGkgPCBwcm9wcy5sZW5ndGg7IGkrKykgeyB2YXIgZGVzY3JpcHRvciA9IHByb3BzW2ldOyBkZXNjcmlwdG9yLmVudW1lcmFibGUgPSBkZXNjcmlwdG9yLmVudW1lcmFibGUgfHwgZmFsc2U7IGRlc2NyaXB0b3IuY29uZmlndXJhYmxlID0gdHJ1ZTsgaWYgKFwidmFsdWVcIiBpbiBkZXNjcmlwdG9yKSBkZXNjcmlwdG9yLndyaXRhYmxlID0gdHJ1ZTsgT2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCwgZGVzY3JpcHRvci5rZXksIGRlc2NyaXB0b3IpOyB9IH1cblxuZnVuY3Rpb24gX2NyZWF0ZUNsYXNzKENvbnN0cnVjdG9yLCBwcm90b1Byb3BzLCBzdGF0aWNQcm9wcykgeyBpZiAocHJvdG9Qcm9wcykgX2RlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLCBwcm90b1Byb3BzKTsgaWYgKHN0YXRpY1Byb3BzKSBfZGVmaW5lUHJvcGVydGllcyhDb25zdHJ1Y3Rvciwgc3RhdGljUHJvcHMpOyByZXR1cm4gQ29uc3RydWN0b3I7IH1cblxuZnVuY3Rpb24gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4oc2VsZiwgY2FsbCkgeyBpZiAoY2FsbCAmJiAoX3R5cGVvZihjYWxsKSA9PT0gXCJvYmplY3RcIiB8fCB0eXBlb2YgY2FsbCA9PT0gXCJmdW5jdGlvblwiKSkgeyByZXR1cm4gY2FsbDsgfSByZXR1cm4gX2Fzc2VydFRoaXNJbml0aWFsaXplZChzZWxmKTsgfVxuXG5mdW5jdGlvbiBfYXNzZXJ0VGhpc0luaXRpYWxpemVkKHNlbGYpIHsgaWYgKHNlbGYgPT09IHZvaWQgMCkgeyB0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoXCJ0aGlzIGhhc24ndCBiZWVuIGluaXRpYWxpc2VkIC0gc3VwZXIoKSBoYXNuJ3QgYmVlbiBjYWxsZWRcIik7IH0gcmV0dXJuIHNlbGY7IH1cblxuZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgX2dldFByb3RvdHlwZU9mID0gT2JqZWN0LnNldFByb3RvdHlwZU9mID8gT2JqZWN0LmdldFByb3RvdHlwZU9mIDogZnVuY3Rpb24gX2dldFByb3RvdHlwZU9mKG8pIHsgcmV0dXJuIG8uX19wcm90b19fIHx8IE9iamVjdC5nZXRQcm90b3R5cGVPZihvKTsgfTsgcmV0dXJuIF9nZXRQcm90b3R5cGVPZihvKTsgfVxuXG5mdW5jdGlvbiBfaW5oZXJpdHMoc3ViQ2xhc3MsIHN1cGVyQ2xhc3MpIHsgaWYgKHR5cGVvZiBzdXBlckNsYXNzICE9PSBcImZ1bmN0aW9uXCIgJiYgc3VwZXJDbGFzcyAhPT0gbnVsbCkgeyB0aHJvdyBuZXcgVHlwZUVycm9yKFwiU3VwZXIgZXhwcmVzc2lvbiBtdXN0IGVpdGhlciBiZSBudWxsIG9yIGEgZnVuY3Rpb25cIik7IH0gc3ViQ2xhc3MucHJvdG90eXBlID0gT2JqZWN0LmNyZWF0ZShzdXBlckNsYXNzICYmIHN1cGVyQ2xhc3MucHJvdG90eXBlLCB7IGNvbnN0cnVjdG9yOiB7IHZhbHVlOiBzdWJDbGFzcywgd3JpdGFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSB9IH0pOyBpZiAoc3VwZXJDbGFzcykgX3NldFByb3RvdHlwZU9mKHN1YkNsYXNzLCBzdXBlckNsYXNzKTsgfVxuXG5mdW5jdGlvbiBfc2V0UHJvdG90eXBlT2YobywgcCkgeyBfc2V0UHJvdG90eXBlT2YgPSBPYmplY3Quc2V0UHJvdG90eXBlT2YgfHwgZnVuY3Rpb24gX3NldFByb3RvdHlwZU9mKG8sIHApIHsgby5fX3Byb3RvX18gPSBwOyByZXR1cm4gbzsgfTsgcmV0dXJuIF9zZXRQcm90b3R5cGVPZihvLCBwKTsgfVxuXG5pbXBvcnQgKiBhcyBSZWFjdCBmcm9tICdyZWFjdCc7XG5pbXBvcnQgKiBhcyBQcm9wVHlwZXMgZnJvbSAncHJvcC10eXBlcyc7XG5pbXBvcnQgUmNTdGVwcyBmcm9tICdyYy1zdGVwcyc7XG5pbXBvcnQgSWNvbiBmcm9tICcuLi9pY29uJztcbmltcG9ydCB7IENvbmZpZ0NvbnN1bWVyIH0gZnJvbSAnLi4vY29uZmlnLXByb3ZpZGVyJztcblxudmFyIFN0ZXBzID1cbi8qI19fUFVSRV9fKi9cbmZ1bmN0aW9uIChfUmVhY3QkQ29tcG9uZW50KSB7XG4gIF9pbmhlcml0cyhTdGVwcywgX1JlYWN0JENvbXBvbmVudCk7XG5cbiAgZnVuY3Rpb24gU3RlcHMoKSB7XG4gICAgdmFyIF90aGlzO1xuXG4gICAgX2NsYXNzQ2FsbENoZWNrKHRoaXMsIFN0ZXBzKTtcblxuICAgIF90aGlzID0gX3Bvc3NpYmxlQ29uc3RydWN0b3JSZXR1cm4odGhpcywgX2dldFByb3RvdHlwZU9mKFN0ZXBzKS5hcHBseSh0aGlzLCBhcmd1bWVudHMpKTtcblxuICAgIF90aGlzLnJlbmRlclN0ZXBzID0gZnVuY3Rpb24gKF9yZWYpIHtcbiAgICAgIHZhciBnZXRQcmVmaXhDbHMgPSBfcmVmLmdldFByZWZpeENscztcbiAgICAgIHZhciBwcmVmaXhDbHMgPSBnZXRQcmVmaXhDbHMoJ3N0ZXBzJywgX3RoaXMucHJvcHMucHJlZml4Q2xzKTtcbiAgICAgIHZhciBpY29uUHJlZml4ID0gZ2V0UHJlZml4Q2xzKCcnLCBfdGhpcy5wcm9wcy5pY29uUHJlZml4KTtcbiAgICAgIHZhciBpY29ucyA9IHtcbiAgICAgICAgZmluaXNoOiBSZWFjdC5jcmVhdGVFbGVtZW50KEljb24sIHtcbiAgICAgICAgICB0eXBlOiBcImNoZWNrXCIsXG4gICAgICAgICAgY2xhc3NOYW1lOiBcIlwiLmNvbmNhdChwcmVmaXhDbHMsIFwiLWZpbmlzaC1pY29uXCIpXG4gICAgICAgIH0pLFxuICAgICAgICBlcnJvcjogUmVhY3QuY3JlYXRlRWxlbWVudChJY29uLCB7XG4gICAgICAgICAgdHlwZTogXCJjbG9zZVwiLFxuICAgICAgICAgIGNsYXNzTmFtZTogXCJcIi5jb25jYXQocHJlZml4Q2xzLCBcIi1lcnJvci1pY29uXCIpXG4gICAgICAgIH0pXG4gICAgICB9O1xuICAgICAgcmV0dXJuIFJlYWN0LmNyZWF0ZUVsZW1lbnQoUmNTdGVwcywgX2V4dGVuZHMoe1xuICAgICAgICBpY29uczogaWNvbnNcbiAgICAgIH0sIF90aGlzLnByb3BzLCB7XG4gICAgICAgIHByZWZpeENsczogcHJlZml4Q2xzLFxuICAgICAgICBpY29uUHJlZml4OiBpY29uUHJlZml4XG4gICAgICB9KSk7XG4gICAgfTtcblxuICAgIHJldHVybiBfdGhpcztcbiAgfVxuXG4gIF9jcmVhdGVDbGFzcyhTdGVwcywgW3tcbiAgICBrZXk6IFwicmVuZGVyXCIsXG4gICAgdmFsdWU6IGZ1bmN0aW9uIHJlbmRlcigpIHtcbiAgICAgIHJldHVybiBSZWFjdC5jcmVhdGVFbGVtZW50KENvbmZpZ0NvbnN1bWVyLCBudWxsLCB0aGlzLnJlbmRlclN0ZXBzKTtcbiAgICB9XG4gIH1dKTtcblxuICByZXR1cm4gU3RlcHM7XG59KFJlYWN0LkNvbXBvbmVudCk7XG5cbmV4cG9ydCB7IFN0ZXBzIGFzIGRlZmF1bHQgfTtcblN0ZXBzLlN0ZXAgPSBSY1N0ZXBzLlN0ZXA7XG5TdGVwcy5kZWZhdWx0UHJvcHMgPSB7XG4gIGN1cnJlbnQ6IDBcbn07XG5TdGVwcy5wcm9wVHlwZXMgPSB7XG4gIHByZWZpeENsczogUHJvcFR5cGVzLnN0cmluZyxcbiAgaWNvblByZWZpeDogUHJvcFR5cGVzLnN0cmluZyxcbiAgY3VycmVudDogUHJvcFR5cGVzLm51bWJlclxufTsiLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgQVBJIH0gZnJvbSAnLi4vLi4vY29uZmlnL2tleXMnO1xuXG5jb25zdCB2YWxpZEtleSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdrZXknKTtcbmV4cG9ydCBjb25zdCBkYXRhUmVxdWVzdCA9ICgpID0+IGFzeW5jIGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6ICdEQVRBX1JFUVVFU1QnXG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBlcnJvciA9IG1lc3NhZ2UgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogJ0VSUk9SJyxcbiAgICBwYXlsb2FkOiBtZXNzYWdlXG4gIH0pO1xufTtcbi8vIGxpc3QgdXNlclxuZXhwb3J0IGNvbnN0IGxpc3REYXRhID0gcGFyID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0geyB4OiAnMScsIGtleTogYCR7dmFsaWRLZXl9YCB9O1xuICBjb25zdCBmaWxQYXJhbSA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmFtLCBwYXIpO1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBmaWxQYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnTElTVF9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGEuYXRvbSxcbiAgICAgICAgZmlsUGFyYW1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0VSUk9SJ1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzYXZlRGF0YSA9IHBhciA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMTAxJyxcbiAgICBpZDogJzAnLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBOYW1lOiBwYXIuTmFtZSxcbiAgICBEZXNjcmlwdGlvbjogcGFyLkRlc2NyaXB0aW9uLFxuICAgIEJyYW5jaElEOiBwYXIuQnJhbmNoSUQsXG4gICAgU2FsZXNJRDogcGFyLlNhbGVzSUQsXG4gICAgQWN0aXZlOiAnQSdcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1NBVkVfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgdXBkYXRlRGF0YSA9IChpZFVzZXIsIHBhcikgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzEwMScsXG4gICAgaWQ6IGlkVXNlcixcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgTmFtZTogcGFyLk5hbWUsXG4gICAgRGVzY3JpcHRpb246IHBhci5EZXNjcmlwdGlvbixcbiAgICBCcmFuY2hJRDogcGFyLkJyYW5jaElELFxuICAgIFNhbGVzSUQ6IHBhci5TYWxlc0lEXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdVUERBVEVfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3Qgc2hvd0RhdGEgPSBpZFVzZXIgPT4gYXN5bmMgZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzUwJyxcbiAgICBpZDogaWRVc2VyLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YFxuICB9O1xuICBhd2FpdCBheGlvcy5wb3N0KGAke0FQSX06YWNsOnVzZXJgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnU0hPV19VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGEuYXRvbS5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5leHBvcnQgY29uc3QgZmlsdGVyU3RhdHVzID0gcGFyID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICc1MCcsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gLFxuICAgIEFjdGl2ZTogcGFyXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdMSVNUX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZWxldGVEYXRhID0gaWRCYW5rID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcyMDEnLFxuICAgIGlkOiBpZEJhbmssXG4gICAga2V5OiBgJHt2YWxpZEtleX1gXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6dXNlcmAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdERUxFVEVfVVNFUicsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCB1cGRhdGVVc2VyR3JvdXAgPSBpZFVzZXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzE1MCcsXG4gICAgaWQ6IGlkVXNlcixcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWBcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1NBVkVfVVNFUl9HUk9VUCcsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCB1c2VyQWRkRG9tYWluID0gdXNlcklkID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0geyB4OiAnNTAwJywga2V5OiBgJHt2YWxpZEtleX1gLCBmb3I6ICd1c2VyLWRvbWFpbicsIFVzZXJJRDogdXNlcklkIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnTElTVF9VU0VSX0FERF9HUk9VUCcsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b21cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0VSUk9SJ1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn07XG4vLyBzYXZlIGFkZCBncm91cCB1c2VyXG5leHBvcnQgY29uc3Qgc2F2ZUFkZEdyb3VwVXNlciA9IChpZFVzZXIsIGZpZWxkc0dyb3VwSWQpID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcxNTAnLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBpZDogaWRVc2VyLFxuICAgIEdyb3VwSUQ6IGZpZWxkc0dyb3VwSWRcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ1NBVkVfQUREX0dST1VQX1VTRVInLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IGRlbGV0ZUdyb3VwVXNlciA9IChpZFVzZXIsIGdyb3VwSWQpID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcxNTEnLFxuICAgIGlkOiBpZFVzZXIsXG4gICAga2V5OiBgJHt2YWxpZEtleX1gLFxuICAgIEdyb3VwSUQ6IGdyb3VwSWRcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDp1c2VyYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0RFTEVURV9HUk9VUF9VU0VSJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcblxuLy8gcmlnaHQgLyBtbmVtb25pY1xuZXhwb3J0IGNvbnN0IG1uZW1vbmljID0gKHVzZXJJZCwgbW9kdWxlSWQpID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICc1MDAnLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBNb2R1bGVJRDogbW9kdWxlSWQgfHwgMCxcbiAgICBVc2VySUQ6IHVzZXJJZCxcbiAgICBGb3I6ICdmb3JtLW5hbWUnXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6bW5lbW9uaWNgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnTElTVF9VU0VSX01ORU1PTklDJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGEuYXRvbVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnRVJST1InXG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xufTtcbiIsImltcG9ydCBSZWFjdCwgeyBQdXJlQ29tcG9uZW50LCBGcmFnbWVudCB9IGZyb20gJ3JlYWN0JztcbmltcG9ydCB7IGNvbm5lY3QgfSBmcm9tICdyZWFjdC1yZWR1eCc7XG5pbXBvcnQgeyBOYXZMaW5rIH0gZnJvbSAncmVhY3Qtcm91dGVyLWRvbSc7XG5pbXBvcnQgUHJvcFR5cGVzIGZyb20gJ3Byb3AtdHlwZXMnO1xuaW1wb3J0IHNob3J0SWQgZnJvbSAnc2hvcnRpZCc7XG5pbXBvcnQge1xuICBCdXR0b24sXG4gIElucHV0LFxuICBSb3csXG4gIENvbCxcbiAgRm9ybSxcbiAgTW9kYWwsXG4gIFNlbGVjdCxcbiAgVGFnLFxuICBTdGVwcyxcbiAgVGFibGUsXG4gIEljb24sXG4gIFBvcGNvbmZpcm0sXG4gIG1lc3NhZ2UsXG4gIExpc3QsXG4gIEF2YXRhcixcbiAgQnJlYWRjcnVtYlxufSBmcm9tICdhbnRkJztcbmltcG9ydCB7XG4gIGxpc3REYXRhLFxuICBzYXZlRGF0YSxcbiAgc2hvd0RhdGEsXG4gIHVwZGF0ZURhdGEsXG4gIGRlbGV0ZURhdGEsXG4gIHVwZGF0ZVVzZXJHcm91cCxcbiAgdXNlckFkZERvbWFpbixcbiAgc2F2ZUFkZEdyb3VwVXNlcixcbiAgZGVsZXRlR3JvdXBVc2VyLFxuICBtbmVtb25pY1xufSBmcm9tICcuLi8uLi8uLi8uLi9hY3Rpb25zL2FjbC91c2VyQWN0aW9ucyc7XG5pbXBvcnQgeyBsaXN0RGF0YSBhcyBsaXN0QnJhbmNoIH0gZnJvbSAnLi4vLi4vLi4vLi4vYWN0aW9ucy9tYXN0ZXIvYnJhbmNoQWN0aW9ucyc7XG5pbXBvcnQgeyBsaXN0RGF0YSBhcyBsaXN0U2FsZXMgfSBmcm9tICcuLi8uLi8uLi8uLi9hY3Rpb25zL21hc3Rlci9zYWxlc0FjdGlvbnMnO1xuaW1wb3J0IHsgbGlzdERhdGEgYXMgbGlzdFVzZXJHcm91cCB9IGZyb20gJy4uLy4uLy4uLy4uL2FjdGlvbnMvYWNsL3VzZXJHcm91cEFjdGlvbnMnO1xuaW1wb3J0IERhdGFUYWJsZSBmcm9tICcuLi8uLi8uLi8uLi9jb21wb25lbnRzL2hvYy9EYXRhVGFibGUnO1xuXG5jb25zdCBGb3JtSXRlbSA9IEZvcm0uSXRlbTtcbmNvbnN0IE9wdGlvbnMgPSBTZWxlY3QuT3B0aW9uO1xuY29uc3QgeyBTdGVwIH0gPSBTdGVwcztcblxuY29uc3QgRm9ybVVzZXIgPSBGb3JtLmNyZWF0ZSgpKHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIG1vZGFsVmlzaWJsZSxcbiAgICBoYW5kbGVNb2RhbFZpc2libGUsXG4gICAgZm9ybVZhbHVlcyxcbiAgICBmb3JtVGl0bGUsXG4gICAgY3VycmVudFN0ZXAsXG4gICAgcmVuZGVyQ29udGVudCxcbiAgICByZW5kZXJGb290ZXJcbiAgfSA9IHByb3BzO1xuICByZXR1cm4gKFxuICAgIDxNb2RhbFxuICAgICAgdmlzaWJsZT17bW9kYWxWaXNpYmxlfVxuICAgICAgd2lkdGg9XCI3MDBweFwiXG4gICAgICBmb290ZXI9e3JlbmRlckZvb3RlcihjdXJyZW50U3RlcCl9XG4gICAgICB0aXRsZT17W1xuICAgICAgICA8c3BhbiBrZXk9e3Nob3J0SWQuZ2VuZXJhdGUoKX0+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImhlYWRlci10aXRsZSBtYi0wXCI+e2Ake2Zvcm1UaXRsZX0gVVNFUiBNQU5BR0VNRU5UYH08L2gzPlxuICAgICAgICAgIDxzbWFsbCBjbGFzc05hbWU9XCJzbWFsbC0zIGhlYWRlci10aXRsZVwiPlNpbGFoa2FuIGlzaSBkYXRhIHlhbmcgc2VzdWFpPC9zbWFsbD5cbiAgICAgICAgPC9zcGFuPlxuICAgICAgXX1cbiAgICAgIG9uQ2FuY2VsPXsoKSA9PiBoYW5kbGVNb2RhbFZpc2libGUoKX1cbiAgICA+XG4gICAgICA8U3RlcHMgc3R5bGU9e3sgbWFyZ2luQm90dG9tOiAyOCB9fSBzaXplPVwic21hbGxcIiBjdXJyZW50PXtjdXJyZW50U3RlcH0+XG4gICAgICAgIDxTdGVwIHRpdGxlPVwiVXNlclwiIC8+XG4gICAgICAgIDxTdGVwIHRpdGxlPVwiVXNlciBHcm91cFwiIC8+XG4gICAgICAgIDxTdGVwIHRpdGxlPVwiUmlnaHRcIiAvPlxuICAgICAgPC9TdGVwcz5cbiAgICAgIHtyZW5kZXJDb250ZW50KGN1cnJlbnRTdGVwLCBmb3JtVmFsdWVzKX1cbiAgICA8L01vZGFsPlxuICApO1xufSk7XG5cbmNvbnN0IE1vZGFsQWRkR3JvdXAgPSBGb3JtLmNyZWF0ZSgpKHByb3BzID0+IHtcbiAgY29uc3Qge1xuICAgIG1vZGFsR3JvdXBWaXNpYmxlLFxuICAgIHVzZXJHcm91cCxcbiAgICBvblNlbGVjdENoYW5nZSxcbiAgICBzZWxlY3RlZFJvd0tleXMsXG4gICAgc2F2ZUFkZEdyb3VwLFxuICAgIGhhbmRsZU1vZGFsQWRkR3JvdXBcbiAgfSA9IHByb3BzO1xuICBjb25zdCBjb2x1bW5zID0gW1xuICAgIHtcbiAgICAgIHRpdGxlOiAnTmFtZScsXG4gICAgICBkYXRhSW5kZXg6ICduYW1lJyxcbiAgICAgIGtleTogJ25hbWUnXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ0Rlc2MnLFxuICAgICAgZGF0YUluZGV4OiAnZGVzYycsXG4gICAgICBrZXk6ICdkZXNjJ1xuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdTdGF0dXMnLFxuICAgICAgZGF0YUluZGV4OiAnc3RhdHVzJyxcbiAgICAgIGtleTogJ3N0YXR1cycsXG4gICAgICBjbGFzc05hbWU6ICd0ZXh0LWNlbnRlcicsXG4gICAgICByZW5kZXI6IHRhZ3MgPT4ge1xuICAgICAgICBjb25zdCBjb2xvciA9IHRhZ3MgPT09ICdBY3RpdmUnID8gJ2dyZWVuJyA6ICd2b2xjYW5vJztcbiAgICAgICAgcmV0dXJuIChcbiAgICAgICAgICA8VGFnIGNvbG9yPXtjb2xvcn0ga2V5PXt0YWdzfT5cbiAgICAgICAgICAgIHt0YWdzfVxuICAgICAgICAgIDwvVGFnPlxuICAgICAgICApO1xuICAgICAgfVxuICAgIH1cbiAgXTtcbiAgY29uc3QgbGlzdFVzZXJHcm91cCA9IHVzZXJHcm91cC5saXN0RGF0YTtcbiAgY29uc3QgZGF0YVNvdXJjZSA9IFtdO1xuICBsaXN0VXNlckdyb3VwLmxlbmd0aCA+IDAgJiZcbiAgICBsaXN0VXNlckdyb3VwLm1hcCh2YWwgPT4ge1xuICAgICAgZGF0YVNvdXJjZS5wdXNoKHtcbiAgICAgICAga2V5OiB2YWxbMF0sXG4gICAgICAgIG5hbWU6IHZhbFsxXSxcbiAgICAgICAgZGVzYzogdmFsWzJdLFxuICAgICAgICBzdGF0dXM6IHZhbFszXSA9PT0gJ0EnID8gJ0FjdGl2ZScgOiAnVGVybWluYXRlZCdcbiAgICAgIH0pO1xuICAgIH0pO1xuICBjb25zdCByb3dDaGVja1NlbGVjdGlvbiA9IHtcbiAgICBzZWxlY3RlZFJvd0tleXMsXG4gICAgb25DaGFuZ2U6IGUgPT4gb25TZWxlY3RDaGFuZ2UoZSlcbiAgfTtcbiAgY29uc3QgYWRkR3JvdXAgPSAoKSA9PiB7XG4gICAgaWYgKHNlbGVjdGVkUm93S2V5cy5sZW5ndGggPiAwKSB7XG4gICAgICBzYXZlQWRkR3JvdXAoc2VsZWN0ZWRSb3dLZXlzKTtcbiAgICAgIGhhbmRsZU1vZGFsQWRkR3JvdXAoZmFsc2UpO1xuICAgIH0gZWxzZSB7XG4gICAgICBtZXNzYWdlLndhcm5pbmcoJ0ZpZWxkcyBpcyBlbXB0eSEnKTtcbiAgICB9XG4gIH07XG4gIHJldHVybiAoXG4gICAgPE1vZGFsXG4gICAgICB2aXNpYmxlPXttb2RhbEdyb3VwVmlzaWJsZX1cbiAgICAgIHdpZHRoPVwiNzAwcHhcIlxuICAgICAgZm9vdGVyPXtbXG4gICAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgICA8QnV0dG9uIGtleT1cImNhbmNlbFwiIG9uQ2xpY2s9eygpID0+IGhhbmRsZU1vZGFsQWRkR3JvdXAoZmFsc2UpfT5cbiAgICAgICAgICAgIENhbmNlbFxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgICxcbiAgICAgICAgICA8QnV0dG9uIGtleT1cImZvcndhcmRcIiB0eXBlPVwicHJpbWFyeVwiIG9uQ2xpY2s9e2FkZEdyb3VwfT5cbiAgICAgICAgICAgIFNhdmVcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgIF19XG4gICAgICB0aXRsZT17W1xuICAgICAgICA8c3BhbiBrZXk9e3Nob3J0SWQuZ2VuZXJhdGUoKX0+XG4gICAgICAgICAgPGgzIGNsYXNzTmFtZT1cImhlYWRlci10aXRsZSBtYi0wXCI+QUREIFVTRVIgR1JPVVA8L2gzPlxuICAgICAgICA8L3NwYW4+XG4gICAgICBdfVxuICAgICAgb25DYW5jZWw9eygpID0+IGhhbmRsZU1vZGFsQWRkR3JvdXAoKX1cbiAgICA+XG4gICAgICA8VGFibGVcbiAgICAgICAgZGF0YVNvdXJjZT17ZGF0YVNvdXJjZX1cbiAgICAgICAgY2xhc3NOYW1lPVwidGFibGUtbW9kYWxcIlxuICAgICAgICBjb2x1bW5zPXtjb2x1bW5zfVxuICAgICAgICBzY3JvbGw9e3sgeTogMzQwIH19XG4gICAgICAgIHJvd1NlbGVjdGlvbj17cm93Q2hlY2tTZWxlY3Rpb259XG4gICAgICAvPlxuICAgIDwvTW9kYWw+XG4gICk7XG59KTtcblxuY2xhc3MgVXNlck1hbmFnZW1lbnQgZXh0ZW5kcyBQdXJlQ29tcG9uZW50IHtcbiAgY29uc3RydWN0b3IocHJvcHMpIHtcbiAgICBzdXBlcihwcm9wcyk7XG4gICAgdGhpcy5zdGF0ZSA9IHtcbiAgICAgIGN1cnJlbnRTdGVwOiAwLFxuICAgICAgZm9ybVZhbHVlczoge1xuICAgICAgICBpZDogJycsXG4gICAgICAgIE5hbWU6ICcnLFxuICAgICAgICBEZXNjcmlwdGlvbjogJycsXG4gICAgICAgIEJyYW5jaElEOiAnJyxcbiAgICAgICAgU2FsZXNJRDogJydcbiAgICAgIH0sXG4gICAgICBzdGVwRm9ybVZhbHVlczoge30sXG4gICAgICBzZWxlY3RlZFJvd0tleXM6IFtdLFxuICAgICAgbW9kYWxHcm91cFZpc2libGU6IGZhbHNlLFxuICAgICAgbW9kYWxVc2VyVmlzaWJsZTogZmFsc2UsXG4gICAgICBsb2FkaW5nTGlzdDogZmFsc2VcbiAgICB9O1xuICAgIHRoaXMuZm9ybUxheW91dCA9IHtcbiAgICAgIGxhYmVsQ29sOiB7IHNwYW46IDcgfSxcbiAgICAgIHdyYXBwZXJDb2w6IHsgc3BhbjogMTMgfVxuICAgIH07XG4gIH1cblxuICBjb21wb25lbnREaWRNb3VudCA9ICgpID0+IHtcbiAgICB0aGlzLnByb3BzLmxpc3RCcmFuY2goKTtcbiAgICB0aGlzLnByb3BzLmxpc3RTYWxlcygpO1xuICAgIHRoaXMucHJvcHMubGlzdFVzZXJHcm91cCgpO1xuICB9O1xuXG4gIGNvbXBvbmVudFdpbGxSZWNlaXZlUHJvcHMgPSBuZXh0UHJvcHMgPT4ge1xuICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nTGlzdDogdHJ1ZSB9KTtcbiAgICBpZiAobmV4dFByb3BzLmRhdGEuc3VjY2VzcyAhPT0gdGhpcy5wcm9wcy5kYXRhLnN1Y2Nlc3MpIHtcbiAgICAgIHRoaXMuc2V0U3RhdGUoeyBsb2FkaW5nTGlzdDogZmFsc2UgfSk7XG4gICAgfVxuICB9O1xuXG4gIGNvbXBvbmVudERpZFVwZGF0ZSA9IG5leHRQcm9wcyA9PiB7XG4gICAgY29uc3QgeyB1c2VySWQgfSA9IHRoaXMucHJvcHMuZGF0YTtcbiAgICBpZiAobmV4dFByb3BzLmRhdGEudXNlcklkICE9PSB1c2VySWQpIHtcbiAgICAgIHRoaXMucHJvcHMudXNlckFkZERvbWFpbih1c2VySWQpO1xuICAgICAgdGhpcy5wcm9wcy5tbmVtb25pYyh1c2VySWQpO1xuICAgICAgdGhpcy5wcm9wcy5zaG93RGF0YSh1c2VySWQpO1xuICAgIH1cbiAgfTtcblxuICBoYW5kbGVOZXh0ID0gY3VycmVudFN0ZXAgPT4ge1xuICAgIGNvbnN0IHsgZm9ybSwgaGFuZGxlVXBkYXRlIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnN0IHsgZm9ybVZhbHVlczogb2xkVmFsdWUgfSA9IHRoaXMuc3RhdGU7XG4gICAgZm9ybS52YWxpZGF0ZUZpZWxkcygoZXJyLCBmaWVsZHNWYWx1ZSkgPT4ge1xuICAgICAgaWYgKGVycikgcmV0dXJuO1xuICAgICAgY29uc3QgZm9ybVZhbHVlcyA9IHsgLi4ub2xkVmFsdWUsIC4uLmZpZWxkc1ZhbHVlIH07XG4gICAgICB0aGlzLnNldFN0YXRlKHsgZm9ybVZhbHVlcyB9LCAoKSA9PiB7XG4gICAgICAgIGlmIChjdXJyZW50U3RlcCA8IDIpIHtcbiAgICAgICAgICB0aGlzLmZvcndhcmQoKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoY3VycmVudFN0ZXAgPT09IDApIHtcbiAgICAgICAgICB0aGlzLmhhbmRsZVVwZGF0ZVVzZXIoZm9ybVZhbHVlcyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICB9O1xuXG4gIC8vIHNhdmUgc3RlcCAwXG4gIGhhbmRsZVVwZGF0ZVVzZXIgPSBmaWVsZHMgPT4ge1xuICAgIGlmIChmaWVsZHMuaWQgIT09ICcnKSB7XG4gICAgICB0aGlzLnByb3BzLnVwZGF0ZURhdGEoZmllbGRzLmlkLCBmaWVsZHMpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnByb3BzLnNhdmVEYXRhKGZpZWxkcyk7XG4gICAgfVxuICB9O1xuXG4gIC8vIHNhdmUgc3RlcCAxXG4gIHNhdmVBZGRHcm91cCA9IGZpZWxkc0dyb3VwID0+IHtcbiAgICBjb25zdCB7IHVzZXJJZCB9ID0gdGhpcy5wcm9wcy5kYXRhO1xuICAgIHRoaXMucHJvcHMuc2F2ZUFkZEdyb3VwVXNlcih1c2VySWQsIGZpZWxkc0dyb3VwKTtcbiAgfTtcblxuICBoYW5kbGVEZWxldGVHcm91cCA9ICh1c2VySWQsIGdyb3VwSWQpID0+IHtcbiAgICBncm91cElkICE9PSAnJyAmJiB0aGlzLnByb3BzLmRlbGV0ZUdyb3VwVXNlcih1c2VySWQsIGdyb3VwSWQpO1xuICB9O1xuXG4gIGJhY2t3YXJkID0gKCkgPT4ge1xuICAgIGNvbnN0IHsgY3VycmVudFN0ZXAgfSA9IHRoaXMuc3RhdGU7XG4gICAgdGhpcy5zZXRTdGF0ZSh7XG4gICAgICBjdXJyZW50U3RlcDogY3VycmVudFN0ZXAgLSAxXG4gICAgfSk7XG4gIH07XG5cbiAgZm9yd2FyZCA9ICgpID0+IHtcbiAgICBjb25zdCB7IGN1cnJlbnRTdGVwIH0gPSB0aGlzLnN0YXRlO1xuICAgIHRoaXMuc2V0U3RhdGUoe1xuICAgICAgY3VycmVudFN0ZXA6IGN1cnJlbnRTdGVwICsgMVxuICAgIH0pO1xuICB9O1xuXG4gIG9uU2VsZWN0Q2hhbmdlID0gc2VsZWN0ZWRSb3dLZXlzID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgc2VsZWN0ZWRSb3dLZXlzIH0pO1xuICB9O1xuXG4gIGhhbmRsZU1vZGFsQWRkR3JvdXAgPSBmbGFnID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbW9kYWxHcm91cFZpc2libGU6ICEhZmxhZyB9KTtcbiAgfTtcblxuICBoYW5kbGVDaGlsZE1uZW1vbmljID0gKHVzZXJJZCwgbW9kdWxlSWQpID0+IHtcbiAgICB0aGlzLnNldFN0YXRlKHsgbG9hZGluZ0xpc3Q6IHRydWUgfSk7XG4gICAgdXNlcklkICE9PSAnJyAmJiB0aGlzLnByb3BzLm1uZW1vbmljKHVzZXJJZCwgbW9kdWxlSWQpO1xuICB9O1xuXG4gIHJlbmRlckl0ZW1NbmVtb25pYyA9ICh1c2VySWQsIGl0ZW0pID0+IHtcbiAgICByZXR1cm4gKFxuICAgICAgPEZyYWdtZW50PlxuICAgICAgICA8TGlzdC5JdGVtIGtleT17aXRlbS5pZH0+XG4gICAgICAgICAgPExpc3QuSXRlbS5NZXRhXG4gICAgICAgICAgICBhdmF0YXI9ezxBdmF0YXIgc3JjPVwiaHR0cHM6Ly9pbWcuaWNvbnM4LmNvbS9jb2xvci80OC8wMDAwMDAvZm9sZGVyLWludm9pY2VzLnBuZ1wiIC8+fVxuICAgICAgICAgICAgdGl0bGU9eyhcbiAgICAgICAgICAgICAgPE5hdkxpbmtcbiAgICAgICAgICAgICAgICB0bz17eyBwYXRobmFtZTogYC91c2VyL3VzZXItbWFuYWdlbWVudC8ke2l0ZW0ubmFtZX1gLCBoYXNoOiAnIycgfX1cbiAgICAgICAgICAgICAgICBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZUNoaWxkTW5lbW9uaWModXNlcklkLCBpdGVtLmlkKX1cbiAgICAgICAgICAgICAgPlxuICAgICAgICAgICAgICAgIHtpdGVtLm5hbWV9XG4gICAgICAgICAgICAgIDwvTmF2TGluaz5cbiAgICAgICAgICAgICAgKX1cbiAgICAgICAgICAvPlxuICAgICAgICA8L0xpc3QuSXRlbT5cbiAgICAgIDwvRnJhZ21lbnQ+XG4gICAgKTtcbiAgfTtcblxuICByZW5kZXJDb250ZW50ID0gKGN1cnJlbnRTdGVwLCBmb3JtVmFsdWVzKSA9PiB7XG4gICAgY29uc3QgeyBmb3JtLCBicmFuY2gsIHNhbGVzLCBkYXRhIH0gPSB0aGlzLnByb3BzO1xuICAgIGNvbnNvbGUubG9nKHRoaXMucHJvcHMuZGF0YSk7XG4gICAgY29uc3QgeyBzaG93RGF0YSB9ID0gZGF0YTtcbiAgICBjb25zdCBsaXN0QWRkR3JvdXAgPSBzaG93RGF0YS5Eb21haW4gfHwgW107XG4gICAgY29uc29sZS5sb2coJ2xpc3QgZ3JvdXAnLCBsaXN0QWRkR3JvdXApO1xuICAgIGNvbnN0IHsgdXNlcklkIH0gPSB0aGlzLnByb3BzLmRhdGE7XG4gICAgY29uc3QgY29sdW1ucyA9IFtcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdOYW1lJyxcbiAgICAgICAgZGF0YUluZGV4OiAnbmFtZScsXG4gICAgICAgIGtleTogJ25hbWUnLFxuICAgICAgICB3aWR0aDogJzUwMHB4J1xuICAgICAgfSxcbiAgICAgIHtcbiAgICAgICAgdGl0bGU6ICdBY3Rpb24nLFxuICAgICAgICBrZXk6ICdhY3Rpb24nLFxuICAgICAgICBjbGFzc05hbWU6ICd0ZXh0LWNlbnRlcicsXG4gICAgICAgIHJlbmRlcjogKHRleHQsIHJlY29yZCkgPT4gKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZ2FwLXh5XCI+XG4gICAgICAgICAgICA8UG9wY29uZmlybVxuICAgICAgICAgICAgICB0aXRsZT1cIlN1cmUgdG8gZGVsZXRlP1wiXG4gICAgICAgICAgICAgIG9uQ29uZmlybT17KCkgPT4gdGhpcy5oYW5kbGVEZWxldGVHcm91cCh1c2VySWQsIHJlY29yZC5rZXkpfVxuICAgICAgICAgICAgPlxuICAgICAgICAgICAgICA8SWNvblxuICAgICAgICAgICAgICAgIHR5cGU9XCJjbG9zZS1jaXJjbGVcIlxuICAgICAgICAgICAgICAgIHN0eWxlPXt7IGZvbnRTaXplOiAnMjNweCcgfX1cbiAgICAgICAgICAgICAgICB0aGVtZT1cInR3b1RvbmVcIlxuICAgICAgICAgICAgICAgIHR3b1RvbmVDb2xvcj1cIiNkYzM1NDVcIlxuICAgICAgICAgICAgICAvPlxuICAgICAgICAgICAgPC9Qb3Bjb25maXJtPlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICApXG4gICAgICB9XG4gICAgXTtcblxuICAgIGNvbnN0IGRhdGFTb3VyY2UgPSBbXTtcbiAgICAvLyBsaXN0QWRkR3JvdXAubGVuZ3RoID4gMCAmJlxuICAgIC8vICAgbGlzdEFkZEdyb3VwLm1hcCh2YWwgPT4ge1xuICAgIC8vICAgICBkYXRhU291cmNlLnB1c2goe1xuICAgIC8vICAgICAgIGtleTogdmFsWzBdLFxuICAgIC8vICAgICAgIG5hbWU6IHZhbFsxXVxuICAgIC8vICAgICB9KTtcbiAgICAvLyAgIH0pO1xuXG4gICAgY29uc3QgbGlzdEJyYW5jaCA9IGJyYW5jaC5saXN0RGF0YTtcbiAgICBjb25zdCBsaXN0U2FsZXMgPSBzYWxlcy5saXN0RGF0YTtcbiAgICBpZiAoY3VycmVudFN0ZXAgPT09IDEpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cInJvdyBwYi00XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuICAgICAgICAgICAgICA8QnV0dG9uIHR5cGU9XCJwcmltYXJ5XCIgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVNb2RhbEFkZEdyb3VwKHRydWUpfT5cbiAgICAgICAgICAgICAgICBBZGQgR3JvdXBcbiAgICAgICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8VGFibGVcbiAgICAgICAgICAgIGRhdGFTb3VyY2U9e2RhdGFTb3VyY2V9XG4gICAgICAgICAgICBjbGFzc05hbWU9XCJ0YWJsZS1tb2RhbFwiXG4gICAgICAgICAgICBjb2x1bW5zPXtjb2x1bW5zfVxuICAgICAgICAgICAgc2Nyb2xsPXt7IHk6IDM0MCB9fVxuICAgICAgICAgIC8+XG4gICAgICAgIDwvRnJhZ21lbnQ+XG4gICAgICBdO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFN0ZXAgPT09IDIpIHtcbiAgICAgIGNvbnN0IHsgdHJlZU1uZW1vbmljLCB1c2VySWQgfSA9IHRoaXMucHJvcHMuZGF0YTtcbiAgICAgIGNvbnN0IGxpc3RNbmVtb25pYyA9IFtdO1xuICAgICAgdHJlZU1uZW1vbmljLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgdHJlZU1uZW1vbmljLm1hcCh2YWwgPT4gbGlzdE1uZW1vbmljLnB1c2goeyBpZDogdmFsWzBdLCBuYW1lOiB2YWxbMl0gfSkpO1xuICAgICAgcmV0dXJuIFtcbiAgICAgICAgPEZyYWdtZW50PlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicm93XCI+XG4gICAgICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImNvbC1tZC0xMlwiPlxuICAgICAgICAgICAgICA8QnJlYWRjcnVtYiBzZXBhcmF0b3I9XCI+XCI+XG4gICAgICAgICAgICAgICAgPEJyZWFkY3J1bWIuSXRlbT5Ib21lPC9CcmVhZGNydW1iLkl0ZW0+XG4gICAgICAgICAgICAgIDwvQnJlYWRjcnVtYj5cbiAgICAgICAgICAgIDwvZGl2PlxuICAgICAgICAgICAgPGRpdiBjbGFzc05hbWU9XCJjb2wtbWQtMTJcIj5cbiAgICAgICAgICAgICAgPExpc3RcbiAgICAgICAgICAgICAgICBzaXplPVwic21hbGxcIlxuICAgICAgICAgICAgICAgIGRhdGFTb3VyY2U9e2xpc3RNbmVtb25pY31cbiAgICAgICAgICAgICAgICByZW5kZXJJdGVtPXtpdGVtID0+IHRoaXMucmVuZGVySXRlbU1uZW1vbmljKHVzZXJJZCwgaXRlbSl9XG4gICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9GcmFnbWVudD5cbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBbXG4gICAgICA8RnJhZ21lbnQ+XG4gICAgICAgIDxSb3cgZ3V0dGVyPXsyNX0+XG4gICAgICAgICAgPENvbCBzcGFuPXsyNX0+XG4gICAgICAgICAgICA8Rm9ybUl0ZW0gc3R5bGU9e3sgZGlzcGxheTogJ25vbmUnIH19PlxuICAgICAgICAgICAgICB7Zm9ybS5nZXRGaWVsZERlY29yYXRvcignaWQnLCB7XG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiAoZm9ybVZhbHVlcy5pZCAmJiB1c2VySWQpIHx8ICcnXG4gICAgICAgICAgICAgIH0pKDxJbnB1dCAvPil9XG4gICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwiTmFtZVwiPlxuICAgICAgICAgICAgICB7Zm9ybS5nZXRGaWVsZERlY29yYXRvcignTmFtZScsIHtcbiAgICAgICAgICAgICAgICBydWxlczogW3sgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICdQbGVhc2UgaW5wdXQgeW91ciBuYW1lIScgfV0sXG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBmb3JtVmFsdWVzLk5hbWUgfHwgJydcbiAgICAgICAgICAgICAgfSkoPElucHV0IGNsYXNzTmFtZT1cImZvcm0tY29udHJvbFwiIHNpemU9XCJsYXJnZVwiIHBsYWNlaG9sZGVyPVwiTmFtZVwiIC8+KX1cbiAgICAgICAgICAgIDwvRm9ybUl0ZW0+XG4gICAgICAgICAgPC9Db2w+XG4gICAgICAgIDwvUm93PlxuICAgICAgICA8Um93IGd1dHRlcj17MjV9PlxuICAgICAgICAgIDxDb2wgc3Bhbj17MjV9PlxuICAgICAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwiRGVzY3JpcHRpb25cIj5cbiAgICAgICAgICAgICAge2Zvcm0uZ2V0RmllbGREZWNvcmF0b3IoJ0Rlc2NyaXB0aW9uJywge1xuICAgICAgICAgICAgICAgIHJ1bGVzOiBbeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ1BsZWFzZSBpbnB1dCB5b3VyIGRlc2NyaXB0aW9uIScgfV0sXG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBmb3JtVmFsdWVzLkRlc2NyaXB0aW9uIHx8ICcnXG4gICAgICAgICAgICAgIH0pKFxuICAgICAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICAgICAgY2xhc3NOYW1lPVwiZm9ybS1jb250cm9sXCJcbiAgICAgICAgICAgICAgICAgIHNpemU9XCJsYXJnZVwiXG4gICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIkRlc2NyaXB0aW9uXCJcbiAgICAgICAgICAgICAgICAgIGF1dG9Db21wbGV0ZT1cIkRlc2NcIlxuICAgICAgICAgICAgICAgIC8+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgIDwvQ29sPlxuICAgICAgICA8L1Jvdz5cbiAgICAgICAgPFJvdyBndXR0ZXI9ezI1fT5cbiAgICAgICAgICA8Q29sIHNwYW49ezEyfT5cbiAgICAgICAgICAgIDxGb3JtSXRlbSBsYWJlbD1cIkJyYW5jaFwiPlxuICAgICAgICAgICAgICB7Zm9ybS5nZXRGaWVsZERlY29yYXRvcignQnJhbmNoSUQnLCB7XG4gICAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgYnJhbmNoIScgfV0sXG4gICAgICAgICAgICAgICAgaW5pdGlhbFZhbHVlOiBmb3JtVmFsdWVzLkJyYW5jaElEIHx8ICcnXG4gICAgICAgICAgICAgIH0pKFxuICAgICAgICAgICAgICAgIDxTZWxlY3Qgc2l6ZT1cImxhcmdlXCIgcGxhY2Vob2xkZXI9XCJDaG9vc2UgQnJhbmNoXCIgY2xhc3NOYW1lPVwidy0xMDBcIj5cbiAgICAgICAgICAgICAgICAgIHtsaXN0QnJhbmNoLmxlbmd0aCA+IDAgJiZcbiAgICAgICAgICAgICAgICAgICAgbGlzdEJyYW5jaC5tYXAodmFsID0+IChcbiAgICAgICAgICAgICAgICAgICAgICA8T3B0aW9ucyBrZXk9e3Nob3J0SWQuZ2VuZXJhdGUoKX0gdmFsdWU9e3ZhbFswXX0+XG4gICAgICAgICAgICAgICAgICAgICAgICB7dmFsWzJdfVxuICAgICAgICAgICAgICAgICAgICAgIDwvT3B0aW9ucz5cbiAgICAgICAgICAgICAgICAgICAgKSl9XG4gICAgICAgICAgICAgICAgPC9TZWxlY3Q+XG4gICAgICAgICAgICAgICl9XG4gICAgICAgICAgICA8L0Zvcm1JdGVtPlxuICAgICAgICAgIDwvQ29sPlxuICAgICAgICAgIDxDb2wgc3Bhbj17MTJ9PlxuICAgICAgICAgICAgPEZvcm1JdGVtIGxhYmVsPVwiU2FsZXNcIj5cbiAgICAgICAgICAgICAge2Zvcm0uZ2V0RmllbGREZWNvcmF0b3IoJ1NhbGVzSUQnLCB7XG4gICAgICAgICAgICAgICAgcnVsZXM6IFt7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAnUGxlYXNlIGlucHV0IHlvdXIgYnJhY2ghJyB9XSxcbiAgICAgICAgICAgICAgICBpbml0aWFsVmFsdWU6IGZvcm1WYWx1ZXMuU2FsZXNJRCB8fCAnJ1xuICAgICAgICAgICAgICB9KShcbiAgICAgICAgICAgICAgICA8U2VsZWN0IHNpemU9XCJsYXJnZVwiIHBsYWNlaG9sZGVyPVwiQ2hvb3NlIFNhbGVzXCIgY2xhc3NOYW1lPVwidy0xMDBcIj5cbiAgICAgICAgICAgICAgICAgIHtsaXN0U2FsZXMubGVuZ3RoID4gMCAmJlxuICAgICAgICAgICAgICAgICAgICBsaXN0U2FsZXMubWFwKHZhbCA9PiAoXG4gICAgICAgICAgICAgICAgICAgICAgPE9wdGlvbnMga2V5PXtzaG9ydElkLmdlbmVyYXRlKCl9IHZhbHVlPXt2YWxbMF19PlxuICAgICAgICAgICAgICAgICAgICAgICAge3ZhbFsxXX1cbiAgICAgICAgICAgICAgICAgICAgICA8L09wdGlvbnM+XG4gICAgICAgICAgICAgICAgICAgICkpfVxuICAgICAgICAgICAgICAgIDwvU2VsZWN0PlxuICAgICAgICAgICAgICApfVxuICAgICAgICAgICAgPC9Gb3JtSXRlbT5cbiAgICAgICAgICA8L0NvbD5cbiAgICAgICAgPC9Sb3c+XG4gICAgICA8L0ZyYWdtZW50PlxuICAgIF07XG4gIH07XG5cbiAgcmVuZGVyRm9vdGVyID0gY3VycmVudFN0ZXAgPT4ge1xuICAgIGNvbnN0IHsgc3RlcEZvcm1WYWx1ZXMgfSA9IHRoaXMucHJvcHM7XG4gICAgaWYgKGN1cnJlbnRTdGVwID09PSAxKSB7XG4gICAgICByZXR1cm4gW1xuICAgICAgICA8QnV0dG9uIGtleT1cImJhY2tcIiB0eXBlPVwicHJpbWFyeVwiIHN0eWxlPXt7IGZsb2F0OiAnbGVmdCcgfX0gb25DbGljaz17dGhpcy5iYWNrd2FyZH0+XG4gICAgICAgICAgQmFja1xuICAgICAgICA8L0J1dHRvbj4sXG4gICAgICAgIDxCdXR0b24ga2V5PVwiY2FuY2VsXCIgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVNb2RhbFZpc2libGUoZmFsc2UsIHN0ZXBGb3JtVmFsdWVzKX0+XG4gICAgICAgICAgQ2FuY2VsXG4gICAgICAgIDwvQnV0dG9uPixcbiAgICAgICAgPEJ1dHRvbiBrZXk9XCJmb3J3YXJkXCIgdHlwZT1cInByaW1hcnlcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZU5leHQoY3VycmVudFN0ZXApfT5cbiAgICAgICAgICBTYXZlICZhbXA7IE5leHRcbiAgICAgICAgPC9CdXR0b24+XG4gICAgICBdO1xuICAgIH1cbiAgICBpZiAoY3VycmVudFN0ZXAgPT09IDIpIHtcbiAgICAgIHJldHVybiBbXG4gICAgICAgIDxCdXR0b24ga2V5PVwiYmFja1wiIHR5cGU9XCJwcmltYXJ5XCIgc3R5bGU9e3sgZmxvYXQ6ICdsZWZ0JyB9fSBvbkNsaWNrPXt0aGlzLmJhY2t3YXJkfT5cbiAgICAgICAgICBCYWNrXG4gICAgICAgIDwvQnV0dG9uPixcbiAgICAgICAgPEJ1dHRvbiBrZXk9XCJjYW5jZWxcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZU1vZGFsVmlzaWJsZShmYWxzZSwgc3RlcEZvcm1WYWx1ZXMpfT5cbiAgICAgICAgICBDYW5jZWxcbiAgICAgICAgPC9CdXR0b24+LFxuICAgICAgICA8QnV0dG9uIGtleT1cImZvcndhcmRcIiB0eXBlPVwicHJpbWFyeVwiIG9uQ2xpY2s9eygpID0+IHRoaXMuaGFuZGxlTmV4dChjdXJyZW50U3RlcCl9PlxuICAgICAgICAgIFNhdmUgJmFtcDsgRmluaXNoXG4gICAgICAgIDwvQnV0dG9uPlxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIFtcbiAgICAgIDxCdXR0b24ga2V5PVwiY2FuY2VsXCIgb25DbGljaz17KCkgPT4gdGhpcy5oYW5kbGVNb2RhbFZpc2libGUoZmFsc2UsIHN0ZXBGb3JtVmFsdWVzKX0+XG4gICAgICAgIENhbmNlbFxuICAgICAgPC9CdXR0b24+LFxuICAgICAgPEJ1dHRvbiBrZXk9XCJmb3J3YXJkXCIgdHlwZT1cInByaW1hcnlcIiBvbkNsaWNrPXsoKSA9PiB0aGlzLmhhbmRsZU5leHQoY3VycmVudFN0ZXApfT5cbiAgICAgICAgU2F2ZSAmYW1wOyBOZXh0XG4gICAgICA8L0J1dHRvbj5cbiAgICBdO1xuICB9O1xuXG4gIHN0YXRpYyBjb2x1bW5zID0gW1xuICAgIHtcbiAgICAgIHRpdGxlOiAnTmFtZScsXG4gICAgICBkYXRhSW5kZXg6ICduYW1lJyxcbiAgICAgIGtleTogJ25hbWUnLFxuICAgICAgd2lkdGg6ICcyMDBweCcsXG4gICAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLm5hbWUubGVuZ3RoIC0gYi5uYW1lLmxlbmd0aCxcbiAgICAgIHNvcnREaXJlY3Rpb25zOiBbJ2Rlc2NlbmQnLCAnYXNjZW5kJ11cbiAgICB9LFxuICAgIHtcbiAgICAgIHRpdGxlOiAnQnJhbmNoJyxcbiAgICAgIGRhdGFJbmRleDogJ2JyYW5jaE5hbWUnLFxuICAgICAga2V5OiAnYnJhbmNoTmFtZScsXG4gICAgICB3aWR0aDogJzIwMHB4JyxcbiAgICAgIHNvcnRlcjogKGEsIGIpID0+IGEuYnJhbmNoTmFtZS5sZW5ndGggLSBiLmJyYW5jaE5hbWUubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXVxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdTYWxlcycsXG4gICAgICBkYXRhSW5kZXg6ICdzYWxlc05hbWUnLFxuICAgICAga2V5OiAnc2FsZXNOYW1lJyxcbiAgICAgIHdpZHRoOiAnMjAwcHgnLFxuICAgICAgc29ydGVyOiAoYSwgYikgPT4gYS5zYWxlc05hbWUubGVuZ3RoIC0gYi5zYWxlc05hbWUubGVuZ3RoLFxuICAgICAgc29ydERpcmVjdGlvbnM6IFsnZGVzY2VuZCcsICdhc2NlbmQnXVxuICAgIH0sXG4gICAge1xuICAgICAgdGl0bGU6ICdEZXNjJyxcbiAgICAgIGRhdGFJbmRleDogJ2Rlc2NyaXB0aW9uJyxcbiAgICAgIGtleTogJ2Rlc2NyaXB0aW9uJyxcbiAgICAgIHdpZHRoOiAnMjAwcHgnLFxuICAgICAgc29ydGVyOiAoYSwgYikgPT4gYS5uYW1lLmxlbmd0aCAtIGIubmFtZS5sZW5ndGgsXG4gICAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddXG4gICAgfSxcbiAgICB7XG4gICAgICB0aXRsZTogJ1N0YXR1cycsXG4gICAgICBkYXRhSW5kZXg6ICdzdGF0dXMnLFxuICAgICAga2V5OiAnc3RhdHVzJyxcbiAgICAgIGNsYXNzTmFtZTogJ3RleHQtY2VudGVyJyxcbiAgICAgIHdpZHRoOiAnODBweCcsXG4gICAgICBzb3J0ZXI6IChhLCBiKSA9PiBhLnN0YXR1cy5sZW5ndGggLSBiLnN0YXR1cy5sZW5ndGgsXG4gICAgICBzb3J0RGlyZWN0aW9uczogWydkZXNjZW5kJywgJ2FzY2VuZCddLFxuICAgICAgcmVuZGVyOiB0YWdzID0+IHtcbiAgICAgICAgY29uc3QgY29sb3IgPSB0YWdzID09PSAnQWN0aXZlJyA/ICdncmVlbicgOiAndm9sY2Fubyc7XG4gICAgICAgIHJldHVybiAoXG4gICAgICAgICAgPFRhZyBjb2xvcj17Y29sb3J9IGtleT17dGFnc30+XG4gICAgICAgICAgICB7dGFnc31cbiAgICAgICAgICA8L1RhZz5cbiAgICAgICAgKTtcbiAgICAgIH1cbiAgICB9XG4gIF07XG5cbiAgc3RhdGljIGRhdGFUYWJsZSA9IGRhdGEgPT4ge1xuICAgIGNvbnN0IGRhdGFUYWJsZSA9IFtdO1xuICAgIGRhdGEubGVuZ3RoID4gMCAmJlxuICAgICAgZGF0YS5tYXAodmFsID0+XG4gICAgICAgIGRhdGFUYWJsZS5wdXNoKHtcbiAgICAgICAgICBrZXk6IHZhbFswXSxcbiAgICAgICAgICBuYW1lOiB2YWxbMV0sXG4gICAgICAgICAgYnJhbmNoSWQ6IHZhbFs0XSxcbiAgICAgICAgICBicmFuY2hOYW1lOiB2YWxbNV0sXG4gICAgICAgICAgc2FsZXNJZDogdmFsWzZdLFxuICAgICAgICAgIHNhbGVzTmFtZTogdmFsWzddLFxuICAgICAgICAgIGRlc2NyaXB0aW9uOiB2YWxbMl0sXG4gICAgICAgICAgc3RhdHVzOiB2YWxbOF0gPT09ICdBJyA/ICdBY3RpdmUnIDogJ1Rlcm1pbmF0ZWQnXG4gICAgICAgIH0pXG4gICAgICApO1xuICAgIHJldHVybiBkYXRhVGFibGU7XG4gIH07XG5cbiAgcmVuZGVyKCkge1xuICAgIGNvbnN0IGN1cnJlbnRGdW5jdGlvbiA9IHtcbiAgICAgIHJlbmRlckNvbnRlbnQ6IHRoaXMucmVuZGVyQ29udGVudCxcbiAgICAgIHJlbmRlckZvb3RlcjogdGhpcy5yZW5kZXJGb290ZXJcbiAgICB9O1xuICAgIGNvbnN0IGN1cnJlbnRGdW5jdGlvbkFkZEdyb3VwID0ge1xuICAgICAgc2F2ZUFkZEdyb3VwOiB0aGlzLnNhdmVBZGRHcm91cCxcbiAgICAgIGhhbmRsZU1vZGFsQWRkR3JvdXA6IHRoaXMuaGFuZGxlTW9kYWxBZGRHcm91cFxuICAgIH07XG4gICAgcmV0dXJuIChcbiAgICAgIDxGcmFnbWVudD5cbiAgICAgICAgPE1vZGFsQWRkR3JvdXBcbiAgICAgICAgICB7Li4udGhpcy5zdGF0ZX1cbiAgICAgICAgICB7Li4udGhpcy5wcm9wc31cbiAgICAgICAgICBvblNlbGVjdENoYW5nZT17dGhpcy5vblNlbGVjdENoYW5nZX1cbiAgICAgICAgICB7Li4uY3VycmVudEZ1bmN0aW9uQWRkR3JvdXB9XG4gICAgICAgIC8+XG4gICAgICAgIDxGb3JtVXNlciB7Li4udGhpcy5wcm9wc30gey4uLnRoaXMuc3RhdGV9IHsuLi5jdXJyZW50RnVuY3Rpb259IC8+XG4gICAgICA8L0ZyYWdtZW50PlxuICAgICk7XG4gIH1cbn1cblVzZXJNYW5hZ2VtZW50LnByb3BUeXBlcyA9IHtcbiAgbGlzdERhdGE6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWQsXG4gIHNhdmVEYXRhOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICBzaG93RGF0YTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgdXBkYXRlRGF0YTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgZGVsZXRlRGF0YTogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgbGlzdEJyYW5jaDogUHJvcFR5cGVzLmZ1bmMuaXNSZXF1aXJlZCxcbiAgbGlzdFNhbGVzOiBQcm9wVHlwZXMuZnVuYy5pc1JlcXVpcmVkLFxuICB1cGRhdGVVc2VyR3JvdXA6IFByb3BUeXBlcy5mdW5jLmlzUmVxdWlyZWRcbn07XG5cbmNvbnN0IG1hcFN0YXRlVG9Qcm9wcyA9ICh7IHVzZXIsIGJyYW5jaCwgc2FsZXMsIHVzZXJHcm91cCB9KSA9PiAoe1xuICBkYXRhOiB1c2VyLFxuICBicmFuY2gsXG4gIHNhbGVzLFxuICB1c2VyR3JvdXBcbn0pO1xuXG5leHBvcnQgZGVmYXVsdCBjb25uZWN0KFxuICBtYXBTdGF0ZVRvUHJvcHMsXG4gIHtcbiAgICBsaXN0VXNlckdyb3VwLFxuICAgIHVwZGF0ZVVzZXJHcm91cCxcbiAgICBsaXN0QnJhbmNoLFxuICAgIGxpc3RTYWxlcyxcbiAgICBsaXN0RGF0YSxcbiAgICBzYXZlRGF0YSxcbiAgICBzaG93RGF0YSxcbiAgICB1cGRhdGVEYXRhLFxuICAgIGRlbGV0ZURhdGEsXG4gICAgdXNlckFkZERvbWFpbixcbiAgICBzYXZlQWRkR3JvdXBVc2VyLFxuICAgIGRlbGV0ZUdyb3VwVXNlcixcbiAgICBtbmVtb25pY1xuICB9XG4pKFxuICBEYXRhVGFibGUoe1xuICAgIGNvbHVtbnM6IFVzZXJNYW5hZ2VtZW50LmNvbHVtbnMsXG4gICAgZGF0YVRhYmxlOiBVc2VyTWFuYWdlbWVudC5kYXRhVGFibGUsXG4gICAgaGVhZFRpdGxlOiAnVXNlciBNYW5hZ2VtZW50J1xuICB9KShGb3JtLmNyZWF0ZSgpKFVzZXJNYW5hZ2VtZW50KSlcbik7XG4iLCJpbXBvcnQgYXhpb3MgZnJvbSAnYXhpb3MnO1xuaW1wb3J0IHsgQVBJIH0gZnJvbSAnLi4vLi4vY29uZmlnL2tleXMnO1xuXG5jb25zdCB2YWxpZEtleSA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKCdrZXknKTtcbmV4cG9ydCBjb25zdCBkYXRhUmVxdWVzdCA9ICgpID0+IGFzeW5jIGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goe1xuICAgIHR5cGU6ICdEQVRBX1JFUVVFU1QnXG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBlcnJvciA9IG1lc3NhZ2UgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaCh7XG4gICAgdHlwZTogJ0VSUk9SJyxcbiAgICBwYXlsb2FkOiBtZXNzYWdlXG4gIH0pO1xufTtcbi8vIGxpc3QgdXNlclxuZXhwb3J0IGNvbnN0IGxpc3REYXRhID0gcGFyID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0geyB4OiAnMScsIGtleTogYCR7dmFsaWRLZXl9YCB9O1xuICBjb25zdCBmaWxQYXJhbSA9IE9iamVjdC5hc3NpZ24oe30sIHBhcmFtLCBwYXIpO1xuICBheGlvcy5wb3N0KGAke0FQSX06YWNsOmdyb3VwYCwgZmlsUGFyYW0pLnRoZW4ocmVzID0+IHtcbiAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbiAgICAgIGRpc3BhdGNoKHtcbiAgICAgICAgdHlwZTogJ0xJU1RfVVNFUl9HUk9VUCcsXG4gICAgICAgIHBheWxvYWQ6IHJlcy5kYXRhLmF0b20sXG4gICAgICAgIGZpbFBhcmFtXG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4gICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4gICAgfVxuICB9KTtcbn07XG5cbmV4cG9ydCBjb25zdCBzYXZlRGF0YSA9IHBhciA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMTAxJyxcbiAgICBpZDogJzAnLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBOYW1lOiBwYXIuTmFtZSxcbiAgICBEZXNjcmlwdGlvbjogcGFyLkRlc2NyaXB0aW9uLFxuICAgIEFjdGl2ZTogJ0EnXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnU0FWRV9VU0VSX0dST1VQJyxcbiAgICAgICAgcGF5bG9hZDogcmVzLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCB1cGRhdGVEYXRhID0gKGlkVXNlciwgcGFyKSA9PiBkaXNwYXRjaCA9PiB7XG4gIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuICBjb25zdCBwYXJhbSA9IHtcbiAgICB4OiAnMTAxJyxcbiAgICBpZDogaWRVc2VyLFxuICAgIGtleTogYCR7dmFsaWRLZXl9YCxcbiAgICBOYW1lOiBwYXIuTmFtZSxcbiAgICBEZXNjcmlwdGlvbjogcGFyLkRlc2NyaXB0aW9uXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnVVBEQVRFX1VTRVJfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuZXhwb3J0IGNvbnN0IHNob3dEYXRhID0gaWRVc2VyID0+IGFzeW5jIGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICc1MCcsXG4gICAgaWQ6IGlkVXNlcixcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWBcbiAgfTtcbiAgYXdhaXQgYXhpb3MucG9zdChgJHtBUEl9OmFjbDpncm91cGAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdTSE9XX1VTRVJfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBmaWx0ZXJTdGF0dXMgPSBwYXIgPT4gZGlzcGF0Y2ggPT4ge1xuICBkaXNwYXRjaChkYXRhUmVxdWVzdCgpKTtcbiAgY29uc3QgcGFyYW0gPSB7XG4gICAgeDogJzUwJyxcbiAgICBrZXk6IGAke3ZhbGlkS2V5fWAsXG4gICAgQWN0aXZlOiBwYXJcbiAgfTtcbiAgYXhpb3MucG9zdChgJHtBUEl9OmFjbDpncm91cGAsIHBhcmFtKS50aGVuKHJlcyA9PiB7XG4gICAgaWYgKHJlcy5kYXRhLnIgPT09ICcyMDAnKSB7XG4gICAgICBkaXNwYXRjaCh7XG4gICAgICAgIHR5cGU6ICdMSVNUX1VTRVJfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tLmRhdGFcbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAocmVzLmRhdGEuciA9PT0gJzQwMScpIHtcbiAgICAgIGRpc3BhdGNoKGVycm9yKHJlcy5kYXRhLm0pKTtcbiAgICB9XG4gIH0pO1xufTtcbmV4cG9ydCBjb25zdCBkZWxldGVEYXRhID0gaWRCYW5rID0+IGRpc3BhdGNoID0+IHtcbiAgZGlzcGF0Y2goZGF0YVJlcXVlc3QoKSk7XG4gIGNvbnN0IHBhcmFtID0ge1xuICAgIHg6ICcyMDEnLFxuICAgIGlkOiBpZEJhbmssXG4gICAga2V5OiBgJHt2YWxpZEtleX1gXG4gIH07XG4gIGF4aW9zLnBvc3QoYCR7QVBJfTphY2w6Z3JvdXBgLCBwYXJhbSkudGhlbihyZXMgPT4ge1xuICAgIGlmIChyZXMuZGF0YS5yID09PSAnMjAwJykge1xuICAgICAgZGlzcGF0Y2goe1xuICAgICAgICB0eXBlOiAnREVMRVRFX1VTRVJfR1JPVVAnLFxuICAgICAgICBwYXlsb2FkOiByZXMuZGF0YVxuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmIChyZXMuZGF0YS5yID09PSAnNDAxJykge1xuICAgICAgZGlzcGF0Y2goZXJyb3IocmVzLmRhdGEubSkpO1xuICAgIH1cbiAgfSk7XG59O1xuXG4vLyBleHBvcnQgY29uc3QgdXNlckFkZERvbWFpbiA9IHVzZXJJZCA9PiBkaXNwYXRjaCA9PiB7XG4vLyAgIGRpc3BhdGNoKGRhdGFSZXF1ZXN0KCkpO1xuLy8gICBjb25zdCBwYXJhbSA9IHsgeDogJzUwMCcsIGtleTogYCR7dmFsaWRLZXl9YCwgZm9yOiAndXNlci1kb21haW4nLCBVc2VySUQ6IHVzZXJJZCB9O1xuLy8gICBheGlvcy5wb3N0KGAke0FQSX06YWNsOmdyb3VwYCwgcGFyYW0pLnRoZW4ocmVzID0+IHtcbi8vICAgICBpZiAocmVzLmRhdGEuciA9PT0gJzIwMCcpIHtcbi8vICAgICAgIGRpc3BhdGNoKHtcbi8vICAgICAgICAgdHlwZTogJ0xJU1RfVVNFUl9BRERfR1JPVVAnLFxuLy8gICAgICAgICBwYXlsb2FkOiByZXMuZGF0YS5hdG9tXG4vLyAgICAgICB9KTtcbi8vICAgICB9IGVsc2UgaWYgKHJlcy5kYXRhLnIgPT09ICc0MDEnKSB7XG4vLyAgICAgICBkaXNwYXRjaChlcnJvcihyZXMuZGF0YS5tKSk7XG4vLyAgICAgfVxuLy8gICB9KTtcbi8vIH07XG4iXSwic291cmNlUm9vdCI6IiJ9